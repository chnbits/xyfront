(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manifest"],{"0c40":function(e,t,a){},"0c66":function(e,t,a){},"10be":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderList",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header,showDev:e.$store.state.app.showDev}})],1)},r=[],o=(a("b64b"),a("e6e1")),n=a("21b3"),s={name:"XyBuilderListRoute",components:{XyBuilderList:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:""}},beforeMount:function(){this.loadData()},created:function(){},methods:{loadData:function(){if("dylist"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"1b8c":function(e,t,a){"use strict";a("0c40")},"214d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-remote"},[a(e.currentView,e._b({tag:"component",on:{close:e.closeModal},model:{value:e.formValue,callback:function(t){e.formValue=t},expression:"formValue"}},"component",e.$props,!1))],1)},r=[],o=a("1da1"),n=(a("96cf"),a("a9e3"),a("fb6a"),a("99af"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("466d"),{props:{value:{type:[Object,Array,String,Number],default:function(){return{}}},formValues:{type:Object,default:function(){return{cloudId:0,eid:0}}},header:{type:Object,default:function(){return{cloudId:0,eid:0}}},show:!1,predata:"",item:{type:Object,default:function(){return{}}},pitem:{type:Object,default:function(){return{}}},api:{type:String,default:function(){return null}},outUrl:{type:String,default:function(){return null}},showDev:!1},data:function(){return{formValue:null,resData:null,cssId:null}},created:function(){this.formValue=this.value},computed:{currentView:function(){if(!this.resData)return{template:"<div class='remoteInfo'>正在加载中。。。</div>"};var e=this.resolveStr(this.resData),t=new Function("return ".concat(e.sctipts.slice(e.sctipts.indexOf("{"),e.sctipts.lastIndexOf("}")+1)))();if(t.template=e.templates,this.$el.setAttribute("class","remote css".concat(this.cssId)),!document.querySelector("style[id=css".concat(this.cssId,"]"))){var a="\n                    .css".concat(this.cssId,"{\n                        ").concat(e.styles,"\n                    }\n                ");this.resolveCss(a)}return t}},watch:{outUrl:function(){this.getVueComp()},formValue:function(){this.$emit("input",this.formValue)}},mounted:function(){this.getVueComp()},methods:{closeModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)},getId:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}));return t},resolveCss:function(e){less.render(e).then(function(e){var t=document.createElement("style");if(t.setAttribute("type","text/css"),t.setAttribute("id","css"+this.cssId),t.styleSheet)t.styleSheet.cssText=e.css;else{var a=document.createTextNode(e.css);t.appendChild(a)}var i=document.getElementsByTagName("head");i.length?i[0].appendChild(t):document.documentElement.appendChild(t)}.bind(this))},resolveStr:function(e){return{templates:e.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:e.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:e.match(/<style.*>([\s\S]*)<\/style>/)[1]}},getVueComp:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$props.outUrl){t.next=3;break}return alert("Vue文件地址为空"),t.abrupt("return");case 3:return a=e.$props.outUrl,t.next=6,axios.get(a);case 6:i=t.sent,e.cssId=e.getId(),e.resData=i.data;case 9:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getVueComp();case 1:case"end":return t.stop()}}),t)})))()}}}),s=n,l=a("2877"),u=Object(l["a"])(s,i,r,!1,null,null,null);t["default"]=u.exports},"21b3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-breadcrumb flex space-between flex-alignCenter"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/home"}},[a("span",{staticClass:"xyicon xyicon-address ts-12"}),e._v(" 首页 ")]),e._l(e.breadcrumb.level,(function(t,i){return[t.menuType>0?a("el-breadcrumb-item",{key:i,attrs:{to:(t.pathSuffix?t.pathSuffix:"")+"/pages"+t.path+t.apiParams}},[e._v(e._s(t.title))]):a("el-breadcrumb-item",{key:i},[e._v(e._s(t.title))])]})),a("el-breadcrumb-item",[e._v(e._s(e.breadcrumb.last.title))])],2),a("div",[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-refresh",circle:"",size:"mini"},on:{click:e.refresh}})],1)],1)],1)},r=[],o=(a("4de4"),a("d3b7"),{name:"Breadcrumb",data:function(){return{interval:null,timer:0,breadcrumb:{level:[],last:{title:""}}}},beforeMount:function(){var e=this,t=[];t.push(this.$store.state.menu.menuList.menuList[e.$route.meta.menuIndex]),this.breadcrumb.level=[],this.breadcrumb.last=t[0];do{t=this.$store.state.menu.menuList.menuList.filter((function(e){return e.pathSuffix?e.path==t[0].pmenu&&e.pathSuffix==t[0].pathSuffix:e.path==t[0].pmenu})),t[0]&&this.breadcrumb.level.unshift(t[0])}while(t[0].pmenu&&t[0].menuType>=0);var a=this.breadcrumb.level[0];a.hasOwnProperty("pathSuffix")||(a.pathSuffix=""),a.hasOwnProperty("apiParams")||(a.apiParams=""),this.$store.commit("menu/setData",{key:"defaultOpeneds",value:[a.routePath]}),this.$store.commit("menu/setData",{key:"breadcrumb",value:this.breadcrumb})},created:function(){},methods:{refresh:function(){this.$emit("refresh-page")}},watch:{$route:function(){var e=this.breadcrumb.last;if(this.$route.fullPath===(null===e||void 0===e?void 0:e.routePath)){var t=this.breadcrumb.level[0];t.hasOwnProperty("pathSuffix")||(t.pathSuffix=""),t.hasOwnProperty("apiParams")||(t.apiParams=""),this.$store.commit("menu/setData",{key:"defaultOpeneds",value:[t.routePath]}),this.$store.commit("menu/setData",{key:"breadcrumb",value:this.breadcrumb})}}}}),n={name:"BreadcrumbComp",mixins:[o],data:function(){return{}},created:function(){},methods:{},watch:{$route:function(){}}},s=n,l=(a("dd30"),a("2877")),u=Object(l["a"])(s,i,r,!1,null,"71f2b87c",null);t["default"]=u.exports},"2bd5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderInfo",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header}})],1)},r=[],o=(a("b64b"),a("6ced")),n=a("21b3"),s={name:"XyBuilderInfoRoute",components:{XyBuilderInfo:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){if("dyinfo"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"2c03":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderStack",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header}})],1)},r=[],o=(a("b64b"),a("785f")),n=a("21b3"),s={name:"XyBuilderStackRoute",components:{XyBuilderStack:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){if("dystack"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"2c22":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-col"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"col-box"},[a("el-row",{attrs:{gutter:25}},[a("el-col",{staticClass:"left m-b-md",attrs:{xs:24,sm:24,md:6,lg:4}},[a("el-tree",{attrs:{data:e.colData.dataList,"node-key":"id","default-expand-all":"","highlight-current":"",draggable:"","expand-on-click-node":!0},on:{"node-contextmenu":e.handleContextmenu,"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,r=t.data;return a("div",{staticClass:"custom-tree-node flex flex-1 flex-alignCenter"},[a("div",{staticClass:"flex-1 ts-14 tw5 flex flex-alignCenter",on:{click:function(t){return e.editPre(i,r)}}},[e._v(" "+e._s(r.title)+" ")]),a("div",{staticClass:"actions ts-13",staticStyle:{display:"none"}},[a("el-link",{staticClass:"m-r-xs",attrs:{type:"text"},on:{click:function(){return e.append(i,r)}}},[e._v(" 添加子项 ")]),a("el-link",{attrs:{type:"danger"},on:{click:function(){return e.remove(i,r)}}},[e._v(" 删除 ")])],1)])}}])}),a("el-button",{staticClass:"full",attrs:{type:"text"},on:{click:function(){return e.append()}}},[e._v(" 添加 ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}],staticClass:"menu",attrs:{id:"contextmenu"}},[a("div",{staticClass:"contextmenu__item",on:{click:function(){return e.append(e.cnode,e.cdata)}}},[e._v("添加子项")]),a("div",{staticClass:"contextmenu__item",on:{click:function(){return e.remove(e.cnode,e.cdata)}}},[e._v("删除")])])],1),a("el-col",{staticClass:"right",attrs:{xs:24,sm:24,md:18,lg:20}},[a("XyBuilderForm",{ref:"rightForm",attrs:{api:e.currentEditApi,show:!0,header:e.header},on:{close:function(t){return e.closeModel(t)}}})],1)],1)],1)])},r=[],o=a("5530"),n=a("b85c"),s=a("1da1"),l=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("b0c0"),a("c740"),a("a434"),a("e260"),a("e6cf"),a("4328")),u=a.n(l),c=a("9d00"),m={name:"XyBuilderCol",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:""},data:function(){return{id:0,ready:!1,loading:!1,menuVisible:!1,cnode:null,cdata:null,colData:{dataList:[]},currentEditApi:""}},watch:{show:function(e){this.stackData={},1==e&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"e6e1"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"3e8a"))},this.$options.components.XyBuilderInfo=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"6ced"))},this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"efbd"))}},created:function(){this.predata?this.readyProcess(this.predata):this.loadData()},methods:{closeModel:function(){},handleContextmenu:function(e,t,a,i){this.cnode=a,this.cdata=t,this.menuVisible=!1,this.menuVisible=!0,event.preventDefault();var r=document.querySelector(".menu");this.styleMenu(r)},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},styleMenu:function(e){event.clientX>1800?e.style.left=event.clientX-100+"px":e.style.left=event.clientX-200+"px",document.addEventListener("click",this.foo),event.clientY>700?e.style.top=event.clientY-300+"px":e.style.top=event.clientY-150+"px"},handleDrop:function(e,t,a,i){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var o,n,s,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:r.colData.rightButtonList.forEach((function(e){"edit"==e.name&&(o=e)})),n="",s=0,i.t0=a,i.next="inner"===i.t0?8:"before"===i.t0?10:"after"===i.t0?13:16;break;case 8:return n=t.data.uniqeId,i.abrupt("break",16);case 10:return n=t.data.puniqeId,s=t.data.sortnum-1,i.abrupt("break",16);case 13:return n=t.data.puniqeId,s=t.data.sortnum+1,i.abrupt("break",16);case 16:return i.next=18,r.$xyutil.request({url:o.pageData.api+"/"+e.data.id,method:"put",data:{puniqeId:n,sortnum:s},header:{CloudId:r.header.cloudId,Eid:r.header.eid}});case 18:l=i.sent,"200"==l.code?r.$xyutil.showToast({title:l.msg,icon:"success",duration:1e3}):r.$xyutil.showToast({title:l.msg,icon:"error",duration:3e3});case 20:case"end":return i.stop()}}),i)})))()},editPre:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a.$refs.rightForm.getCount()>1?a.$confirm("您有修改内容未保存，确认离开当前页面吗？","提示",{confirmButtonText:"确认离开",cancelButtonText:"留在页面",confirmButtonClass:"el-button--danger",closeOnClickModal:!1,type:"error"}).then(Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a.edit(e,t);case 1:case"end":return i.stop()}}),i)})))).catch((function(){})):a.edit(e,t);case 1:case"end":return i.stop()}}),i)})))()},edit:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.$refs.rightForm.getCount(),a.cnode=null,a.cdata=null,a.menuVisible=!1,i=a,a.colData.rightButtonList.forEach((function(e){if("edit"==e.name){var a=e,r="",o=new Object;if(a.pageData.apiSuffix){var s,l=a.pageData.apiSuffix,c=Object(n["a"])(l);try{for(c.s();!(s=c.n()).done;){var m=s.value;r=r+"/"+t[m]}}catch(y){c.e(y)}finally{c.f()}}else r="/"+t.id;if(a.pageData.querySuffix){var d,p=a.pageData.querySuffix,f=Object(n["a"])(p);try{for(f.s();!(d=f.n()).done;){var h=d.value;1==h[2]?o[h[0]]=h[1]:o[h[0]]=t[h[1]]}}catch(y){f.e(y)}finally{f.f()}}if(""!=u.a.stringify(o)?i.currentEditApi=a.pageData.api+r+"?"+u.a.stringify(o):i.currentEditApi=a.pageData.api+r,!i.currentEditApi)return!1}}));case 6:case"end":return e.stop()}}),e)})))()},append:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t||(t={},t.bookId=a.id,t.puniqeId="",t.title="根节点"),r="",a.colData.rightButtonList.forEach((function(e){"addChild"==e.name&&(r=e.pageData.api)})),r){i.next=7;break}return i.abrupt("return",!1);case 7:a.$prompt("请输入标题","创建“"+t.title+"”的子项",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var i=Object(s["a"])(regeneratorRuntime.mark((function i(o){var n,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=o.value,i.next=3,a.$xyutil.request({url:r,method:"post",data:{bookId:t.bookId,puniqeId:t.uniqeId,title:n},header:{CloudId:a.header.cloudId,Eid:a.header.eid}});case 3:s=i.sent,"200"==s.code?(a.$xyutil.showToast({title:s.msg,icon:"success",duration:1e3}),t.children||a.$set(t,"children",[]),e?t.children.push(s.data.info):a.colData.dataList.push(s.data.info)):a.$xyutil.showToast({title:s.msg,icon:"error",duration:3e3});case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch((function(){a.$message({type:"info",message:"取消输入"})}));case 8:case"end":return i.stop()}}),i)})))()},remove:function(e,t){var a=this,i=this,r="";if(this.colData.rightButtonList.forEach((function(e){"delete"==e.name&&(r=e)})),!r.pageData.api)return!1;var o="",l=new Object;if(r.pageData.apiSuffix){var c,m=r.pageData.apiSuffix,d=Object(n["a"])(m);try{for(d.s();!(c=d.n()).done;){var p=c.value;o=o+"/"+t[p]}}catch(v){d.e(v)}finally{d.f()}}else o="/"+t.id;if(r.pageData.querySuffix){var f,h=r.pageData.querySuffix,y=Object(n["a"])(h);try{for(y.s();!(f=y.n()).done;){var g=f.value;1==g[2]?l[g[0]]=g[1]:l[g[0]]=t[g[1]]}}catch(v){y.e(v)}finally{y.f()}}this.$confirm(r.pageData.content,r.pageData.title,{confirmButtonText:r.pageData.okText,cancelButtonText:r.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function n(){var s,c,m,d,p,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=r.pageData.api+o,""!=u.a.stringify(l)&&(s=s+"?"+u.a.stringify(l)),n.next=4,i.$xyutil.request({url:s,method:r.pageData.formMethod,header:i.header});case 4:c=n.sent,"200"==c.code?(m=e.parent,d=m.data.children||m.data,p=d.findIndex((function(e){return e.id===t.id})),d.splice(p,1),i.$xyutil.showToast({title:c.msg,icon:"success",duration:1e3}),a.$store.state.app.uiAudio&&(f=new Audio,f.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",f.play())):i.$xyutil.showToast({title:c.msg,icon:"loading",duration:3e3});case 6:case"end":return n.stop()}}),n)})))).catch((function(){if(a.$store.state.app.uiAudio){var e=new Audio;e.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/close2.mp3",e.play()}}))},readyProcess:function(e){var t=c["a"].readyList({listData:e},this.$store.state.app.apiInfo);this.colData=Object(o["a"])({},t.listData),this.ready=!0},loadData:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.loading=!0,!t.api){a.next=8;break}return a.next=6,t.$xyutil.request({url:t.api,method:"get",header:{CloudId:null===(r=t.header)||void 0===r?void 0:r.cloudId,Eid:null===(o=t.header)||void 0===o?void 0:o.eid}});case 6:n=a.sent,"200"==n.code?(t.readyProcess(n.data.listData),t.id=n.data.id,t.loading=!1):t.$xyutil.showToast({title:n.msg,icon:"loading",duration:3e3});case 8:t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}},d=m,p=(a("a4d4"),a("2877")),f=Object(p["a"])(d,i,r,!1,null,"bd16f330",null);t["default"]=f.exports},"2ce7":function(e,t,a){"use strict";a.r(t);var i,r,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderDrag",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header,showDev:e.$store.state.app.showDev}})],1)},n=[],s=(a("b64b"),a("2877")),l={},u=Object(s["a"])(l,i,r,!1,null,null,null),c=u.exports,m=a("21b3"),d={name:"XyBuilderColDrag",components:{XyBuilderDrag:c,BreadcurmbComp:m["default"]},data:function(){return{api:""}},beforeMount:function(){this.loadData()},created:function(){},methods:{loadData:function(){if("dydrag"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},p=d,f=Object(s["a"])(p,o,n,!1,null,null,null);t["default"]=f.exports},"361e":function(e,t,a){},"36d8":function(e,t,a){"use strict";a.r(t);var i,r,o=a("2877"),n={},s=Object(o["a"])(n,i,r,!1,null,null,null);t["default"]=s.exports},"3e8a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"xy-builder-comp xy-builder-wrap-form",attrs:{"element-loading-text":"拼命加载中"}},[""!=e.formData&&e.ready?a("div",[e._l(e.formData.alertList.top,(function(t,i){return[t.show&&!0===t.show?a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{staticClass:"m-b-sm",domProps:{innerHTML:e._s(t.desc)}})]):e._e()]})),e.formData.formTabs.length>0?[a("el-tabs",{attrs:{value:e.formData.formTabs[0].name}},[e._l(e.formData.formTabs,(function(t,i){return[t.formItems&&t.formItems.length>0?a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[a("el-form",{ref:e.ref+"_"+t.name,refInFor:!0,attrs:{model:e.formData.formValues[t.name].tabValues,"label-position":e.formData.config.labelPosition||e.labelPosition,"label-width":e.labelWidth+""},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(t.formItems,(function(i,r){return[a("XyBuilderformItem",{key:r,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formData.formValues[t.name].tabValues,formRules:t.formRules,header:e.header,prop:i.name,showDev:e.showDev,config:e.formData.config}})]}))],2)],1):e._e()]}))],2)]:[a("el-form",{ref:e.ref,attrs:{size:"medium",model:e.formData.formValues,"status-icon":!0,"label-position":e.formData.config.labelPosition||e.labelPosition,"label-width":e.formData.config.labelWidth||e.labelWidth},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{type:"flex",gutter:0}},[a("el-col",{staticClass:"form-top",attrs:{span:24}},[a("div",{staticClass:"form-group form-group-default m-b"},[a("el-row",{staticClass:"flex flex-wrap",attrs:{type:"flex",gutter:20}},[e._l(e.formData.formItems,(function(t,i){return[a("el-col",{key:i,staticClass:"form-item-col",attrs:{xs:24,sm:24,md:t.extra.span?t.extra.span:24}},[t.extra.inGroup?e._e():a("XyBuilderformItem",{ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name,showDev:e.showDev,config:e.formData.config}})],1)]}))],2)],1)])],1),a("el-row",{staticClass:"form-label-top flex flex-wrap",attrs:{gutter:20}},e._l(e.formData.formCols,(function(t,i){return a("el-col",{key:i,attrs:{xs:24,sm:24,md:24,lg:t.span.lg}},[t.itemList.length>0?[e._l(e.formData.formGroups,(function(i,r){return[t.itemList.includes(i.name)?a("div",{key:r,staticClass:"form-group m-b"},[a("div",{staticClass:"p-b-xs tw5 ts-14"},[a("xy-title",[e._v(e._s(i.title))])],1),e._l(e.formData.formItems,(function(t,r){return[i.itemList.includes(t.name)?a("XyBuilderformItem",{key:r,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name,showDev:e.showDev,config:e.formData.config}}):e._e()]})),a("div",{staticClass:"p-t-xs ts-13 text-gray"},[a("text",[e._v(e._s(i.extra.tip))])])],2):e._e()]}))]:e._e()],2)})),1)],1)],e._l(e.formData.alertList.bottom,(function(t,i){return[t.show&&!0===t.show?a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{staticClass:"m-b-sm",domProps:{innerHTML:e._s(t.desc)}})]):e._e()]})),e.res.msg?a("el-alert",{attrs:{type:"error","show-icon":"",closable:""},on:{close:function(t){e.res={}}}},[e._v(e._s(e.res.msg))]):e._e(),a("div",{staticClass:"m-t m-b flex footer-buttons"},[e.formData.config.hideSubmitButton?e._e():a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength||"120px"}},[a("el-button",{staticClass:"full",attrs:{loading:e.subloading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" "+e._s(e.formData.config.submitButtonTitle||"确认")+" ")])],1),e.formData.config.hideCancelButton?e._e():a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength||"120px"}},[a("el-button",{staticClass:"full",attrs:{type:"default"},on:{click:function(t){return e.cancel()}}},[e._v(" "+e._s(e.formData.config.cancelButtonTitle||"取消")+" ")])],1)]),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:this.formData.config.continue&&"post"==this.formData.formMethod,expression:"this.formData.config.continue && this.formData.formMethod == 'post'"}],model:{value:e.addNext,callback:function(t){e.addNext=t},expression:"addNext"}},[e._v("继续录入下一条")])],2):e._e(),a("xy-safety-verify",{ref:"sv",on:{"verify-request":e.submitForm},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],1)},r=[],o=a("5530"),n=a("1da1"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("caad"),a("2532"),a("b0c0"),a("ac1f"),a("841c"),a("e260"),a("e6cf"),a("9d00")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready?a("div",{staticClass:"builder-form-item"},[e.item.extra.hide||e.item.extra.isDev&&!e.showDev||"hidden"==e.item.type?e._e():["tabs"==e.item.type?[a("el-tabs",{attrs:{value:e.item.extra.options[0].name,animated:!1}},[e._l(e.item.extra.options,(function(t,i){return[a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[e._l(t.options,(function(i,r){return[a("XyBuilderFormItem",{key:r,ref:"this.itememtab_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formValues,formRules:e.formRules,header:e.header,prop:e.item.name,showDev:e.showDev,config:e.config}})]}))],2)]}))],2)]:a("el-form-item",{attrs:{label:e.item.title,prop:e.prop,rules:e.formRules[e.item.name]?e.formRules[e.item.name]:[]}},["divider"==e.item.type?[a("el-divider")]:"hidden"==e.item.type?[a("span",{staticClass:"hidden"},[e._v(e._s(e.item.value))])]:"static"==e.item.type?[a("span",[e._v(e._s(e.item.value))]),a("el-input",{staticClass:"hidden",attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"link"==e.item.type?[a("a",{attrs:{href:e.item.value,target:"_blank"}},[e._v(e._s(e.item.extra.title))])]:"audio"==e.item.type?[a("audio",{attrs:{src:e.formValues[e.item.name][0].url,controls:"controls"}},[e._v(" 您的浏览器不支持 audio 标签。 ")])]:"video"==e.item.type?[a("video",{attrs:{src:e.formValues[e.item.name][0].url,controls:"controls",width:"700"}},[e._v(" 您的浏览器不支持 video 标签。 ")])]:"text"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"password"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"password",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"url"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"url",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"email"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"email",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"number"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"number",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"digit"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"text",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tel"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"tel",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"textarea"==e.item.type||"array"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"textarea",autosize:{minRows:e.item.extra.minRows?e.item.extra.minRows:3,maxRows:e.item.extra.maxRows?e.item.extra.maxRows:10},placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"select"==e.item.type?[a("el-select",{staticClass:"full",attrs:{clearable:"",filterable:"",disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"selects"==e.item.type?[a("el-select",{staticClass:"full",attrs:{filterable:!0,multiple:!0,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==e.item.type?[a("el-radio-group",{model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(t,i,r){return a("el-radio",{key:r,attrs:{disabled:e.item.extra.disabled,label:t.value}},[t.icon?a("i",{class:t.icon}):e._e(),a("span",[e._v(e._s(t.title))])])})),1)]:"checkbox"==e.item.type?[a("xy-checkbox-group",{attrs:{disabled:e.item.extra.disabled,options:e.item.extra.options},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"switch"==e.item.type?[a("el-switch",{attrs:{disabled:e.item.extra.disabled,"active-value":e.item.extra.options[1].value,"active-text":e.item.extra.options[1].title,"inactive-value":e.item.extra.options[0].value,"inactive-text":e.item.extra.options[0].title},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"slider"==e.item.type?[a("el-slider",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tags"==e.item.type?[a("xy-tags-input",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"daterangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimerangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timeselect"==e.item.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{start:e.item.extra.start?e.item.extra.start:"00:00",step:e.item.extra.step?e.item.extra.step:"00:15",end:e.item.extra.end?e.item.extra.end:"23:00"}},on:{change:e.timeSelectChange},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timerangeselect"==e.item.type?[a("div",{staticClass:"flex"},[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{start:e.item.extra.start?e.item.extra.start:"00:00",step:e.item.extra.step?e.item.extra.step:"00:15",end:e.item.extra.end?e.item.extra.end:"00:00"}},model:{value:e.formValues[e.item.name][0],callback:function(t){e.$set(e.formValues[e.item.name],0,t)},expression:"formValues[item.name][0]"}}),a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{start:e.item.extra.start?e.item.extra.start:"00:00",step:e.item.extra.step?e.item.extra.step:"00:15",end:e.item.extra.end?e.item.extra.end:"00:00",minTime:e.formValues[e.item.name][0]}},model:{value:e.formValues[e.item.name][1],callback:function(t){e.$set(e.formValues[e.item.name],1,t)},expression:"formValues[item.name][1]"}})],1)]:"timepicker"==e.item.type?[a("el-time-picker",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{selectableRange:e.item.extra.selectableRange?e.item.extra.selectableRange:"08:30:00 - 22:30:00"},"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timerangepicker"==e.item.type?[a("el-time-picker",{attrs:{type:"timerange","is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间区间",disabled:e.item.extra.disabled,"picker-options":{selectableRange:e.item.extra.selectableRange?e.item.extra.selectableRange:"08:30:00 - 22:30:00"},"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"rate"==e.item.type?[a("el-rate",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"cascader"==e.item.type||"region"==e.item.type?[a("xy-cascader",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"colorpicker"==e.item.type?[a("el-color-picker",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"image"==e.item.type?[a("xy-upload",{attrs:{options:{type:"image",drag:!0},item:e.item,img:{name:"",title:""},header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"imageflex"==e.item.type?[a("div",{staticStyle:{display:"flex"}},e._l(e.item.extra.options,(function(t,i){return a("div",{key:i,staticStyle:{"padding-right":"15px"}},[a("xy-upload",{attrs:{options:{type:"image",drag:!1},item:e.item,img:t,header:e.header},model:{value:e.formValues[e.item.name][t.value],callback:function(a){e.$set(e.formValues[e.item.name],t.value,a)},expression:"formValues[item.name][img.value]"}})],1)})),0)]:"images"==e.item.type?[a("xy-upload",{attrs:{options:{type:"images",drag:!0},item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"file"==e.item.type?[a("xy-upload",{attrs:{options:{type:"file",drag:!1},drag:!1,item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"files"==e.item.type?[a("xy-upload",{attrs:{options:{type:"files",drag:!1},item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"poster"==e.item.type?[a("xy-poster-custom",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"selectlist"==e.item.type?[e._v(" "+e._s(e.formValues[e.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v(" 点击选择 ")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width||600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,header:e.header,config:{listSelectType:"radio"},api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"selectlists"==e.item.type?[e._v(" "+e._s(e.formValues[e.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v(" 点击选择 ")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width||600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,header:e.header,config:{listSelectType:"checkbox"},api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"formlist"==e.item.type?[a("el-row",{attrs:{gutter:12}},e._l(e.item.extra.options,(function(t,i,r){return a("div",{key:r},[a("el-col",{attrs:{span:t.span}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),e._l(e.formValues[e.item.name],(function(t,i,r){return a("el-row",{key:r,staticStyle:{padding:"1px 0"},attrs:{gutter:12}},[e._l(e.item.extra.options,(function(t,r,o){return a("div",{key:o},[a("el-col",{attrs:{span:t.span}},[e.item.extra.options[r].type&&"text"==e.item.extra.options[r].type||e.item.extra.options[r].type&&"switch"==e.item.extra.options[r].type?[a("el-input",{model:{value:e.formValues[e.item.name][i][t.name],callback:function(a){e.$set(e.formValues[e.item.name][i],t.name,a)},expression:"formValues[item.name][key2][item3.name]"}})]:e.item.extra.options[r].type&&"datetimepicker"==e.item.extra.options[r].type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name][i][t.name],callback:function(a){e.$set(e.formValues[e.item.name][i],t.name,a)},expression:"formValues[item.name][key2][item3.name]"}})]:[a("el-input",{model:{value:e.formValues[e.item.name][i][t.name],callback:function(a){e.$set(e.formValues[e.item.name][i],t.name,a)},expression:"formValues[item.name][key2][item3.name]"}})]],2)],1)})),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.formlistDelrow(i)}}},[e._v("删除")])],2)})),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"dashed",icon:"md-add",size:"small"},on:{click:function(t){return e.formlistAddrow()}}},[e._v(" 增加一行 ")])]:"datalist"==e.item.type?[a("XyBuilderList",{ref:"list_"+e.item.name,attrs:{header:e.header,api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show}})]:"checkboxtree"==e.item.type?[a("xy-checkbox-tree",{attrs:{data:e.item.extra.data,nodeKey:e.item.extra.nodeKey,columns:e.item.extra.columns,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"md"==e.item.type||"markdown"==e.item.type?[a("xy-mavon-editor",{staticStyle:{"min-height":"600px"},attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"html"==e.item.type||"tinymce"==e.item.type?[a("xy-editor-tinymce",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"sku"==e.item.type?[a("xy-shop-sku",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"skuPrice"==e.item.type?[a("xy-shop-skuprice",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid},formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"fee"==e.item.type?[a("xy-deliver-fee",{attrs:{item:e.item,header:e.header,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"amap"==e.item.type?[a("xy-map-amap",{attrs:{item:e.item,header:e.header,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"remote"==e.item.type?[a("XyBuilderRemote",{attrs:{item:e.item,header:e.header,outUrl:e.item.extra.outUrl,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:[e._v(" "+e._s(e.item.name)+"未指定类型 ")],a("div",{staticStyle:{color:"#aaa","font-size":"12px"},domProps:{innerHTML:e._s(e.item.extra.tip)}})],2)]],2):e._e()},u=[],c=a("b85c"),m=a("53ca"),d=(a("25f0"),a("159b"),a("a434"),a("4328")),p=a.n(d),f={name:"XyBuilderFormItem",props:{prop:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},config:{},item:{},formValues:{},formRules:{},showDev:!1},data:function(){return{ready:!1}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"efbd"))},this.$options.components.XyBuilderInfo=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"6ced"))},this.$options.components.XyBuilderList=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"e6e1"))},this.$options.components.XyBuilderRemote=function(){return a.e("manifest").then(a.bind(null,"214d"))}},created:function(){if("checkbox"!=this.item.type&&"selects"!=this.item.type&&"images"!=this.item.type&&"file"!=this.item.type&&"files"!=this.item.type||""==this.formValues[this.item.name]&&(this.formValues[this.item.name]=[]),this.item.hasOwnProperty("value")||(this.item.value=""),this.item.extra||(this.item.extra={}),this.item.temp||(this.item.temp=""),this.item.extra.showModal||(this.item.extra.showModal=!1),this.item.extra.placeholder||(this.item.extra.placeholder=""),this.item.extra.tip||(this.item.extra.tip=""),this.item.extra.disabled||(this.item.extra.disabled=!1),this.item.extra.hide||(this.item.extra.hide=!1),this.item.extra.isDev||(this.item.extra.isDev=0),this.item.extra.pageData){var e=this.item.extra.pageData;e.width?!1===isNaN(e.width)&&(e.width=e.width+"px"):e.width="800px",e.hasOwnProperty("height")||(e.height="auto"),e.hasOwnProperty("pageType")||(e.pageType="modal"),e.hasOwnProperty("modalType")||(e.modalType="form"),e.hasOwnProperty("formMethod")||(e.formMethod="delete"),e.hasOwnProperty("show")||(e.show=!1),e.hasOwnProperty("path")||(e.path=""),e.hasOwnProperty("api")||(e.api=""),e.hasOwnProperty("apiBlank")||(e.apiBlank=""),e.hasOwnProperty("apiSuffix")||(e.apiSuffix=["id"]),e.hasOwnProperty("apiParams")||(e.apiParams=""),e.hasOwnProperty("querySuffix")||(e.querySuffix=[]),e.hasOwnProperty("queryParams")||(e.queryParams=""),e.hasOwnProperty("title")||(e.title=this.item.title),e.hasOwnProperty("content")||(e.content=""),e.hasOwnProperty("okText")||(e.okText=""),e.hasOwnProperty("cancelText")||(e.cancelText=""),e.hasOwnProperty("noRefresh")||(e.noRefresh=!1),e.hasOwnProperty("modalClosable")||(e.modalClosable=!1),e.hasOwnProperty("loading")||(e.loading=!1),e.hasOwnProperty("draggable")||(e.draggable=!1),e.hasOwnProperty("scrollable")||(e.scrollable=!0),e.outUrl&&apiInfo.hasOwnProperty("domainRoot")&&0!=e.outUrl.indexOf("http")&&(e.outUrl=this.$store.state.app.apiInfo.domainRoot+e.outUrl),this.item.extra.pageData=Object(o["a"])({},e)}var t=["sku","image","imageflex","images","file","files","html","tinymce","md","markdown"];if(t.includes(this.item.type)?(this.item.extra.hasUpload=!0,this.item.extra.hasOwnProperty("upload")||(this.item.extra.upload={})):this.item.extra.hasUpload=!1,this.item.extra.hasUpload){var a,i,r;if(!this.item.extra.hasOwnProperty("driver"))null!==(a=this.config)&&void 0!==a&&a.defaultUploadDriver?this.item.extra.driver=this.config.defaultUploadDriver.toLowerCase():null!==(i=this.$store.state.app)&&void 0!==i&&i.uploadDriver?this.item.extra.driver=this.$store.state.app.uploadDriver.toLowerCase():this.item.extra.driver="";if(!this.item.extra.hasOwnProperty("hasUploadModule"))this.item.extra.hasUploadModule=null===(r=this.config)||void 0===r?void 0:r.hasUploadModule;if(this.item.extra.hasOwnProperty("maxSize")||(this.item.extra.maxSize=this.config.defaultUploadMaxSize),this.item.extra.hasOwnProperty("maxSizeFile")||(this.config.hasOwnProperty("defaultUploadFileMaxSize")?this.item.extra.maxSizeFile=this.config.defaultUploadFileMaxSize:this.item.extra.maxSizeFile=20*this.config.defaultUploadMaxSize),this.item.extra.hasOwnProperty("action")||(this.item.extra.action=this.config.defaultUploadAction),this.item.extra.hasOwnProperty("spaceId")||"unicloud"!=this.item.extra.driver||(this.item.extra.spaceId=this.config.defaultUploadSpaceId,this.item.extra.clientSecret=this.config.defaultUploadClientSecret),this.item.extra.upload.hasOwnProperty("postdata")||(this.item.extra.upload.postdata={}),!this.item.extra.format){var n=["sku","image","imageflex","images"];n.includes(this.item.type)?this.item.extra.format=["jpg","jpeg","png","gif"]:this.item.extra.format=["jpg","jpeg","png","gif","ico","swf","flv","mp3","wav","wma","wmv","mid","avi","mpg","asf","rm","rmvb","mp4","doc","docx","xls","xlsx","ppt","pptx","pdf","wps","txt","zip","rar","gz","bz2","7z","ipa","apk","dmg","iso","pem","p12","wgt"]}}if(this.item.extra.options){if("string"==typeof this.item.extra.options){var s=this.$xyutil.isJson(this.item.extra.options);!1===s?s=this.item.extra.options:this.item.extra.options=s}var l=[];for(var u in this.item.extra.options){var d=this.item.extra.options[u];!1===isNaN(u)&&(u=parseInt(u)),"object"==Object(m["a"])(d)?(d.hasOwnProperty("value")||(d.hasOwnProperty("vField")?d.value=d[d.vField]:d.value=u),l.push(d)):l.push({title:d,value:u})}this.item.extra.options=l}else this.item.extra.options=[];switch(this.item.type){case"switch":case"select":case"radio":this.item.extra.options[0]&&"number"==typeof this.item.extra.options[0].value?""!==this.formValues[this.item.name]&&(this.formValues[this.item.name]=parseInt(this.formValues[this.item.name])):this.formValues[this.item.name]=this.formValues[this.item.name].toString();break;case"checkbox":case"selects":this.item.extra.options[0]&&"number"==typeof this.item.extra.options[0].value?""!==this.formValues[this.item.name]?this.formValues[this.item.name].forEach((function(e,t,a){a[t]=parseInt(e)})):this.formValues[this.item.name]=[]:this.formValues[this.item.name].forEach((function(e,t,a){a[t]=e.toString()}));break;case"imageflex":if(this.formValues[this.item.name]&&this.formValues[this.item.name].constructor!==Object){var p,f={},h=Object(c["a"])(this.item.extra.options);try{for(h.s();!(p=h.n()).done;){var y=p.value;f[y.value]=""}}catch(g){h.e(g)}finally{h.f()}this.formValues[this.item.name]=f}break;case"formlist":this.formValues[this.item.name]&&this.formValues[this.item.name].constructor===Array||(this.formValues[this.item.name]=[]);break;case"html":this.item.extra.hasOwnProperty("tinymce")||(this.item.extra.tinymce={});break;case"tinymce":this.item.extra.hasOwnProperty("tinymce")||(this.item.extra.tinymce={});break;case"datepicker":this.formValues[this.item.name]=this.$xyutil.timeFormat(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimepicker":this.formValues[this.item.name]=this.$xyutil.timeFormat(this.formValues[this.item.name],"yyyy-MM-dd HH:mm");break;case"daterangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimerangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd HH:mm");break;default:break}this.ready=!0},methods:{timeSelectChange:function(e){this.$set(this.formValues,this.item.name,e)},rightButtonModal:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.item.extra,i="",r="",t.t0=a.pageData.modalType,t.next="list"===t.t0?6:9;break;case 6:return a.pageData.apiBlank=a.pageData.api+i+"?"+p.a.stringify(r),e.item.extra.pageData.show=!0,t.abrupt("break",12);case 9:return a.pageData.apiBlank=a.pageData.api+i+"?"+p.a.stringify(r),a.pageData.show=!0,t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})))()},formlistAddrow:function(){""==this.formValues[this.item.name]&&(this.formValues[this.item.name]=[]);var e,t={},a=Object(c["a"])(this.item.extra.options);try{for(a.s();!(e=a.n()).done;){var i=e.value;t[i.name]=""}}catch(r){a.e(r)}finally{a.f()}this.formValues[this.item.name].push(t)},formlistDelrow:function(e){this.formValues[this.item.name].splice(e,1)},formatDates:function(e,t){return e?2!=e.length?"":[this.$xyutil.timeFormat(e[0],t),this.$xyutil.timeFormat(e[1],t)]:""}},watch:{item:function(e){}}},h=f,y=a("2877"),g=Object(y["a"])(h,l,u,!1,null,null,null),v=g.exports,x={name:"XyBuilderForm",components:{XyBuilderformItem:v},props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:"",showDev:!1},data:function(){return{loading:!1,ready:!1,subloading:!1,ref:"form",formData:"",labelPosition:"left",labelWidth:"100px",res:{},addNext:!1,verifyData:"",count:0}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"efbd"))},this.$options.components.XyBuilderInfo=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"6ced"))},this.$options.components.XyBuilderList=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"e6e1"))}},created:function(){this.ref="form_"+(new Date).getTime(),this.predata?this.readyProcess(this.predata):this.loadData()},watch:{api:function(){this.loadData()},"formData.formValues":{handler:function(e,t){if(e){for(var a in this.formData.formItems)if(this.formData.formItems[a].extra.con){var i=this.formData.formItems[a].extra.con;this.getConditionTrueCount(i,e)===i.length?this.formData.formItems[a].extra.hide=!1:this.formData.formItems[a].extra.hide=!0}for(var r in this.formData.alertList.top)if(this.formData.alertList.top[r].condition){var o=this.formData.alertList.top[r].condition;this.getConditionTrueCount(o,e)===o.length?this.formData.alertList.top[r].show=!0:this.formData.alertList.top[r].show=!1}for(var n in this.formData.alertList.bottom)if(this.formData.alertList.bottom[n].condition){var s=this.formData.alertList.bottom[n].condition;this.getConditionTrueCount(s,e)===s.length?this.formData.alertList.bottom[n].show=!0:this.formData.alertList.bottom[n].show=!1}this.count++}},deep:!0,immediate:!0},show:function(e){1==e&&this.loadData()}},methods:{getCount:function(){return this.count},getConditionTrueCount:function(e,t){var a=0;for(var i in e)switch(e[i][1]){case"=":case"==":case"eq":t[e[i][0]]===e[i][2]&&a++;break;case"!=":case"neq":t[e[i][0]]!==e[i][2]&&a++;break;case">":case"gt":t[e[i][0]]>e[i][2]&&a++;break;case">=":case"egt":t[e[i][0]]>=e[i][2]&&a++;break;case"<":case"lt":t[e[i][0]]<e[i][2]&&a++;break;case"<=":case"elt":t[e[i][0]]<=e[i][2]&&a++;break;case"in":e[i][2].includes(t[e[i][0]])&&a++;break;case"has":t[e[i][0]].includes(e[i][2])&&a++;break;case"between":e[i][2][0]<t[e[i][0]]<e[i][2][1]&&a++;break}return a},loadData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.api){t.next=2;break}return t.abrupt("return",!1);case 2:if(e.formData="",e.loading=!0,e.ready=!1,a=e,setTimeout((function(){a.loading=!1}),5e3),!e.api){t.next=14;break}return e.count=0,t.next=11,e.$xyutil.request({url:e.api,method:"get",header:{CloudId:null===(i=e.header)||void 0===i?void 0:i.cloudId,Eid:null===(r=e.header)||void 0===r?void 0:r.eid}});case 11:o=t.sent,e.loading=!1,"200"==o.code?e.readyProcess(o.data.formData):e.res=o;case 14:case"end":return t.stop()}}),t)})))()},readyProcess:function(e){var t=s["a"].readyForm({formData:e});this.formData=Object(o["a"])({},t.formData),this.ready=!0},submit:function(){var e=this;this.subloading=!0;var t=this;setTimeout((function(){t.subloading=!1}),5e3);var a=!1;if(0==this.formData.formRules.length)a=!0;else if(this.formData.formTabs.length>0){for(var i="",r=0;r<this.formData.formTabs.length;r++)this.$refs[this.ref+"_"+this.formData.formTabs[r]["name"]][0].validate((function(e){i+=e?"true":"false"}));-1==i.search("false")&&(a=!0)}else this.$refs[this.ref].validate((function(t){if(t)a=!0;else if(e.$store.state.app.uiAudio){var i=new Audio;i.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/open2.mp3",i.play()}}));return a?this.submitForm():(this.subloading=!1,!1)},submitForm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.formData.formValues,e.verifyData&&(a._verify=e.verifyData),t.next=4,e.$xyutil.request({url:e.formData.config.submitApi?e.formData.config.submitApi:e.api,method:e.formData.formMethod,data:a,header:{CloudId:e.header.cloudId,Eid:e.header.eid}});case 4:if(i=t.sent,"200"==i.code)if(e.verifyData="",e.count=0,e.$xyutil.showToast({title:i.msg,icon:"success",duration:1e3}),null!==i&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.url)0!=i.data.url.indexOf("http")?e.$router.push(i.data.url):window.open(i.data.url);else if(e.addNext)if(e.formData.formTabs.length>0)for(o=0;o<e.formData.formTabs.length;o++)e.$refs[e.ref+"_"+e.formData.formTabs[o]["name"]][0].resetFields();else e.$refs[e.ref].resetFields();else e.$refs.sv.close(),null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.noback||e.$emit("close",!0);else 401003==i.code?e.$refs.sv.open(i.data.verifyList):e.res=i;return e.subloading=!1,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("close",!1)}}},b=x,w=(a("cedd"),Object(y["a"])(b,i,r,!1,null,"555d2ed0",null));t["default"]=w.exports},"3fe8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderDoc",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header}})],1)},r=[],o=(a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy_builder-doc-wrap"},[a("div",{staticClass:"content"},[0==e.loading?[a("Row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("Col",{staticStyle:{"border-right":"1px solide #eee"},attrs:{xs:24,sm:8,md:6,lg:4}},[a("Tree",{staticClass:"list",attrs:{data:e.docData.docList,render:e.renderContent,"load-data":e.loadChildren},on:{"on-select-change":e.showDoc}})],1),a("Col",{attrs:{xs:24,sm:16,md:18,lg:20}},e._l(e.current.doc,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[e._v(" 接口说明 ")]),a("Divider"),a("div",{staticClass:"content"},[e._v(" "+e._s(t.tabValues.description)+" ")])],1),a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[e._v(" 接口地址 "),e.current.devState&&"dev"==e.current.devState?[a("Tag",{staticStyle:{margin:"0",display:"inline-block",transform:"scale(0.6)",padding:"0 4px"},attrs:{color:"magenta"}},[e._v("开发中")])]:e.current.devState&&"prod"==e.current.devState?[a("Tag",{staticStyle:{margin:"0",display:"inline-block",transform:"scale(0.6)",padding:"0 4px"},attrs:{color:"green"}},[e._v("已完成")])]:e._e()],2),a("Divider"),a("div",{staticClass:"content"},[e._v(" "+e._s(i)+" "+e._s(e.current.api)+" ")])],1),a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[e._v(" 请求参数 ")]),a("Divider"),a("div",{staticClass:"content"},[a("Table",{attrs:{border:"",columns:e.columns,data:t.tabValues.params}})],1)],1),a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[e._v(" 返回结果 ")]),a("Divider"),a("div",{staticClass:"content"})],1)])})),0)],1)]:[a("Row",{staticStyle:{"margin-top":"30px"}},[a("Col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[e._v("Loading")])],1)],1)],1)]],2)])}),n=[],s=a("1da1"),l=(a("96cf"),{name:"XyBuilderDoc",props:{api:"",cloudId:0,eid:0,show:!1,predata:""},components:{},data:function(){return{loading:!1,docData:{docList:""},current:{doc:[]},columns:[{title:"是否必须",key:"require"},{title:"参数名",key:"name"},{title:"参数标题",key:"title"},{title:"说明",key:"description"},{title:"示例",key:"example"}]}},watch:{show:function(e){this.docData={},1==e&&this.loadData()}},beforeCreate:function(){},created:function(){this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata?this.docData=this.predata:this.loadData()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{renderContent:function(e,t){var a=this,i=(t.root,t.node,t.data),r="",o="";return"dev"==i.devState?(r="magenta",o="开发中"):"prod"==i.devState&&(r="green",o="已完成"),e("span",{class:{"ivu-tree-title":!0},style:{display:"inline-block",width:"100%"}},[e("span",{on:{click:function(){a.showDoc([i])}}},[e("span",i.title),e("Tag",{props:{color:r},style:{margin:0,display:"inline-block",transform:"scale(0.6)",padding:"0 4px"}},[e("span",o)])])])},showDoc:function(e){this.current=e[0]},loadChildren:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.$xyutil.request({url:a.api+"?menuLayer="+e.menuLayer+"&pmenu="+e.path,method:"get",header:{CloudId:a.cloudId,Eid:a.eid}});case 2:r=i.sent,200==r.code&&t(r.data.dataList);case 4:case"end":return i.stop()}}),i)})))()},loadData:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.loading=!0,!t.api){a.next=8;break}return a.next=6,t.$xyutil.request({url:t.api,method:"get",header:{CloudId:t.cloudId,Eid:t.eid}});case 6:r=a.sent,200==r.code&&(t.docData.docList=r.data.dataList);case 8:t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}}),u=l,c=(a("94b3"),a("2877")),m=Object(c["a"])(u,o,n,!1,null,null,null),d=m.exports,p=a("21b3"),f={name:"XyBuilderDocRoute",components:{XyBuilderDoc:d,BreadcurmbComp:p["default"]},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){if("dydoc"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},h=f,y=Object(c["a"])(h,i,r,!1,null,null,null);t["default"]=y.exports},4797:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[e._v(" 左侧菜单加载失败 ")]),a("Divider"),a("div",{staticClass:"content"},[e._v(" 左侧菜单加载失败原因主要有1、网络故障；2、接口挂了 3、接口/api/v1/admin/core/menu/trees有语法错误。 ")])],1)])],1)},r=[],o={data:function(){return{}}},n=o,s=(a("1b8c"),a("2877")),l=Object(s["a"])(n,i,r,!1,null,"f557efc6",null);t["default"]=l.exports},"47f3":function(e,t,a){},"5ee6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderCol",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header,showDev:e.$store.state.app.showDev}})],1)},r=[],o=(a("b64b"),a("2c22")),n=a("21b3"),s={name:"XyBuilderColRoute",components:{XyBuilderCol:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:""}},beforeMount:function(){this.loadData()},created:function(){},methods:{loadData:function(){if("dycol"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"6b80":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderTab",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header}})],1)},r=[],o=(a("b64b"),a("efbd")),n=a("21b3"),s={name:"XyBuilderTabRoute",components:{XyBuilderTab:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){if("dytab"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"6ced":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"xy-builder-comp xy-builder-wrap-info"},[e.infoData.infoList?e._l(e.infoData.infoList,(function(t,i){return a("div",{key:i,staticClass:"item-group"},[a("xy-title",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"group.title"}],staticClass:"m-b-sm m-t"},[e._v(e._s(t.title))]),e.ready?a("el-row",e._l(t.data,(function(t,i){return a("div",{key:i},["list"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderList",{ref:"xy_builder_info_"+i,refInFor:!0,attrs:{header:e.header,show:!0,api:t.pageData?t.pageData.api:"",predata:t.value?t.value:""}})],1)]):"form"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderForm",{ref:"xy_builder_form_"+i,refInFor:!0,attrs:{header:e.header,show:!0,api:t.pageData?t.pageData.api:"",predata:t.value?t.value:""}})],1)]):"stack"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderStack",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,show:!0,api:t.pageData?t.pageData.api:"",predata:t.value?t.value:""}})],1)]):"count"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[t.value?a("el-row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"start",align:"top"}},e._l(t.value,(function(t,i){return a("el-col",{key:i,attrs:{xs:12,xl:t.item.xl?t.item.xl:6,xxl:4}},[a("el-row",{staticClass:"count-item",style:{backgroundColor:t.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("el-col",{staticClass:"left"},[a("i",{staticClass:"icon",class:t.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.item.title,expression:"it.item.title"}]},[e._v(e._s(t.item.title))])]),a("el-col",{staticClass:"right",style:{backgroundColor:t.item.bgColorRight||"#fff",color:t.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[e._v(e._s(t.current.value))]),a("span",{staticClass:"suffix"},[e._v(e._s(t.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.value,expression:"it.content.value"}],staticClass:"value"},[e._v(e._s(t.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.list,expression:"it.content.list"}],staticClass:"list"},e._l(t.content.list,(function(t,i){return a("div",{key:i,staticClass:"cell"},[e._v(" "+e._s(t.title)+"："+e._s(t.value)+" ")])})),0)])])],1)],1)})),1):e._e()],1):a("el-col",{staticClass:"info-item",attrs:{xs:24,sm:{span:t.extra.sm.span?t.extra.sm.span:8,offset:t.extra.sm.offset?t.extra.sm.offset:0,pull:t.extra.sm.pull?t.extra.sm.pull:0,push:t.extra.sm.push?t.extra.sm.push:0}}},[a("div",{staticClass:"title text-gray ts-13"},[e._v(" "+e._s(t.title)+"： ")]),a("div",{staticClass:"value ts-14"},["text"==t.type?[a("span",[e._v(e._s(t.value))])]:"image"==t.type?[a("img",{attrs:{src:t.value,width:t.extra.width||"40px"}})]:"label"==t.type?[a("span",{style:{color:e.getArrayField(t.extra.options,t.value,"color","")}},[e._v(" "+e._s(e.getArrayField(t.extra.options,t.value,"title",t.value))+" ")])]:e._e(),"link"==t.type?[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.goPage(t)}}},[e._v(e._s(t.value))]),a("div",{staticClass:"dialog-pool"},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.currentItem.pageData.show,width:e.currentItem.pageData.width||"900",title:e.currentItem.pageData.title},on:{"update:visible":function(t){return e.$set(e.currentItem.pageData,"show",t)}}},[e.currentItem.pageData.show?["list"==e.currentItem.pageData.modalType?a("XyBuilderList",{ref:"dialog-pool-list",refInFor:!0,attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem}}):"form"==e.currentItem.pageData.modalType?a("XyBuilderForm",{ref:"dialog-pool-form",refInFor:!0,attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem,showDev:e.showDev}}):"html"==e.currentItem.pageData.modalType?a("div",{domProps:{innerHTML:e._s(e.currentItem.pageData.predata)}}):"htmls"==e.currentItem.pageData.modalType?a("div",e._l(e.currentItem.pageData.predata,(function(t,i){return a("div",{key:i,domProps:{innerHTML:e._s(t)}})})),0):"table"==e.currentItem.pageData.modalType?a("div",[a("el-table",{attrs:{data:e.currentItem.pageData.predata.data,border:"",stripe:""}},e._l(e.currentItem.pageData.predata.columns,(function(e){return a("el-table-column",{key:e.name,attrs:{prop:e.name,label:e.title,width:e.width}})})),1)],1):e._e()]:e._e()],2)],1)]:"tag"==t.type?[a("el-tag",{attrs:{hit:!1,effect:e.getArrayField(t.extra.options,t.value,"effect","light"),type:e.getArrayField(t.extra.options,t.value,"type",""),color:e.getArrayField(t.extra.options,t.value,"color","")}},[e._v(" "+e._s(e.getArrayField(t.extra.options,t.value,"title",t.value))+" ")])]:"tags"==t.type?[e._l(t.value,(function(i,r){return[a("el-tag",{key:r,attrs:{hit:!1,effect:e.getArrayField(t.extra.options,i,"effect","light"),type:e.getArrayField(t.extra.options,i,"type",""),color:e.getArrayField(t.extra.options,i,"color","")}},[e._v(" "+e._s(e.getArrayField(t.extra.options,i,"title",i))+" ")])]}))]:e._e(),"time"==t.type?[a("span",[e._v(e._s(e.$xyutil.timeFormat(t.value)))])]:e._e(),"url"==t.type?[a("a",{attrs:{href:t.value,target:"_blank"}},[e._v(e._s(t.extra.placeholder))])]:e._e()],2)])],1)})),0):e._e()],1)})):e._e()],2)},r=[],o=a("1da1"),n=a("53ca"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("c740"),a("159b"),a("e260"),a("e6cf"),a("ff4e")),l={mixins:[s["a"]],name:"XyBuilderInfo",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:""},data:function(){return{ready:!1,loading:!1,infoData:{infoList:""},currentItem:{pageData:{pageType:"modal",modalTye:"",apiBlank:"",show:!1,title:"",predata:""}}}},watch:{show:function(e){this.infoData={},1==e&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"e6e1"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"3e8a"))},this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"efbd"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"785f"))}},created:function(){this.predata?this.processData(this.predata):this.loadData()},methods:{getArrayField:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e||0==e.length)return t;"string"==typeof e[0].value&&(t+=""),"number"==typeof e[0].value&&(t=parseInt(t));var r=e.findIndex((function(e){return e.value===t}));return""==a?r:e[r]&&e[r].hasOwnProperty(a)&&e[r][a]?e[r][a]:i},processData:function(e){var t=this;e.infoList.forEach((function(e){e.data.forEach((function(e){if(e.hasOwnProperty("extra")||(e.extra={}),e.extra.hasOwnProperty("sm")||(e.extra.sm={}),e.extra.options){if("string"==typeof e.extra.options){var a=t.$xyutil.isJson(e.extra.options);!1===a?a=e.extra.options:e.extra.options=a}var i=[];for(var r in e.extra.options){var o=e.extra.options[r];!1===isNaN(r)&&(r=parseInt(r)),"object"==Object(n["a"])(o)?(o.hasOwnProperty("value")||(o.value=r),i.push(o)):i.push({title:o,value:r})}e.extra.options=i}else e.extra.options=[]}))})),this.infoData=e,this.ready=!0},loadData:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.ready=!1,t.loading=!0,!t.api){a.next=9;break}return a.next=7,t.$xyutil.request({url:t.api,method:"get",header:{CloudId:null===(r=t.header)||void 0===r?void 0:r.cloudId,Eid:null===(o=t.header)||void 0===o?void 0:o.eid}});case 7:n=a.sent,"200"==n.code?(t.processData(n.data.infoData),t.loading=!1):t.$xyutil.showToast({title:n.msg,icon:"loading",duration:3e3});case 9:t.loading=!1;case 10:case"end":return a.stop()}}),a)})))()}}},u=l,c=(a("af74"),a("2877")),m=Object(c["a"])(u,i,r,!1,null,"8e902972",null);t["default"]=m.exports},"6dd8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderRemote",{ref:"xy_builder",attrs:{api:e.api,outUrl:e.outUrl,header:e.$route.meta.header}})],1)},r=[],o=(a("b64b"),a("214d")),n=a("21b3"),s={name:"XyBuilderRemoteRoute",components:{XyBuilderRemote:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:"",outUrl:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){if("dyremote"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];var a=this.$route.meta.outUrl;if(0!=a.indexOf("http")&&(a=this.$store.state.app.apiInfo.domainRoot+a),Object.keys(this.$route.query).length>0){var i="?";for(var t in this.$route.query)i=i+t+"="+this.$route.query[t]+"&";e+=i,a+=i}this.api=e,this.outUrl=a}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"71ad":function(e,t,a){},"77f7":function(e,t,a){"use strict";a("8621")},"785f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-stack"},e._l(e.stackData.stackList,(function(t,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:i,staticClass:"stack-list"},[a("xy-title",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"stack.title"}],staticClass:"m-b-sm"},[e._v(e._s(t.title))]),a("el-row",[a("el-col",{staticClass:"stack-item block",attrs:{xs:24,sm:24}},["tab"==t.pageData.modalType?[a("XyBuilderTab",{ref:"xy_builder_tab_"+i,refInFor:!0,attrs:{header:e.header,show:!0,predata:t.predata}})]:["list"==t.pageData.modalType?a("div",[a("XyBuilderList",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,predata:t.predata}})],1):"form"==t.pageData.modalType?a("div",[a("XyBuilderForm",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,predata:t.predata}})],1):"info"==t.pageData.modalType?a("div",[a("XyBuilderInfo",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,predata:t.predata}})],1):e._e()]],2)],1)],1)})),0)},r=[],o=a("1da1"),n=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("e260"),a("e6cf"),{name:"XyBuilderStack",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:""},data:function(){return{loading:!1,stackData:{stackList:""}}},watch:{show:function(e){this.stackData={},1==e&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"e6e1"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"3e8a"))},this.$options.components.XyBuilderInfo=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"6ced"))},this.$options.components.XyBuilderTab=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"efbd"))}},created:function(){this.predata?this.stackData=this.predata:this.loadData()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{loadData:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.loading=!0,!t.api){a.next=8;break}return a.next=6,t.$xyutil.request({url:t.api,method:"get",header:{CloudId:null===(r=t.header)||void 0===r?void 0:r.cloudId,Eid:null===(o=t.header)||void 0===o?void 0:o.eid}});case 6:n=a.sent,"200"==n.code?(t.stackData=n.data.stackData,t.loading=!1):t.$xyutil.showToast({title:n.msg,icon:"loading",duration:3e3});case 8:t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}}),s=n,l=a("2877"),u=Object(l["a"])(s,i,r,!1,null,"54edf0ba",null);t["default"]=u.exports},8621:function(e,t,a){},"94b3":function(e,t,a){"use strict";a("be73")},"9a4d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qr-box",on:{click:e.loadData}},[a("div",[e.qrurl?a("xy-qrcode",{staticClass:"qrcode",style:{opacity:e.timeout?.3:1},attrs:{value:e.qrurl,options:{width:258}}}):e._e(),e.timeout?a("span",{staticClass:"xyicon xyicon-history"}):e._e()],1)])},r=[],o=a("1da1"),n=(a("96cf"),{props:{apiSeed:{type:String,default:"/v1/qrlogin/qrlogin/getSeed"},qrurlPrefix:{type:String,default:""},qrloginShow:!1},data:function(){return{seed:"",qrurl:"",timer:null,timeout:!1}},created:function(){this.loadData()},watch:{qrloginShow:function(e){e?this.qrurl&&(this.timer=setInterval(this.getLogin,2e3)):clearInterval(this.timer)}},beforeDestroy:function(){clearInterval(this.timer)},methods:{loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$xyutil.request({url:e.apiSeed,data:{qrurlPrefix:e.qrurlPrefix},method:"get"});case 2:a=t.sent,200==a.code?(e.seed=a.data.seed,e.qrurl=a.data.qrurl,e.timeout=!1,clearInterval(e.timer),e.timer=setInterval(e.getLogin,2e3)):e.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},getLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$xyutil.request({url:"/v1/qrlogin/qrlogin/getLogin?seed="+e.seed,method:"get"});case 2:a=t.sent,200==a.code&&(a.data.timeout?(e.timeout=!0,clearInterval(e.timer)):(clearInterval(e.timer),e.$store.commit("user/setToken",a.data.token),e.$store.commit("user/setUserInfo",a.data.userInfo),e.$xyutil.showToast({title:a.msg,icon:"success",duration:2e3}),e.$xyutil.switchTab({url:"/"})));case 4:case"end":return t.stop()}}),t)})))()}}}),s=n,l=(a("77f7"),a("2877")),u=Object(l["a"])(s,i,r,!1,null,"e0cdc07e",null);t["default"]=u.exports},"9d00":function(e,t,a){"use strict";var i=a("53ca"),r=a("5530"),o=(a("d3b7"),a("159b"),a("b0c0"),a("4de4"),a("caad"),a("25f0"),a("99af"),a("2532"),{readyList:function(e){var t,a,o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e.listData.hasOwnProperty("config")||(e.listData={}),e.listData.config||(e.listData.config={}),e.listData.topButtonList.forEach((function(e){var t;e.pageData.width?!1===isNaN(e.pageData.width)&&(e.pageData.width=e.pageData.width+"px"):e.pageData.width="800px",e.pageData.hasOwnProperty("height")||(e.pageData.height="auto"),e.pageData.hasOwnProperty("pageType")||(e.pageData.pageType="page"),e.pageData.hasOwnProperty("modalType")||(e.pageData.modalType="form"),e.pageData.hasOwnProperty("formMethod")||(e.pageData.formMethod="delete"),e.pageData.hasOwnProperty("show")||(e.pageData.show=!1),e.pageData.hasOwnProperty("path")||(e.pageData.path=""),e.pageData.hasOwnProperty("api")||(e.pageData.api=""),e.pageData.hasOwnProperty("apiBlank")||(e.pageData.apiBlank=""),e.pageData.hasOwnProperty("apiSuffix")||(e.pageData.apiSuffix=[]),e.pageData.hasOwnProperty("apiParams")||(e.pageData.apiParams=""),e.pageData.hasOwnProperty("querySuffix")||(e.pageData.querySuffix=[]),e.pageData.hasOwnProperty("queryParams")||(e.pageData.queryParams=""),e.pageData.hasOwnProperty("title")||(e.pageData.title=e.title),e.pageData.hasOwnProperty("content")||(e.pageData.content=""),e.pageData.hasOwnProperty("okText")||(e.pageData.okText=""),e.pageData.hasOwnProperty("cancelText")||(e.pageData.cancelText=""),e.pageData.hasOwnProperty("noRefresh")||(e.pageData.noRefresh=!1),e.pageData.hasOwnProperty("modalClosable")||(e.pageData.modalClosable=!1),e.pageData.hasOwnProperty("loading")||(e.pageData.loading=!1),e.pageData.hasOwnProperty("draggable")||(e.pageData.draggable=!1),e.pageData.hasOwnProperty("scrollable")||(e.pageData.scrollable=!0),e.pageData.outUrl&&n.hasOwnProperty("domainRoot")&&0!=e.pageData.outUrl.indexOf("http")&&(e.pageData.outUrl=n.domainRoot+e.pageData.outUrl),null!==(t=e.style)&&void 0!==t&&t.type||(e.style={type:"primary",size:"small",shape:"default",icon:""},"delete"==e.name&&(e.style.type="danger"))})),e.listData.rightButtonList.forEach((function(e){var t;e.pageData.width?!1===isNaN(e.pageData.width)&&(e.pageData.width=e.pageData.width+"px"):e.pageData.width="800px",e.pageData.hasOwnProperty("height")||(e.pageData.height="auto"),e.pageData.hasOwnProperty("pageType")||(e.pageData.pageType="page"),e.pageData.hasOwnProperty("modalType")||(e.pageData.modalType="form"),e.pageData.hasOwnProperty("formMethod")||(e.pageData.formMethod="delete"),e.pageData.hasOwnProperty("show")||(e.pageData.show=!1),e.pageData.hasOwnProperty("path")||(e.pageData.path=""),e.pageData.hasOwnProperty("api")||(e.pageData.api=""),e.pageData.hasOwnProperty("apiBlank")||(e.pageData.apiBlank=""),e.pageData.hasOwnProperty("apiSuffix")||(e.pageData.apiSuffix=["id"]),e.pageData.hasOwnProperty("apiParams")||(e.pageData.apiParams=""),e.pageData.hasOwnProperty("querySuffix")||(e.pageData.querySuffix=[]),e.pageData.hasOwnProperty("queryParams")||(e.pageData.queryParams=""),e.pageData.hasOwnProperty("title")||(e.pageData.title=e.title),e.pageData.hasOwnProperty("content")||(e.pageData.content=""),e.pageData.hasOwnProperty("okText")||(e.pageData.okText=""),e.pageData.hasOwnProperty("cancelText")||(e.pageData.cancelText=""),e.pageData.hasOwnProperty("noRefresh")||(e.pageData.noRefresh=!1),e.pageData.hasOwnProperty("modalClosable")||(e.pageData.modalClosable=!1),e.pageData.hasOwnProperty("loading")||(e.pageData.loading=!1),e.pageData.hasOwnProperty("draggable")||(e.pageData.draggable=!1),e.pageData.hasOwnProperty("scrollable")||(e.pageData.scrollable=!0),e.pageData.outUrl&&n.hasOwnProperty("domainRoot")&&0!=e.pageData.outUrl.indexOf("http")&&(e.pageData.outUrl=n.domainRoot+e.pageData.outUrl),null!==(t=e.style)&&void 0!==t&&t.type||(e.style={type:"default",size:"mini",shape:"default",icon:""},"delete"==e.name&&(e.style.type="danger"))})),e.hasOwnProperty("config"))&&(null!==(t=e.config)&&void 0!==t&&t.listSelectType&&(e.listData.dataListParams.selectType=null===(a=e.config)||void 0===a?void 0:a.listSelectType));e.listData.columns.forEach((function(e,t){if(e.index=t,e.hasOwnProperty("extra")||(e.extra={}),e.hasOwnProperty("pname")||(e.pname=0),e.extra.hasOwnProperty("template")&&(e.extra.type=e.extra.template),e.extra.hasOwnProperty("type")||(e.extra.type="text"),e.extra.hasOwnProperty("extend")||(e.extra.extend={}),e.extra.hasOwnProperty("width")||(e.extra.width=""),e.extra.hasOwnProperty("minWidth")||(e.extra.minWidth=""),e.extra.hasOwnProperty("show")||(e.extra.show=!0),e.extra.hasOwnProperty("loading")||(e.extra.loading=!1),e.extra.hasOwnProperty("options")||(e.extra.options=[]),e.extra.hasOwnProperty("show")||("password"==e.extra.type?e.extra.show=!1:e.extra.show=!0),e.extra.options){if(e.extra.optionsOriginal=Object(r["a"])({},e.extra.options),"string"==typeof e.extra.options){var a=o.$xyutil.isJson(e.extra.options);!1===a?a=e.extra.options:e.extra.options=a}var n=[];for(var s in e.extra.options){var l=e.extra.options[s];!1===isNaN(s)&&(s=parseInt(s)),"object"==Object(i["a"])(l)?(l.hasOwnProperty("value")||(l.value=s),n.push(l)):n.push({title:l,value:s})}e.extra.options=n}else e.extra.options=[]}));var s=function(e,t){var a={};return e.forEach((function(e){e.children=[],a[e.name]=e})),e.filter((function(e){return e.pname===t||(a[e.pname].children.push(e),!1)}))};return e.listData.columns=s(e.listData.columns,0),e.listData.filterValues={},e.listData.filterItems.forEach((function(t){if(t.hasOwnProperty("extra")||(t.extra={}),t.extra.hasOwnProperty("placeholder")||(t.extra.placeholder=""),t.extra.hasOwnProperty("tip")||(t.extra.tip=""),t.extra.hasOwnProperty("position")||(t.extra.position="left"),t.extra.options){if("string"==typeof t.extra.options){var a=o.$xyutil.isJson(t.extra.options);!1===a?a=t.extra.options:t.extra.options=a}var r=[];for(var n in t.extra.options){var s=t.extra.options[n];!1===isNaN(n)&&(n=parseInt(n)),"object"==Object(i["a"])(s)?(s.hasOwnProperty("value")||(s.value=n),r.push(s)):r.push({title:s,value:n})}t.extra.options=r}else t.extra.options=[];var l=["radio","switch","select"];l.includes(t.type)&&(t.value||(t.value=""),t.extra.options[0]&&"number"==typeof t.extra.options[0].value?""!==t.value&&(t.value=parseInt(t.value)):t.value=t.value.toString());var u=["selects","checkbox"];u.includes(t.type)&&(t.value||(t.value=[]),t.value.forEach((function(e){t.extra.options[0]&&"number"==typeof t.extra.options[0].value?""!==e&&(e=parseInt(e)):e=e.toString()}))),e.listData.filterValues[t.name]=t.value})),e.hasOwnProperty("filterValues")&&(e.filterValues=e.listData.filterValues),e},readyForm:function(e){e.formData.formValues.constructor===Array&&(e.formData.formValues={});var t={};e.formData.alertList||(e.formData.alertList={}),e.formData.alertList.top||(e.formData.alertList.top=[]),e.formData.alertList.top.forEach((function(e){e.show||(e.show=!1)})),e.formData.alertList.bottom||(e.formData.alertList.bottom=[]),e.formData.alertList.bottom.forEach((function(e){e.show||(e.show=!1)})),e.formData.config||(e.formData.config={}),e.formData.formCols||(e.formData.formCols=[]),e.formData.formGroups||(e.formData.formGroups=[]),e.formData.itemValues||(e.formData.itemValues={});var a=[];if(e.formData.formGroups.forEach((function(e){a=a.concat(e.itemList)})),e.formData.formCols.forEach((function(e,t,a){})),e.formData.formTabs.length>0)for(var i in e.formData.formTabs)if(e.formData.formTabs[i].hasOwnProperty("formItems"))for(var o in e.formData.formTabs[i].formItems){var n,s=e.formData.formTabs[i].formItems[o],l=["static","divider"];if(!l.includes(s.type))if("tabs"==s.type);else e.formData.itemValues[e.formData.formTabs[i].name]&&null!==(n=e.formData.itemValues[e.formData.formTabs[i].name])&&void 0!==n&&n.tabValues.hasOwnProperty(s.name)&&(e.formData.formTabs[i].formItems[o].value=e.formData.itemValues[e.formData.formTabs[i].name].tabValues[s.name]),t[e.formData.formTabs[i].name]||(t[e.formData.formTabs[i].name]={tabValues:{}}),t[e.formData.formTabs[i].name].tabValues[s.name]=e.formData.formTabs[i].formItems[o].value}var u=function(i){var r,o;null!==(r=e.formData.formItems[i])&&void 0!==r&&null!==(o=r.extra)&&void 0!==o&&o.position||(e.formData.formItems[i].extra.position=e.formData.config.itemDefaultPosition);var n=e.formData.formItems[i],s=["static","divider","link"];if(e.formData.formItems[i].extra||(e.formData.formItems[i].extra={}),e.formData.formItems[i].extra.hasOwnProperty("condition")&&e.formData.formItems[i].extra.condition.length>0&&(e.formData.formItems[i].extra.con=e.formData.formItems[i].extra.condition),e.formData.formItems[i].extra.hide||(e.formData.formItems[i].extra.hide=!1),"tabs"==n.type)for(var l in e.formData.formItems[i].extra.options)for(var u in e.formData.formItems[i].extra.options[l].options){var c=e.formData.formItems[i].extra.options[l].options[u];e.formData.itemValues.hasOwnProperty(c.name)&&(e.formData.formItems[i].extra.options[l].options[u].value=e.formData.itemValues[n.name]),s.includes(c.type)||(e.formData.formValues[n.name]=e.formData.formItems[i].extra.options[l].options[u].value)}else e.formData.itemValues.hasOwnProperty(n.name)&&(e.formData.formItems[i].value=e.formData.itemValues[n.name]),s.includes(n.type)||(t[n.name]=e.formData.formItems[i].value);n.extra.formGroup?(e.formData.formGroups.forEach((function(e,t,a){e.name==n.extra.formGroup&&a[t].itemList.push(n.name)})),e.formData.formItems[i].extra.inGroup=!0):a.includes(n.name)?e.formData.formItems[i].extra.inGroup=!0:e.formData.formItems[i].extra.inGroup=!1};for(var c in e.formData.formItems)u(c);return e.formData.formValues=Object(r["a"])({},t),e}});t["a"]=o},a4d4:function(e,t,a){"use strict";a("71ad")},a4f6:function(e,t,a){"use strict";a("f8de")},ae0d:function(e,t,a){"use strict";a("bd6e")},af74:function(e,t,a){"use strict";a("f0cc")},afd2:function(e,t,a){"use strict";a("0c66")},b8ab:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-route"},[a("BreadcurmbComp",{on:{"refresh-page":e.refreshData}}),a("XyBuilderForm",{ref:"xy_builder",attrs:{api:e.api,header:e.$route.meta.header,showDev:e.$store.state.app.showDev},on:{close:e.closePage}})],1)},r=[],o=(a("b64b"),a("3e8a")),n=a("21b3"),s={name:"XyBuilderFormRoute",components:{XyBuilderForm:o["default"],BreadcurmbComp:n["default"]},data:function(){return{api:this.$route.meta.api}},created:function(){},beforeMount:function(){this.loadData()},methods:{closePage:function(){var e=this;if(this.$store.state.tagsview.showNavtab){var t=this.$route;this.$store.dispatch("tagsview/delVisitedViews",{baseUrl:this.$store.state.app.baseUrl+this.$store.state.menu.currentSite,data:t}).then((function(t){var a="";for(var i in e.$store.state.tagsview.visitedviews)a=i;var r=e.$store.state.tagsview.visitedviews[a];r?e.$router.push(r.fullPath):e.$router.push("/"),e.$forceUpdate()}))}else this.$router.back(-1);this.refreshData()},loadData:function(){if("dyform"==this.$route.meta.dytype){var e=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var t in this.$route.params)e=e+"/"+this.$route.params[t];if(Object.keys(this.$route.query).length>0){var a="?";for(var t in this.$route.query)a=a+t+"="+this.$route.query[t]+"&";e+=a}this.api=e}},refreshData:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}},l=s,u=a("2877"),c=Object(u["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},bd6e:function(e,t,a){},be73:function(e,t,a){},cbba:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("vue-particles",{staticClass:"slider-particles",attrs:{color:"#808695",linesColor:"#808695",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,moveSpeed:1,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),a("Row",{staticClass:"main",attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{staticClass:"login-box",attrs:{xs:20,sm:10,md:6,lg:5}},[a("div",{staticStyle:{width:"100%",color:"#fff","margin-bottom":"30px"}},[a("img",{staticStyle:{width:"120px","margin-bottom":"10px"},attrs:{src:e.$store.state.app.siteInfo.logo}}),a("h2",[e._v(e._s(e.$store.state.app.siteInfo.title)+"后台登录")])]),e.qrloginShow?e._e():a("Form",{ref:"login",attrs:{model:e.login,rules:e.loginRule}},[a("FormItem",[a("Input",{directives:[{name:"show",rawName:"v-show",value:e.showSrvlist,expression:"showSrvlist"}],attrs:{size:"large",type:"text",placeholder:"服务器API接口地址"},model:{value:e.baseUrl,callback:function(t){e.baseUrl=t},expression:"baseUrl"}},[a("Select",{model:{value:e.baseUrl,callback:function(t){e.baseUrl=t},expression:"baseUrl"}},e._l(e.srvList,(function(t,i){return a("Option",{key:i,attrs:{value:t.val.app.baseUrl}},[e._v("服务器")])})),1),a("Dropdown",{attrs:{slot:"prepend"},slot:"prepend"},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v(" 服务器 "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.srvList,(function(t,i){return a("DropdownItem",{key:i,attrs:{value:i},nativeOn:{click:function(a){return e.bindPickerChange(t.val.app.baseUrl)}}},[e._v(" "+e._s(t.val.app.siteInfo.title)+"-"+e._s(t.val.app.baseUrl)+" ")])})),1)],1)],1)],1),a("FormItem",{attrs:{prop:"account"}},[a("Input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"账号"},model:{value:e.login.account,callback:function(t){e.$set(e.login,"account",t)},expression:"login.account"}})],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit("login")}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"googleAuth"==this.admin2step,expression:"this.admin2step == 'googleAuth'"}],attrs:{prop:"googleAuth"}},[a("Input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"谷歌验证"},model:{value:e.login.googleAuth,callback:function(t){e.$set(e.login,"googleAuth",t)},expression:"login.googleAuth"}})],1),a("FormItem",[a("Button",{attrs:{size:"large",long:"",loading:e.login.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("login")}}},[e._v(" 登录 ")])],1)],1),e.supportQrlogin?[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.qrloginShow,expression:"!qrloginShow"}],staticClass:"qrlogin",on:{click:function(t){e.qrloginShow=!0}}}),e.activeData.app.apiInfo.qrlogin?a("div",{directives:[{name:"show",rawName:"v-show",value:e.qrloginShow,expression:"qrloginShow"}],staticClass:"qrlogin-modal"},[a("div",{staticClass:"flex space-between m-b"},[a("div"),a("div",[a("span",{staticClass:"cursor-pointer",on:{click:function(t){e.qrloginShow=!1}}},[e._v("账号密码登录")])])]),a("qrlogin",{staticClass:"text-center",attrs:{qrloginShow:e.qrloginShow,qrurlPrefix:e.activeData.app.apiInfo.qrlogin.qrurlPrefix,apiSeed:e.activeData.app.apiInfo.qrlogin.apiSeed}}),a("div",{staticClass:"text-center m-t"},[e._v(e._s(e.activeData.app.apiInfo.qrlogin.tip))])],1):e._e()]:e._e()],2)],1),e.useVerify?a("vue2-verify",{ref:"verify",attrs:{mode:"pop",baseUrl:e.activeData.app.apiInfo.domainRoot,captchaType:"blockPuzzle",imgSize:{width:"330px",height:"155px"}},on:{success:e.verifySuccess}}):e._e()],1)},r=[],o=a("1da1"),n=(a("e9c4"),a("96cf"),a("9a4d")),s=a("c276"),l={components:{qrlogin:n["default"]},data:function(){var e,t,a,i;return{supportQrlogin:!1,qrloginShow:!1,activeData:"",srvList:s["a"].getSrvList(),showSrvlist:!1,baseUrl:"",admin2step:"",login:{loading:!1,account:"",password:"",googleAuth:"",mobileVerify:"",emailVerify:"",captchaVerify:""},loginRule:{account:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]},useVerify:null===(e=this.activeData)||void 0===e||null===(t=e.app)||void 0===t||null===(a=t.apiInfo)||void 0===a||null===(i=a.config)||void 0===i?void 0:i.useVerify}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$xyutil.getStorageSync("account")&&(e.login.account=e.$xyutil.getStorageSync("account"),e.login.password=e.$xyutil.getStorageSync("password")),e.baseUrl=e.$xyutil.getStorageSync("xyadmin-active"),e.$route.query.mul?(e.showSrvlist=!0,e.baseUrl||(e.baseUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"api")):e.baseUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"api",t.next=5,e.getSiteInfo();case 5:e.useVerify=null===(a=e.activeData)||void 0===a||null===(i=a.app)||void 0===i||null===(r=i.apiInfo)||void 0===r||null===(o=r.config)||void 0===o?void 0:o.useVerify,e.activeData.app.apiInfo.qrlogin&&(e.supportQrlogin=!0,e.activeData.app.apiInfo.qrlogin.isDefault&&(e.qrloginShow=!0));case 7:case"end":return t.stop()}}),t)})))()},methods:{bindPickerChange:function(e){this.baseUrl=e},verifySuccess:function(e){this.login.captchaVerify=e,this.loginSubmit()},useVerifyShow:function(){this.$refs.verify&&this.$refs.verify.show()},handleSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSiteInfo();case 2:e.activeData.app.apiInfo.config&&e.activeData.app.apiInfo.config.useVerify?e.useVerifyShow():e.loginSubmit();case 3:case"end":return t.stop()}}),t)})))()},getSiteInfo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.baseUrl){t.next=19;break}if(e.$xyutil.setStorageSync("xyadmin-active",e.baseUrl),e.activeData=e.$xyutil.getStorageSync("xyadmin-vuex-"+e.baseUrl),e.activeData||(e.activeData=e.$xyutil.getStorageSync("xyadmin-vuex-default")),!e.activeData){t.next=18;break}return e.activeData=JSON.parse(e.activeData),{},t.next=9,e.$xyutil.request({url:e.baseUrl,method:"get"});case 9:if(a=t.sent,200==a.code){t.next=13;break}return e.$xyutil.showToast({title:"接口异常，请检查服务器接口！",icon:"loading",duration:2e3}),t.abrupt("return",!1);case 13:a.data.api.urlLogin&&(window.location.href=a.data.api.urlLogin),e.activeData.app.apiInfo=a.data,a.data.siteInfo&&(a.data.siteInfo.admin2step&&(e.admin2step=a.data.siteInfo.admin2step.login[0]),e.activeData.app.baseUrl=e.baseUrl,e.activeData.app.siteInfo=a.data.siteInfo),t.next=19;break;case 18:alert("不存在xyadmin-vuex-default");case 19:case"end":return t.stop()}}),t)})))()},loginSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.login.loading=!0,t=this,setTimeout((function(){t.login.loading=!1}),5e3),e.next=5,this.$xyutil.request({url:this.activeData.app.apiInfo.api.apiBase+this.activeData.app.apiInfo.api.apiLogin,data:this.login,method:"post"});case 5:a=e.sent,200==a.code?(this.activeData.user.token=a.data.token,this.activeData.user.userInfo=a.data.userInfo,this.activeData.menu.menuList="",this.$xyutil.showToast({title:a.msg,icon:"success",duration:1e3}),this.$xyutil.setStorageSync("xyadmin-vuex-"+this.baseUrl,JSON.stringify(this.activeData)),this.$xyutil.reLaunch()):this.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),this.login.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=l,c=(a("f4af"),a("2877")),m=Object(c["a"])(u,i,r,!1,null,"d99e0f72",null);t["default"]=m.exports},cedd:function(e,t,a){"use strict";a("ecd9")},d440:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("iframe",{staticStyle:{width:"100%",height:"calc(100vh - 150px)"},attrs:{frameborder:"0",src:e.outUrl}})])},r=[],o={name:"XyBuilderIframeRoute",components:{},data:function(){return{outUrl:""}},created:function(){},beforeMount:function(){this.outUrl=this.$route.meta.outUrl},methods:{},watch:{}},n=o,s=a("2877"),l=Object(s["a"])(n,i,r,!1,null,null,null);t["default"]=l.exports},d820:function(e,t,a){e.exports=a.p+"img/qun_qq.a49e406d.png"},dd30:function(e,t,a){"use strict";a("47f3")},e6e1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-list"},[e.listData.alertList&&e.listData.alertList.top?e._l(e.listData.alertList.top,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:e._s(t.desc)}})])})):e._e(),[e.listData.countList?a("el-row",{attrs:{type:"flex",justify:"start",align:"top"}},e._l(e.listData.countList,(function(t,i){return a("el-col",{key:i,attrs:{xs:12,xl:t.item.xl?t.item.xl:6,xxl:4}},[a("el-row",{staticClass:"count-item",style:{backgroundColor:t.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("el-col",{staticClass:"left"},[a("i",{staticClass:"icon",class:t.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.item.title,expression:"it.item.title"}]},[e._v(e._s(t.item.title))])]),a("el-col",{staticClass:"right",style:{backgroundColor:t.item.bgColorRight||"#fff",color:t.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[e._v(e._s(t.current.value))]),a("span",{staticClass:"suffix"},[e._v(e._s(t.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.value,expression:"it.content.value"}],staticClass:"value"},[e._v(e._s(t.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.list,expression:"it.content.list"}],staticClass:"list"},e._l(t.content.list,(function(t,i){return a("div",{key:i,staticClass:"cell"},[e._v(" "+e._s(t.title)+"："+e._s(t.value)+" ")])})),0)])])],1)],1)})),1):e._e(),e._l(e.listData.topButtonList,(function(t,i){return[a("transition",{key:"top_modal_"+i,attrs:{name:"el-zoom-in-top"}},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"top_modal_"+t.name,refInFor:!0,attrs:{"close-on-click-modal":!!t.pageData.hasOwnProperty("modalClosable")&&t.pageData.modalClosable,"append-to-body":!0,visible:t.pageData.show,width:t.pageData.width||"800px",title:t.pageData.title},on:{open:e.dialogOpen,close:e.dialogClose,"update:visible":function(a){return e.$set(t.pageData,"show",a)}}},["form"==t.pageData.modalType?[a("XyBuilderForm",{ref:"top_dialog_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}})]:"list"==t.pageData.modalType?[a("XyBuilderList",{ref:"top_dialog_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev}})]:"tab"==t.pageData.modalType?[a("XyBuilderTab",{ref:"top_dialog_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev}})]:"stack"==t.pageData.modalType?[a("XyBuilderStack",{ref:"top_dialog_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev}})]:"info"==t.pageData.modalType?[a("XyBuilderInfo",{ref:"top_dialog_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev}})]:"col"==t.pageData.modalType?[a("XyBuilderCol",{ref:"top_dialog_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev}})]:"remote"==t.pageData.modalType?[a("XyBuilderRemote",{ref:"top_remote_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,outUrl:t.pageData.outUrl,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}})]:e._e()],2)],1)]})),a("div",{staticClass:"tool-box",style:{display:e.listData.filterItems&&e.listData.filterItems.length>2?"block":"flex",justifyContent:"space-between"}},[a("div",{staticClass:"top-button-list"},[e._l(e.listData.topButtonList,(function(t,i){return["print"==t.pageData.modalType?a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#table-box",expression:"'#table-box'"}],key:"button"+i,attrs:{type:t.style.type||"primary",size:t.style.size||"small"}},[e._v(" "+e._s(t.title)+" ")]):a("el-button",{key:"button"+i,staticStyle:{"margin-bottom":"10px"},attrs:{"empty-text":"当前没有数据",type:t.style.type||"primary",size:t.style.size||"small",icon:t.style.icon},on:{click:function(t){return e.topButtonModal(i)}}},[e._v(" "+e._s(t.title)+" ")])]})),e.listData.config.listAsBlock?[a("el-button-group",{staticClass:"m-l"},[a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){e.listData.config.listStyle=""}}},[a("i",{staticClass:"xyicon xyicon-nav"})]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){e.listData.config.listStyle="block"}}},[a("i",{staticClass:"xyicon xyicon-more-o"})])],1)]:e._e()],2),e.listData.filterItems&&e.listData.filterItems.length>0?a("div",{staticClass:"filter-list flex-1 flex",style:{justifyContent:e.listData.filterItems&&e.listData.filterItems.length>2?"flex-start":"flex-end"},attrs:{gutter:16}},[a("el-form",{ref:"formFilter",attrs:{"label-position":"left","label-width":"80px",inline:!0,size:"small",model:e.filterValues}},[e._l(e.listData.filterItems,(function(t,i){return[a("el-form-item",{key:i,staticClass:"filter-item",attrs:{label:t.title+":"}},["text"==t.type?[a("el-input",{attrs:{type:"text",placeholder:t.extra.placeholder},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.loadData())}},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"select"==t.type?[a("el-select",{attrs:{clearable:"",filterable:""},on:{"on-change":function(t){return e.loadData()}},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}},e._l(t.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==t.type?[a("el-radio-group",{model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}},e._l(t.extra.options,(function(t,i,r){return a("el-radio",{key:r,attrs:{label:t.value}},[a("span",[e._v(e._s(t.title))])])})),1)]:"checkbox"==t.type?[a("el-checkbox-group",{model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}},e._l(t.extra.options,(function(t,i,r){return a("el-checkbox",{key:r,attrs:{label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"datepicker"==t.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"timepicker"==t.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间","value-format":t.extra.format||"HH:mm:ss"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"timerangepicker"==t.type?[a("el-time-select",{attrs:{type:"timerange","is-range":"",placeholder:"选择时间区间","value-format":t.extra.format||"HH:mm:ss"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"datetimepicker"==t.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"daterangepicker"==t.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"datetimerangepicker"==t.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:e._e()],2)]})),[a("el-form-item",{staticClass:"filter-item ",attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData()}}},[e._v("查询")]),e.listData.filterExtra&&e.listData.filterExtra.exportBtn?e._l(e.listData.filterExtra.exportBtn,(function(t,i){return a("el-button",{key:i,staticClass:"m-l-xs",attrs:{type:t.type||"primary"},on:{click:function(t){return e.handleFilterExport(i)}}},[e._v(" "+e._s(t.title||"导出")+" ")])})):e._e()],2)]],2)],1):e._e()]),e.listData.config.tableTitle?a("div",{staticClass:"m-b-sm table-title text-center",staticStyle:{"font-family":"SimSun"}},e._l(e.listData.config.tableTitle,(function(t,i){return a("div",{key:i,staticClass:"ts-30",style:{width:t.width}},[e._v(" "+e._s(t.value)+" ")])})),0):e._e(),e.listData.config.tableBefore?a("div",{staticClass:"m-b-sm table-title text-center flex space-around",staticStyle:{"font-family":"SimSun"}},e._l(e.listData.config.tableBefore,(function(t,i){return a("div",{key:i,staticClass:"ts-14"},[a("span",[e._v(e._s(t.title)+"：")]),a("span",[e._v(e._s(t.value))])])})),0):e._e(),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"table-box",style:{minHeight:e.loading?"100px":"0"},attrs:{id:"table-box","element-loading-text":"拼命加载中"}},[e.listData.config.listStyle&&""!=e.listData.config.listStyle?"block"==e.listData.config.listStyle?a("div",[a("el-row",{staticClass:"block-list flex flex-wrap",attrs:{type:"flex",gutter:20}},[e._l(e.listData.dataList,(function(t,i){return[a("el-col",{key:i,staticClass:"item",attrs:{xs:24,sm:12,md:8,lg:6,xl:4,offset:0}},[a("div",{staticClass:"image cursor-pointer",style:{background:"rgba("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+",0.65)"},attrs:{style1:{background:"#"+("00000"+(t.id/100*268435456<<0).toString(16)).slice(-6)}}},[t.cover?a("img",{attrs:{src:t.cover}}):e._e(),a("h4",{directives:[{name:"id",rawName:"v-id",value:!t.cover,expression:"!tableRow.cover"}],staticClass:"image-title"},[e._v(" "+e._s(t[e.listData.config.listAsBlock.title.field])+" ")])]),a("div",{staticClass:"bottom bg-white"},[a("div",{staticClass:"flex space-between"},[a("div",{staticClass:"title ts-14"},[e._v(" "+e._s(t[e.listData.config.listAsBlock.title.field])+" ")]),a("div",{staticClass:"ts-12 text-error"},[e._v(" "+e._s(t[e.listData.config.listAsBlock.titleRight.field])+" ")])]),a("div",{staticClass:"info flex space-between"},[a("div",{staticClass:"ts-12 text-gray"},[e._v(" "+e._s(t[e.listData.config.listAsBlock.info.field])+" ")]),a("div",{staticClass:"subtitle text-gray ts-13"},[e._l(e.listData.rightButtonList,(function(i,r){return[t["rightButtonList"]?[t["rightButtonList"].includes(i.name)?[a("a",{key:"rbutton"+r,class:"default"==i.style.type?"":"text-"+i.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:i.style.type,size:i.style.size,icon:i.style.icon},on:{click:function(a){return e.rightButtonModal(r,{row:t})}}},[e._v(" "+e._s(i.title)+" ")])]:e._e()]:[e.showByCondition(i,t)?a("a",{key:"rbutton"+r,class:"default"==i.style.type?"":"text-"+i.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:i.style.type,size:i.style.size,icon:i.style.icon},on:{click:function(a){return e.rightButtonModal(r,{row:t})}}},[e._v(" "+e._s(i.title)+" ")]):e._e()]]}))],2)])])])]}))],2)],1):"timeline"==e.listData.config.listStyle?a("div",[a("el-timeline",e._l(e.listData.dataList,(function(t,i){return a("el-timeline-item",{key:i,attrs:{timestamp:t[e.listData.config.listAsTiemline?e.listData.config.listAsTiemline:"createTime"],placement:"top"}},[a("el-card",[t.title?a("h4",[e._v(e._s(t.title))]):e._e(),e._l(e.listData.columns,(function(i,r){return a("div",{key:r},[i.name!=e.listData.config.listAsTiemline?a("p",["tag"==i.extra.type?[i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))]?[a("span",[e._v(e._s(i.title)+"：")]),a("el-tag",{attrs:{hit:!1,size:"mini",effect:i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].effect||"dark",type:i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].type||"",color:i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].color||"default"}},[e._v(" "+e._s(i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].title||e.getVal({row:t},i))+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[e._v(" "+e._s(t[i.name])+" ")])]]:"rightButtonList"==i.extra.type?[a("el-table-column",{key:e.colkey,attrs:{fixed:(!e.$store.state.menu||"fui"!=e.$store.state.menu.adminTheme)&&"right",prop:i.name,label:i.title,width:i.extra.width}},[[a("div",[a("span",[e._v(e._s(i.title)+"：")]),e._l(e.listData.rightButtonList,(function(r,o){return[t[i.name]?[t[i.name].includes(r.name)?[a("a",{key:"rbutton"+o,class:"default"==r.style.type?"":"text-"+r.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:r.style.type,size:r.style.size,icon:r.style.icon},on:{click:function(a){return e.rightButtonModal(o,{row:t})}}},[e._v(" "+e._s(r.title)+" ")])]:e._e()]:[e.showByCondition(r,t)?a("a",{key:"rbutton"+o,class:"default"==r.style.type?"":"text-"+r.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:r.style.type,size:r.style.size,icon:r.style.icon},on:{click:function(a){return e.rightButtonModal(o,{row:t})}}},[e._v(" "+e._s(r.title)+" ")]):e._e()]]}))],2)]],2)]:[a("span",[e._v(e._s(i.title)+"：")]),e._v(e._s(t[i.name])+" ")]],2):e._e()])}))],2)],1)})),1)],1):e._e():[!e.loading&&e.ready?a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.listData.dataList,"row-key":"id","srow-key":e.listData.dataListParams?e.listData.dataListParams.expandKey:"id",border:!!e.listData.config.listBorder&&e.listData.config.listBorder,stripe:!!e.listData.config.listStripe&&e.listData.config.listStripe,"tree-props":{children:"children",hasChildren:"hasChildren"},"default-expand-all":!(!e.listData.config||!e.listData.config.listExpandAll)&&e.listData.config.listExpandAll},on:{"cell-click":e.cellClick,select:e.selectRow,"selection-change":e.handleSelectionChange,"select-all":e.selectAll}},[e.listData.dataListParams&&e.listData.dataListParams.selectable?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),e._l(e.listData.columns,(function(t,i,r){return[t.children&&0!=t.children.length?[a("el-table-column",{key:r,attrs:{label:t.title}},[e._l(t.children,(function(t,i,r){return[t.children&&t.children.length>0?[a("el-table-column",{key:r,attrs:{label:t.title}},[e._l(t.children,(function(e,t,i){return[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"}},[void 0],2)]}))],2)]:[a("el-table-column",{key:r,attrs:{prop:t.name,label:t.title,width:t.extra.width,"min-width":t.extra.minWidth||"50px"},scopedSlots:e._u([{key:"default",fn:function(i){return[a("table-column",{key:r,attrs:{myscope:i,mycolitem:t,header:e.header,pitem:e.pitem,listData:e.listData,current:e.current,currentItem:e.currentItem}})]}}],null,!0)})]]}))],2)]:[a("el-table-column",{key:r,attrs:{type:"id"==t.extra.type?"index":"default",fixed:"fui"!=e.$store.state.menu.adminTheme&&"rightButtonList"==t.extra.type&&"right",prop:t.name,label:t.title,width:t.extra.width?t.extra.width:void 0,"min-width":t.extra.minWidth&&"rightButtonList"!=t.extra.type?t.extra.minWidth:void 0},scopedSlots:e._u([{key:"default",fn:function(i){return[a("table-column",{attrs:{myscope:i,mycolitem:t,header:e.header,pitem:e.pitem,listData:e.listData,current:e.current,currentItem:e.currentItem}})]}}],null,!0)})]]}))],2):e._e()]],2),a("div",{staticClass:"flex space-between flex-alignCenter"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.listData.dataPage.total>0,expression:"listData.dataPage.total > 0"}],staticClass:"text-left m-t-sm m-b-sm",attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-size":e.limit,"current-page":e.page,total:e.listData.dataPage.total},on:{"current-change":e.pageChange,"size-change":e.limitChange,"update:pageSize":function(t){e.limit=t},"update:page-size":function(t){e.limit=t},"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}}),a("div",{staticClass:"p-l-lg p-r-lg"},[e.$store.state.menu&&"fui"==e.$store.state.menu.adminTheme?a("dv-decoration-2",{staticStyle:{width:"50%",height:"3px"}}):e._e()],1)],1),a("div",{staticClass:"dialog-pool"},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.currentItem.pageData.show,width:e.currentItem.pageData.width||"900",title:e.currentItem.pageData.title},on:{open:e.dialogOpen,close:e.dialogClose,"update:visible":function(t){return e.$set(e.currentItem.pageData,"show",t)}}},[e.currentItem.pageData.show?["list"==e.currentItem.pageData.modalType?a("XyBuilderList",{ref:"dialog-pool-list",attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem,showDev:e.showDev}}):"form"==e.currentItem.pageData.modalType?a("XyBuilderForm",{ref:"dialog-pool-form",attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem,showDev:e.showDev}}):"htmls"==e.currentItem.pageData.modalType?a("div",e._l(e.currentItem.pageData.predata,(function(t,i){return a("div",{key:i,domProps:{innerHTML:e._s(t)}})})),0):"table"==e.currentItem.pageData.modalType?a("div",[a("el-table",{attrs:{data:e.currentItem.pageData.predata.data,border:"",stripe:""}},e._l(e.currentItem.pageData.predata.columns,(function(e){return a("el-table-column",{key:e.name,attrs:{prop:e.name,label:e.title,width:e.width}})})),1)],1):e._e()]:e._e()],2)],1),e._l(e.listData.rightButtonList,(function(t,i){return a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],key:"right_modal_"+i,ref:"right_modal_"+t.name,refInFor:!0,attrs:{"close-on-click-modal":!0===t.pageData.modalClosable,"append-to-body":!0,visible:t.pageData.show,width:t.pageData.width||"700",title:t.pageData.title},on:{open:e.dialogOpen,close:e.dialogClose,"update:visible":function(a){return e.$set(t.pageData,"show",a)}}},["form"==t.pageData.modalType?[t.pageData.show?a("XyBuilderForm",{ref:"right_form_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}}):e._e()]:"list"==t.pageData.modalType?[a("XyBuilderList",{ref:"right_list_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:"info"==t.pageData.modalType?[a("XyBuilderInfo",{ref:"right_info_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:"tab"==t.pageData.modalType?[a("XyBuilderTab",{ref:"right_info_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t}})]:"stack"==t.pageData.modalType?[a("XyBuilderStack",{ref:"right_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:"remote"==t.pageData.modalType?[a("XyBuilderRemote",{ref:"right_remote_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,outUrl:t.pageData.outUrl,show:t.pageData.show,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}})]:"col"==t.pageData.modalType?[a("XyBuilderCol",{ref:"right_remote_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:e._e()],2)})),1==this.showActions?a("div",[a("el-divider"),a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submit()}}},[e._v(" 确认选择 ")]),a("el-button",{attrs:{type:"text",size:"default"},on:{click:function(t){return e.cancel()}}},[e._v(" 取消操作 ")])],1):e._e()],e.listData.alertList&&e.listData.alertList.bottom?[a("div",e._l(e.listData.alertList.bottom,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:e._s(t.desc)}})])})),1)]:e._e()],2)},r=[],o=a("5530"),n=a("1da1"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("a15b"),a("e260"),a("e6cf"),a("4328")),l=a.n(s),u={name:"check",data:function(){return{hasCheckAll:!1,currentSelected:-1,currentSelecteds:[]}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{selectRow:function(e,t){var a,i,r,o;"radio"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)?(this.$refs.dataTable.clearSelection(),this.$refs.dataTable.toggleRowSelection(t,!0),this.currentSelected=t.id):"checkbox"==(null===(r=this.listData)||void 0===r||null===(o=r.dataListParams)||void 0===o?void 0:o.selectType)&&t.children&&this.checkChildRows(t.children)},handleSelectionChange:function(e){var t,a;if("checkbox"==(null===(t=this.listData)||void 0===t||null===(a=t.dataListParams)||void 0===a?void 0:a.selectType)){var i=[];e.forEach((function(e){i.push(e.id)})),this.currentSelecteds=i}},selectAll:function(){var e,t,a,i;"radio"==(null===(e=this.listData)||void 0===e||null===(t=e.dataListParams)||void 0===t?void 0:t.selectType)?this.$refs.dataTable.clearSelection():"checkbox"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)&&(this.hasCheckAll?(this.checkChildRows(this.listData.dataList,!1),this.hasCheckAll=!1):(this.checkChildRows(this.listData.dataList),this.hasCheckAll=!0))},checkChildRows:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){t.$refs.dataTable.toggleRowSelection(e,a),e.children&&t.checkChildRows(e.children,a)}))},checkRows:function(e){var t=this;e.forEach((function(e){t.currentSelecteds&&t.currentSelecteds.indexOf(e.id)>=0&&t.$refs.dataTable.toggleRowSelection(e,!0),e.children&&t.checkRows(e.children)}))},submit:function(){var e,t;"checkbox"==(null===(e=this.listData)||void 0===e||null===(t=e.dataListParams)||void 0===t?void 0:t.selectType)?this.$emit("input",this.currentSelecteds):this.$emit("input",this.currentSelected),this.$emit("close-model")}}},c=(a("b0c0"),{name:"inlineEdit",data:function(){return{editFaild:[]}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{cellChange:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,o,n,s,l,u,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(null!==t&&void 0!==t&&null!==(r=t.extra)&&void 0!==r&&r.url){i.next=3;break}return a.$xyutil.showToast({title:"未设置修改接口",icon:"error",duration:2e3}),i.abrupt("return",!1);case 3:return i.next=5,a.$xyutil.request({url:null===t||void 0===t||null===(o=t.extra)||void 0===o?void 0:o.url,method:"PUT",data:{table:null===(n=a.listData)||void 0===n||null===(s=n.dataListParams)||void 0===s?void 0:s.tableName,field:t.name,newval:e.row[t.name],id:e.row.id},header:{CloudId:null===(l=a.header)||void 0===l?void 0:l.cloudId,Eid:null===(u=a.header)||void 0===u?void 0:u.eid}});case 5:c=i.sent,200==c.code?(a.$xyutil.showToast({title:c.msg,icon:"success",duration:1e3}),a.current.row={},a.current.column={}):a.$xyutil.showToast({title:c.msg,icon:"error",duration:2e3});case 8:case"end":return i.stop()}}),i)})))()},changeCheckbox:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.column.extra.url?e.column.extra.url:"/v1/admin/core/index/editField",(null===(i=t.header)||void 0===i?void 0:i.cloudId)>0&&(s=e.column.extra.url?e.column.extra.url:"/v1/iadmin/core/index/editField"),(null===(r=t.header)||void 0===r?void 0:r.Eid)>0&&(s=e.column.extra.url?e.column.extra.url:"/v1/eadmin/core/index/editField"),a.next=6,t.$xyutil.request({url:s,method:"PUT",data:{table:t.listData.dataListParams.tableName,field:e.column.name,newval:scope.row[e.column.name],id:scope.row.id},header:{CloudId:null===(o=t.header)||void 0===o?void 0:o.cloudId,Eid:null===(n=t.header)||void 0===n?void 0:n.eid}});case 6:l=a.sent,200==l.code?t.$Message.success(l.msg):t.$Message.error(l.msg);case 8:case"end":return a.stop()}}),a)})))()},changeSwitch:function(e,t,a){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var o,n,s,l,u,c,m,d,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i.listData.dataListParams.tableName){r.next=3;break}return i.$xyutil.showToast({title:"未设置表名",icon:"error",duration:2e3}),r.abrupt("return",!1);case 3:return c=(null===a||void 0===a||null===(o=a.extra)||void 0===o?void 0:o.url)||"/v1/admin/core/index/editField",(null===(n=i.header)||void 0===n?void 0:n.cloudId)>0&&(c=(null===a||void 0===a||null===(m=a.extra)||void 0===m?void 0:m.url)||"/v1/iadmin/core/index/editField"),(null===(s=i.header)||void 0===s?void 0:s.Eid)>0&&(c=(null===a||void 0===a||null===(d=a.extra)||void 0===d?void 0:d.url)||"/v1/eadmin/core/index/editField"),i.listData.dataList[t.$index][a.name+"_loading"]=!0,r.next=9,i.$xyutil.request({url:c,method:"PUT",data:{table:i.listData.dataListParams.tableName,field:a.name,newval:e,id:t.row.id},header:{CloudId:null===(l=i.header)||void 0===l?void 0:l.cloudId,Eid:null===(u=i.header)||void 0===u?void 0:u.eid}});case 9:p=r.sent,200==p.code?i.$xyutil.showToast({title:p.msg,icon:"success",duration:1e3}):i.$xyutil.showToast({title:p.msg,icon:"error",duration:2e3});case 11:case"end":return r.stop()}}),r)})))()}}}),m=a("ff4e"),d=a("b85c"),p=(a("ac1f"),a("1276"),a("c740"),a("caad"),a("2532"),{name:"table-column-methods",data:function(){return{}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getVal:function(e,t){if(-1==t.name.indexOf("."))return e.row[t.name];var a=t.name.split(".");switch(a.length){case 2:return e.row[a[0]][a[1]];case 3:return e.row[a[0]][a[1]][a[2]];case 4:return e.row[a[0]][a[1]][a[2]][a[3]]}},getArrayIndex:function(e,t){var a=e.findIndex((function(e){return e.value===t}));return a},showByCondition:function(e,t){if(!e.pageData.hasOwnProperty("condition"))return!0;var a,i=Object(d["a"])(e.pageData.condition);try{for(i.s();!(a=i.n()).done;){var r=a.value;switch(r[1]){case"=":if(t[r[0]]!==r[2])return!1;break;case">":if(!(t[r[0]]>r[2]))return!1;break;case">=":if(!(t[r[0]]>=r[2]))return!1;break;case"<":if(!(t[r[0]]<r[2]))return!1;break;case"<=":if(!(t[r[0]]<=r[2]))return!1;break;case"in":if(!r[2].includes(t[r[0]]))return!1;break;case"has":if(!t[r[0]].includes(r[2]))return!1;break}}}catch(o){i.e(o)}finally{i.f()}return!0}}}),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-list-table-column inline-block"},["html"==e.mycolitem.extra.type?[a("div",{domProps:{innerHTML:e._s(e.myscope.row[e.mycolitem.name])}})]:"id"==e.mycolitem.extra.type?[a("el-popover",{attrs:{placement:"top-start",title:"ID",width:"200",trigger:"hover",content:e.getVal(e.myscope,e.mycolitem)}},[a("span",{staticClass:"cursor-pointer",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.myscope.$index+1+(e.listData.dataPage.page-1)*e.listData.dataPage.limit))])])]:"group"==e.mycolitem.extra.type?e._l(e.mycolitem.extra.extend.fields,(function(t,i){return a("div",{key:i,staticClass:"group-mycolitem"},[a("div",{staticClass:"title"},[e._v(" "+e._s(t[1])+" : ")]),a("div",{staticClass:"value"},[e._v(" "+e._s(e.myscope.row[t[0]])+" ")])])})):"checkbox1"==e.mycolitem.extra.type?[a("el-checkbox-group",{on:{"on-change":function(t){return e.changeCheckbox(e.myscope)}},model:{value:e.myscope.row[e.mycolitem.name],callback:function(t){e.$set(e.myscope.row,e.mycolitem.name,t)},expression:"myscope.row[mycolitem.name]"}},e._l(e.mycolitem.extra.options,(function(t,i,r){return a("el-checkbox",{key:r,attrs:{disabled:!!e.mycolitem.extra.disabled&&e.mycolitem.extra.disabled,label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"switch"==e.mycolitem.extra.type?[a("el-switch",{attrs:{size:"mini","av-loading":"listData.dataList[myscope.$index][mycolitem.name + '_loading']","active-text1":e.mycolitem.extra.options[1].title,"inactive-text1":e.mycolitem.extra.options[0].title,"active-color":"#86c042","inactive-color":"#ddd","active-value":e.mycolitem.extra.options[1].value,"inactive-value":e.mycolitem.extra.options[0].value},on:{change:function(t){return e.changeSwitch(t,e.myscope,e.mycolitem)}},model:{value:e.myscope.row[e.mycolitem.name],callback:function(t){e.$set(e.myscope.row,e.mycolitem.name,t)},expression:"myscope.row[mycolitem.name]"}})]:"image"==e.mycolitem.extra.type?[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.getVal(e.myscope,e.mycolitem)||e.CDN_URL+"/noimage.png",width:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.width?e.mycolitem.extra.extend.width:"",height:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.height?e.mycolitem.extra.extend.height:"35"}})]:"images"==e.mycolitem.extra.type?e._l(e.getVal(e.myscope,e.mycolitem),(function(t){return a("img",{key:t,staticStyle:{"vertical-align":"middle","margin-right":"2px"},attrs:{src:t.url||e.CDN_URL+"/noimage.png",width:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.width?e.mycolitem.extra.extend.width:"",height:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.height?e.mycolitem.extra.extend.height:"35"}})})):"audio"==e.mycolitem.extra.type?[a("audio",{staticStyle:{"vertical-align":"middle",width:"150px",height:"30px"},attrs:{controls:"controls",preload:"none"}},[a("source",{attrs:{src:e.getVal(e.myscope,e.mycolitem)}}),e._v(" Your browser does not support the audio element. ")])]:"rate"==e.mycolitem.extra.type?[a("el-rate",{staticStyle:{"vertical-align":"middle"},attrs:{"allow-half":"",disabled:"","show-text":!1,value:e.getVal(e.myscope,e.mycolitem)}})]:"progress"==e.mycolitem.extra.type?[e.mycolitem.extra.extend?a("el-progress",{staticStyle:{"vertical-align":"middle"},attrs:{type:e.mycolitem.extra.extend.type||"line",percentage:e.getVal(e.myscope,e.mycolitem),status:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.status||"","text-inside":!0,"stroke-width":12}},[e.mycolitem.extra.extend.hideIcon?[e._v(" "+e._s(e.getVal(e.myscope,e.mycolitem))+"% ")]:e._e()],2):e._e()]:"tags"==e.mycolitem.extra.type?["string"==typeof e.mycolitem.name?[e._l(e.getVal(e.myscope,e.mycolitem),(function(t,i){return[e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)]?[a("el-tag",{key:i,attrs:{size:"mini",hit:!1,effect:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].effect||"dark",type:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].type||"",color:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].color||"default"}},[e._v(" "+e._s(e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].title||t)+" ")])]:[a("el-tag",{key:i,attrs:{size:"mini",hit:!1}},[e._v(" "+e._s(t)+" ")])]]}))]:e._e()]:"tag"==e.mycolitem.extra.type?[e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))]?[a("el-tag",{attrs:{hit:!1,size:"mini",effect:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].effect||"dark",type:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].type||"",color:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].color||"default"}},[e._v(" "+e._s(e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].title||e.getVal(e.myscope,e.mycolitem))+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[e._v(" "+e._s(e.myscope.row[e.mycolitem.name])+" ")])]]:"password"==e.mycolitem.extra.type?[e.mycolitem.extra.show?[e._v(" "+e._s(e.getVal(e.myscope,e.mycolitem))+" ")]:[e._v("******")],a("i",{attrs:{type:"el-icon-view"},on:{click:function(t){e.mycolitem.extra.show=!e.mycolitem.extra.show}}})]:"url"==e.mycolitem.extra.type?[a("a",{attrs:{target:"_blank",href:e.getVal(e.myscope,e.mycolitem)}},[e.mycolitem.extra.title?[e._v(" "+e._s(e.mycolitem.extra.title)+" ")]:[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))]],2)]:"qrcode"==e.mycolitem.extra.type?[e.mycolitem.extra.title?[e._v(" "+e._s(e.mycolitem.extra.title)+" ")]:[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))],a("el-popover",{attrs:{placement:"top-start",title:"扫码下载",width:"120px",trigger:"hover"}},[a("div",{staticClass:"flex flex-alignCenter flex-center",staticStyle:{width:"120px",height:"120px",background:"#fff"}},[a("xy-qrcode",{staticClass:"qrcode",style:{opacity:1},attrs:{value:e.getVal(e.myscope,e.mycolitem),options:{width:120,margin:3}}})],1),a("span",{staticClass:"cursor-pointer xyicon xyicon-qrcode",staticStyle:{"margin-left":"3px"},attrs:{slot:"reference"},slot:"reference"})])]:"time"==e.mycolitem.extra.type?[e._v(" "+e._s(e.$xyutil.timeFormat(e.myscope.row[e.mycolitem.name],e.mycolitem.extra.extend.format||""))+" ")]:"label"==e.mycolitem.extra.type?[a("span",{style:{color:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].color||""}},[e._v(" "+e._s(e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].title||e.getVal(e.myscope,e.mycolitem))+" ")])]:"link"==e.mycolitem.extra.type?[a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.goPage(e.mycolitem,e.myscope)}}},[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))])]:"multitext"==e.mycolitem.extra.type?[a("el-popover",{attrs:{placement:"top-start",title:"详情",width:"500",trigger:"hover",content:e.getVal(e.myscope,e.mycolitem)}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("查看")])])]:"json"==e.mycolitem.extra.type?e._l(e.getVal(e.myscope,e.mycolitem),(function(t,i){return a("div",{key:i,staticClass:"flex space-between border-bottom_1px"},e._l(e.mycolitem.extra.options,(function(i,r){return a("div",{key:r},[e._v(" "+e._s(t[i.name])+" ")])})),0)})):"rightButtonList"==e.mycolitem.extra.type?[a("div",{staticClass:"hidden-sm-and-up"},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link text-primary"},[e._v(" 操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.listData.rightButtonList,(function(t,i){return[e.myscope.row[e.mycolitem.name]?[e.myscope.row[e.mycolitem.name].includes(t.name)?[a("el-dropdown-item",{key:"rbutton"+i,class:"default"==t.style.type?"":"text-"+t.style.type,nativeOn:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")])]:e._e()]:[e.showByCondition(t,e.myscope.row)?a("el-dropdown-item",{key:"rbutton"+i,class:"default"==t.style.type?"":"text-"+t.style.type,nativeOn:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")]):e._e()]]}))],2)],1)],1),a("div",{staticClass:"hidden-xs-only"},[e._l(e.listData.rightButtonList,(function(t,i){return[e.myscope.row[e.mycolitem.name]?[e.myscope.row[e.mycolitem.name].includes(t.name)?[a("el-tag",{key:"rbutton"+i,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{effect:"dark",type:t.style.type,size:t.style.size?t.style.size:"mini",icon:t.style.icon},on:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")])]:e._e()]:[e.showByCondition(t,e.myscope.row)?a("el-tag",{key:"rbutton"+i,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{effect:"dark",type:t.style.type,size:t.style.size?t.style.size:"mini",icon:t.style.icon},on:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")]):e._e()]]}))],2)]:[e.mycolitem.extra.celledit&&e.myscope.row.id==e.current.row.id&&e.mycolitem.name==e.current.column.property?[a("el-input",{attrs:{size:"small"},on:{change:function(t){return e.cellChange(e.myscope,e.mycolitem)}},model:{value:e.myscope.row[e.mycolitem.name],callback:function(t){e.$set(e.myscope.row,e.mycolitem.name,t)},expression:"myscope.row[mycolitem.name]"}})]:a("span",[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))])]],2)},h=[],y={name:"TableColumn",mixins:[m["a"],c,p],props:{header:{type:Object,default:function(){return{cloudId:0,eid:0}}},listData:{type:Object,default:function(){return{}}},current:{type:Object,default:function(){return{}}},currentItem:{type:Object,default:function(){return{pageData:{pageType:"modal",apiBlank:"",show:!1}}}},pitem:{type:Object,default:function(){return{}}},mycolitem:{type:Object,default:function(){return{}}},myscope:{type:Object,default:function(){return{}}}},data:function(){return{CDN_URL:"https://cdn.jiangruyi.com/cloud-admin/1.2.0/dist/"}},watch:{},created:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{}},g=y,v=a("2877"),x=Object(v["a"])(g,f,h,!1,null,null,null),b=x.exports,w=a("9d00"),D={name:"XyBuilderList",mixins:[u,c,m["a"],p],props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},show:!1,predata:"",value:0,config:{type:Object,default:function(){return{}}},pitem:{type:Object,default:function(){return{}}},showActions:!1,showDev:!1},components:{"table-column":b},data:function(){return{ready:!1,current:{row:{},column:{}},loading:!1,page:1,limit:10,filterValues:{},listData:{alertList:{},dataList:[],dataListParams:[],topButtonList:[],rightButtonList:[],columns:[],dataPage:{total:0,limit:10,page:1},filterItems:[],filterValues:[],filterExtra:{},countList:[],config:{listExpandAll:!1,modalDefaultWidth:800}},currentItem:{pageData:{pageType:"modal",modalTye:"",apiBlank:"",show:!1,title:"",predata:""}}}},watch:{show:function(e){1==e&&this.loadData("",!0)}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"efbd"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"6ced"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"3e8a"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"785f"))},this.$options.components.XyBuilderRemote=function(){return a.e("manifest").then(a.bind(null,"214d"))},this.$options.components.XyBuilderCol=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"2c22"))}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.predata?e.readyProcess(e.predata):e.loadData(),e.limit=e.listData.dataPage.limit;case 2:case"end":return t.stop()}}),t)})))()},methods:{cellClick:function(e,t,a,i){this.current.row=e,this.current.column=t},readyProcess:function(e){var t,a,i,r,n=this,s=w["a"].readyList({value:this.value,config:this.config,listData:e,filterValues:this.filterValues},this.$store.state.app.apiInfo);this.config=Object(o["a"])({},s.config),this.listData=Object(o["a"])({},s.listData),this.filterValues=Object(o["a"])({},s.filterValues),this.ready=!0,"checkbox"==(null===(t=this.listData)||void 0===t||null===(a=t.dataListParams)||void 0===a?void 0:a.selectType)?this.currentSelecteds=this.value:"radio"==(null===(i=this.listData)||void 0===i||null===(r=i.dataListParams)||void 0===r?void 0:r.selectType)&&(this.currentSelected=this.value),this.$nextTick((function(){var e,t,a,i;"checkbox"==(null===(e=n.listData)||void 0===e||null===(t=e.dataListParams)||void 0===t?void 0:t.selectType)?n.checkRows(n.listData.dataList):"radio"==(null===(a=n.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)&&n.listData.dataList.forEach((function(e){n.currentSelected==e.id&&n.$refs.dataTable.toggleRowSelection(e,!0)}))}))},cancel:function(){this.$emit("close-model")},getFilterParams:function(){var e={page:this.page,limit:this.limit};if(this.filterValues){var t=this.filterValues;if(this.listData.filterItems.length>0)for(var a in t)t.hasOwnProperty(a)&&null!==t[a]&&(t[a].constructor&&t[a].constructor===Array?e[a]=t[a].join(","):""!==t[a]&&(e[a]=t[a]))}return e},handleFilterExport:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=l.a.stringify(t.getFilterParams()),n=t.$store.state.app.api.apiBase+t.listData.filterExtra.exportBtn[e].api+"?cloudId="+(null===(i=t.header)||void 0===i?void 0:i.cloudId)+"&token="+(null===(r=t.header)||void 0===r?void 0:r.token)+"&"+o,window.open(n);case 3:case"end":return a.stop()}}),a)})))()},pageChange:function(e){this.page=e,this.loadData()},limitChange:function(e){this.page=1,this.limit=e,this.loadData()},closeModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.pageData.show=!1;var a=this;this.$nextTick((function(){!e.pageData.noRefresh&&t&&a.loadData()}))},loadData:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",r=e.length>1&&void 0!==e[1]&&e[1],""!=i&&(t.api=i),t.loading=!0,t.ready=!1,o={},r||(o=t.getFilterParams()),!t.api){a.next=12;break}return a.next=10,t.$xyutil.request({url:t.api,method:"get",data:o,header:t.header});case 10:n=a.sent,"200"==n.code?t.readyProcess(n.data.listData):t.$xyutil.showToast({title:n.msg,icon:"error",duration:2e3});case 12:t.loading=!1;case 13:case"end":return a.stop()}}),a)})))()},dialogOpen:function(){if(this.$store.state.app.uiAudio){var e=new Audio;e.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/open2.mp3",e.play()}},dialogClose:function(){if(this.$store.state.app.uiAudio){var e=new Audio;e.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/close2.mp3",e.play()}}}},k=D,_=(a("ae0d"),Object(v["a"])(k,i,r,!1,null,"7a5b100e",null));t["default"]=_.exports},ea62:function(e,t,a){e.exports=a.p+"img/app.ef222224.png"},ecd9:function(e,t,a){},eea6:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"home",attrs:{"element-loading-text":"拼命加载中"}},[i("el-row",{attrs:{gutter:15}},[e.panelList.length>0?e._l(e.panelList,(function(t,a){return i("el-col",{key:a,attrs:{md:24,lg:t.span}},["html"==t.type?[i("div",{domProps:{innerHTML:e._s(t.content)}})]:"count"==t.type?[i("el-row",{directives:[{name:"show",rawName:"v-show",value:t.content,expression:"item.content"}],attrs:{gutter:15}},e._l(t.content,(function(t,a){return i("el-col",{key:a,attrs:{xs:12,lg:t.item.lg||6,xl:4}},[i("el-row",{staticClass:"count-item",style:{backgroundColor:t.item.bgColor}},[i("el-col",{staticClass:"left"},[i("i",{staticClass:"icon",class:t.item.icon}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.item.title,expression:"it.item.title"}]},[e._v(e._s(t.item.title))])]),i("el-col",{staticClass:"right",style:{backgroundColor:t.item.bgColorRight?t.item.bgColorRight:"#fff",color:t.item.bgColorRight?"#fff":""}},[i("div",{staticClass:"value"},[i("span",[e._v(e._s(t.current.value))]),i("span",{staticClass:"suffix"},[e._v(e._s(t.current.suffix))])]),i("div",{staticClass:"title"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.content.value,expression:"it.content.value"}],staticClass:"value"},[e._v(e._s(t.content.value))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.content.list,expression:"it.content.list"}],staticClass:"list"},e._l(t.content.list,(function(t,a){return i("div",{key:a,staticClass:"cell"},[e._v(" "+e._s(t.title)+"："+e._s(t.value)+" ")])})),0)])])],1)],1)})),1)]:"card"==t.type?[i("Card",{staticClass:"index-card",attrs:{bordered:!1,"dis-hover":!0}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),i("div",[e._l(t.content,(function(t,a){return["divider"==t.type?[i("Divider",{key:a,staticStyle:{"font-size":"12px","font-weight":"400"},attrs:{size:"small",orientation:"left"}},[e._v(" "+e._s(t.title)+" ")])]:[i("el-row",{key:a,staticStyle:{"text-align":"justify","padding-bottom":"5px","margin-bottom":"5px","border-bottom":"1px dashed #eee"},attrs:{type:"flex",justify:"start",align:"top"}},[i("el-col",{attrs:{xs:10,sm:7,md:5}},[e._v(e._s(t.title)+"：")]),i("el-col",{attrs:{xs:14,sm:16}},[e._v(e._s(t.value))])],1)]]}))],2)])]:e._e()],2)})):e._e(),e.panelDefault?[i("el-col",{attrs:{md:24,lg:12}},[i("Card",{staticClass:"index-card",attrs:{bordered:!1,"dis-hover":!0}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("系统信息")]),i("div",[i("div",[e._v("后台名称：UniAdmin后台")]),i("div",[e._v("官方网站："),i("a",{attrs:{target:"_blank",href:"https://uniadmin.jiangruyi.com"}},[e._v("https://uniadmin.jiangruyi.com")])]),i("div",[e._v("客户端框架：CloudAdmin v1.1.0")]),i("div",[e._v("服务端框架：UniAdmin v1.1.0")]),i("div",[i("span",[e._v("Github：")]),i("a",{attrs:{target:"_blank",href:"https://github.com/uniadmin"}},[e._v("https://github.com/ijry/uniadmin")])]),i("Divider"),i("div",[e._v("PHP版本：7.0")]),i("div",[e._v("数据库版本：Mysql5.7")])],1)])],1),i("el-col",{attrs:{md:24,lg:12}},[i("Card",{staticClass:"index-card",attrs:{bordered:!1,"dis-hover":!0}},[i("p",{attrs:{slot:"title"},slot:"title"},[e._v("APP与交流群")]),i("div",[i("img",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{src:a("ea62")}}),i("img",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{src:a("d820")}})])])],1)]:e._e()],2)],1)},r=[],o=a("1da1"),n=(a("96cf"),{data:function(){return{loading:!1,eid:0,panelDefault:!1,panelList:[]}},watch:{"$store.state.menu.menuList":function(e){this.$store.state.menu.menuList.menuTree&&this.$store.state.menu.menuList.menuTree.length>0&&this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite]&&this.loadData()}},created:function(){},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.state.menu.menuList.menuTree&&this.$store.state.menu.menuList.menuTree.length>0&&this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite]&&this.loadData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$xyutil.request({url:e.$store.state.app.apiInfo.api.apiAdmin,method:"get",header:{Eid:e.eid}});case 3:a=t.sent,200==a.code&&a.data.dataList&&a.data.dataList.length>0?e.panelList=a.data.dataList:e.panelDefault=!0,e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}}),s=n,l=(a("afd2"),a("2877")),u=Object(l["a"])(s,i,r,!1,null,"b3f160fe",null);t["default"]=u.exports},efbd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-tab",class:e.loading?"data-loading":""},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"small","element-loading-text":"拼命加载中",type:e.tabData.tabType||"card",animated:!1},on:{"tab-click":e.tabClick},model:{value:e.tabCurrent,callback:function(t){e.tabCurrent=t},expression:"tabCurrent"}},[e.ready?e._l(e.tabData.tabList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.title,name:"tab_"+i}},[a("XyBuilderStack",{ref:"xy_builder_tab_innner_"+i,refInFor:!0,attrs:{header:e.header,api:"",show:t.show,predata:{stackList:t.list}}})],1)})):e._e()],2)],1)},r=[],o=a("b85c"),n=a("1da1"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("ac1f"),a("1276"),a("b0c0"),a("159b"),a("e260"),a("e6cf"),a("4328")),l=a.n(s),u={name:"XyBuilderTab",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},predata:""},components:{},data:function(){return{loading:!1,ready:!1,tabData:{tabList:[],tabType:"card",countList:[]},tabCurrent:"tab_0"}},watch:{},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"e6e1"))},this.$options.components.XyBuilderInfo=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"6ced"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"3e8a"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"785f"))}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.predata){t.next=4;break}e.readyProcess(e.predata),t.next=6;break;case 4:return t.next=6,e.loadData();case 6:e.getQueryParams(0);case 7:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{getQueryParams:function(e){if(this.tabData.tabList[e].list){var t,a=Object(o["a"])(this.tabData.tabList[e].list);try{for(a.s();!(t=a.n()).done;){var i=t.value,r="";i.pageData.api&&(r=i.pageData.api+i.pageData.apiParams);var n="";n="string"!=typeof i.pageData.queryParams?l.a.stringify(i.pageData.queryParams):0==i.pageData.queryParams.indexOf("?")?i.pageData.queryParams.substr(1):i.pageData.queryParams,n&&(r=r+"?"+n),i.pageData.apiBlank=r,i.pageData.show=!0}}catch(s){a.e(s)}finally{a.f()}}},tabClick:function(e,t){var a=e.name.split("_"),i=a[1];this.getQueryParams(i)},readyProcess:function(e){e?(e.tabList.forEach((function(e){e.hasOwnProperty("show")||(e.show=!1),e.list.forEach((function(e){e.hasOwnProperty("predata")||(e.predata=""),e.hasOwnProperty("pageData")||(e.pageData={}),e.pageData.hasOwnProperty("count")||(e.pageData.count=0),e.pageData.hasOwnProperty("modalType")||(e.pageData.modalType="list"),e.pageData.hasOwnProperty("apiBlank")||(e.pageData.apiBlank=""),e.pageData.hasOwnProperty("api")||(e.pageData.api=""),e.pageData.hasOwnProperty("show")||(e.pageData.show=!1),e.pageData.hasOwnProperty("apiParams")||(e.pageData.apiParams=""),e.pageData.hasOwnProperty("queryParams")||(e.pageData.queryParams="")}))})),this.tabData=e,this.ready=!0):alert("error tabData")},loadData:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.ready=!1,t.loading=!0,!t.api){a.next=9;break}return a.next=7,t.$xyutil.request({url:t.api,method:"get",header:t.header});case 7:r=a.sent,"200"==r.code?t.readyProcess(r.data.tabData):t.$xyutil.showToast({title:r.msg,icon:"loading",duration:3e3});case 9:t.loading=!1;case 10:case"end":return a.stop()}}),a)})))()}}},c=u,m=(a("a4f6"),a("2877")),d=Object(m["a"])(c,i,r,!1,null,"1762834c",null);t["default"]=d.exports},f0cc:function(e,t,a){},f4af:function(e,t,a){"use strict";a("361e")},f8de:function(e,t,a){},ff4e:function(e,t,a){"use strict";var i=a("b85c"),r=a("1da1"),o=(a("ac1f"),a("5319"),a("b0c0"),a("a15b"),a("96cf"),a("4328")),n=a.n(o);t["a"]={name:"button",data:function(){return{}},created:function(){},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{goPage:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var s,l,u,c,m,d,p,f,h,y,g,v,x,b,w,D;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(s=a,l=e.extra,l.pageData.hasOwnProperty("pageType")||(l.pageData.pageType="modal"),u="",c="",m=new Object,t){if(l.pageData.apiSuffix){d=l.pageData.apiSuffix,p=Object(i["a"])(d);try{for(p.s();!(f=p.n()).done;)h=f.value,h.field?h.noSlash?c+=t.row[h.field]:c=c+"/"+t.row[h.field]:c=c+"/"+t.row[h]}catch(k){p.e(k)}finally{p.f()}}else c="/"+t.row.id;if(l.pageData.apiParams&&(c=l.pageData.apiParams+c),l.pageData.querySuffix){y=l.pageData.querySuffix,g=Object(i["a"])(y);try{for(g.s();!(v=g.n()).done;)x=v.value,1==x[2]?m[x[0]]=x[1]:m[x[0]]=t.row[x[1]]}catch(k){g.e(k)}finally{g.f()}}u=c,b="",b="string"!=typeof l.pageData.queryParams?n.a.stringify(l.pageData.queryParams):0==l.pageData.queryParams.indexOf("?")?l.pageData.queryParams.substr(1):l.pageData.queryParams,b?(u=u+"?"+b,n.a.stringify(m)&&(u=u+"&"+n.a.stringify(m))):n.a.stringify(m)&&(u=u+"?"+n.a.stringify(m)),l.pageData.querySuffixParse=m}a.currentItem.pageData.modalType=l.pageData.modalType,l.pageData.title&&(a.currentItem.pageData.title=l.pageData.title),o.t0=l.pageData.modalType,o.next="table"===o.t0||"html"===o.t0||"htmls"===o.t0?12:"url"===o.t0?17:"confirm"===o.t0?19:22;break;case 12:return a.currentItem.pageData.width=l.pageData.width,a.currentItem.pageData.apiBlank=l.pageData.api+u,a.currentItem.pageData.predata=l.pageData.predata,a.currentItem.pageData.show=!0,o.abrupt("break",39);case 17:return window.open(l.pageData.url+u),o.abrupt("break",39);case 19:return a.$store.state.app.uiAudio&&(w=new Audio,w.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/open2.mp3",w.play()),a.$confirm(l.pageData.content,l.pageData.title,{confirmButtonText:l.pageData.okText,cancelButtonText:l.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.pageData.api+c,""!=n.a.stringify(m)&&(t=t+"?"+n.a.stringify(m)),e.next=4,s.$xyutil.request({url:t,method:l.pageData.formMethod,header:s.header});case 4:i=e.sent,"200"==i.code?(s.$xyutil.showToast({title:i.msg,icon:"success",duration:1e3}),a.$store.state.app.uiAudio&&(r=new Audio,r.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",r.play()),l.pageData.noRefresh||s.loadData()):s.$xyutil.showToast({title:i.msg,icon:"loading",duration:3e3});case 6:case"end":return e.stop()}}),e)})))).catch((function(){if(a.$store.state.app.uiAudio){var e=new Audio;e.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/close2.mp3",e.play()}})),o.abrupt("break",39);case 22:a.pitem.pageData&&"modal"==a.pitem.pageData.pageType&&(l.pageData.pageType=a.pitem.pageData.pageType),o.t1=l.pageData.pageType,o.next="replace"===o.t1?26:"page"===o.t1?28:"modal"===o.t1?32:36;break;case 26:return a.$router.replace({path:l.pageData.route+"/"+t.row.name}),o.abrupt("break",38);case 28:return D="",a.$store.state.menu.menuList.menuTree[a.$store.state.menu.currentSite].routePrefix&&(D=a.$store.state.menu.menuList.menuTree[a.$store.state.menu.currentSite].routePrefix),a.$router.push({path:D+"/pages"+l.pageData.api+c,query:m}),o.abrupt("break",38);case 32:return a.currentItem.pageData.width=l.pageData.width,a.currentItem.pageData.apiBlank=l.pageData.api+u,a.currentItem.pageData.show=!0,o.abrupt("break",38);case 36:return alert("未指定按钮pageType"),o.abrupt("break",38);case 38:return o.abrupt("break",39);case 39:case"end":return o.stop()}}),o)})))()},topButtonModal:function(e){var t=this,a=this,o=this.listData.topButtonList[e],s={};if(o.pageData.querySuffix){var l,u=o.pageData.querySuffix,c=Object(i["a"])(u);try{for(c.s();!(l=c.n()).done;){var m=l.value;1==m[2]?s[m[0]]=m[1]:"id"==m[1]&&(s[m[0]]=this.currentSelecteds.join(","))}}catch(g){c.e(g)}finally{c.f()}}var d=o.pageData.apiParams,p="";switch(p="string"!=typeof o.pageData.queryParams?n.a.stringify(o.pageData.queryParams):0==o.pageData.queryParams.indexOf("?")?o.pageData.queryParams.substr(1):o.pageData.queryParams,p?(d=d+"?"+p,n.a.stringify(s)&&(d=d+"&"+n.a.stringify(s))):n.a.stringify(s)&&(d=d+"?"+n.a.stringify(s)),o.pageData.querySuffixParse=s,o.pageData.modalType){case"url":window.open(o.pageData.url+d);break;case"confirm":if(this.$store.state.app.uiAudio){var f=new Audio;f.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/open2.mp3",f.play()}var h=this;this.$confirm(o.pageData.content,o.pageData.title,{confirmButtonText:o.pageData.okText,cancelButtonText:o.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.$xyutil.request({url:o.pageData.api+d,method:o.pageData.formMethod,header:{CloudId:h.cloudId,Eid:h.eid}});case 2:a=e.sent,"200"==a.code?(h.$Message.success(a.msg),t.$store.state.app.uiAudio&&(i=new Audio,i.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",i.play()),o.pageData.noRefresh||h.loadData()):h.$xyutil.showToast({title:a.msg,icon:"error",duration:2e3});case 4:case"end":return e.stop()}}),e)})))).catch((function(){if(t.$store.state.app.uiAudio){var e=new Audio;e.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/close2.mp3",e.play()}}));break;default:switch(this.pitem.pageData&&"modal"==this.pitem.pageData.pageType&&(o.pageData.pageType=this.pitem.pageData.pageType),o.pageData.pageType){case"page":var y="";this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].routePrefix&&(y=this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].routePrefix),this.$router.push({path:y+"/pages"+o.pageData.api+d});break;case"modal":o.pageData.apiBlank=o.pageData.api+d,o.pageData.show=!0;break}break}a.$nextTick((function(){"auto"!==o.pageData.height&&(a.$refs["top_modal_"+o.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.overflowY="scroll",a.$refs["top_modal_"+o.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.height=o.pageData.height)}))},rightButtonModal:function(e,t,a){var o=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,l,u,c,m,d,p,f,h,y,g,v,x,b,w,D;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=o,l=o.listData.rightButtonList[e],u="",c=new Object,l.pageData.apiSuffix){m=l.pageData.apiSuffix,d=Object(i["a"])(m);try{for(d.s();!(p=d.n()).done;)f=p.value,f.field?f.noSlash?u+=t.row[f.field]:u=u+"/"+t.row[f.field]:u=u+"/"+t.row[f]}catch(k){d.e(k)}finally{d.f()}}else u="/"+t.row.id;if(l.pageData.apiParams&&(u=l.pageData.apiParams+u),l.pageData.querySuffix){h=l.pageData.querySuffix,y=Object(i["a"])(h);try{for(y.s();!(g=y.n()).done;)v=g.value,1==v[2]?c[v[0]]=v[1]:c[v[0]]=t.row[v[1]]}catch(k){y.e(k)}finally{y.f()}}if(x=u,b="",b="string"!=typeof l.pageData.queryParams?n.a.stringify(l.pageData.queryParams):0==l.pageData.queryParams.indexOf("?")?l.pageData.queryParams.substr(1):l.pageData.queryParams,b?(x=x+"?"+b,n.a.stringify(c)&&(x=x+"&"+n.a.stringify(c))):n.a.stringify(c)&&(x=x+"?"+n.a.stringify(c)),l.pageData.querySuffixParse=c,"replace"!=l.pageData.pageType){a.next=16;break}o.$router.replace({path:l.pageData.route+"/"+t.row.name}),a.next=38;break;case 16:a.t0=l.pageData.modalType,a.next="url"===a.t0?19:"confirm"===a.t0?21:24;break;case 19:return window.open(l.pageData.url+x),a.abrupt("break",38);case 21:return o.$store.state.app.uiAudio&&(w=new Audio,w.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/open2.mp3",w.play()),o.$confirm(l.pageData.content,l.pageData.title,{confirmButtonText:l.pageData.okText,cancelButtonText:l.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.$xyutil.request({url:l.pageData.api+x,method:l.pageData.formMethod,header:s.header});case 2:t=e.sent,"200"==t.code?(s.$xyutil.showToast({title:t.msg,icon:"success",duration:1e3}),o.$store.state.app.uiAudio&&(a=new Audio,a.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",a.play()),l.pageData.noRefresh||s.loadData()):s.$xyutil.showToast({title:t.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))).catch((function(){if(o.$store.state.app.uiAudio){var e=new Audio;e.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/close2.mp3",e.play()}})),a.abrupt("break",38);case 24:o.pitem.pageData&&"modal"==o.pitem.pageData.pageType&&(l.pageData.pageType=o.pitem.pageData.pageType),a.t1=l.pageData.pageType,a.next="page"===a.t1?28:"modal"===a.t1?32:35;break;case 28:return D="",o.$store.state.menu.menuList.menuTree[o.$store.state.menu.currentSite].routePrefix&&(D=o.$store.state.menu.menuList.menuTree[o.$store.state.menu.currentSite].routePrefix),o.$router.push({path:D+"/pages"+l.pageData.api+u,query:c}),a.abrupt("break",37);case 32:return l.pageData.apiBlank=l.pageData.api+x,l.pageData.show=!0,a.abrupt("break",37);case 35:return alert("未指定按钮pageType"),a.abrupt("break",37);case 37:return a.abrupt("break",38);case 38:s.$nextTick((function(){"auto"!==l.pageData.height&&(s.$refs["right_modal_"+l.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.overflowY="scroll",s.$refs["right_modal_"+l.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.height=l.pageData.height)}));case 39:case"end":return a.stop()}}),a)})))()}}}}}]);