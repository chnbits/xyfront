(window.webpackJsonp=window.webpackJsonp||[]).push([["manifest"],{"04b1":function(t,e,a){"use strict";a.r(e);var i=new VueAMap.AMapManager,n={props:["text"],template:"<div>{{text}}</div>"},o={name:"Amap",props:{item:{extra:{}},value:{},token:"",cloudId:0,eid:0},data:function(){var t=this,e=this;return{amapManager:i,geocoder:"",zoom:12,center:[0,0],loaded:!1,events:{init:function(t){t.getCity((function(t){}))},moveend:function(){},zoomchange:function(){},click:function(a){"position"!=e.item.extra.mapType&&"positionAddress"!=e.item.extra.mapType||(e.position=[a.lnglat.lng,a.lnglat.lat],e.$emit("input",t.value))},dragend:function(a){"position"!=e.item.extra.mapType&&"positionAddress"!=e.item.extra.mapType||(e.position=[a.lnglat.lng,a.lnglat.lat],e.$emit("input",t.value))}},position:[0,0],address:"",polygonList:[],polygonFee:[],polygonFeeActive:0,eventsPolygonFee:{change:function(){t.$refs["polygonFee_"+t.item.name+"_"+t.polygonFeeActive][0].$$getPath()}},polygonFeeColumns:[{title:"名称",key:"name",slot:"input",width:"200"},{title:"起送价",key:"price",slot:"input"},{title:"配送费",key:"fee",slot:"input"},{title:"操作",key:"action",slot:"buttons"}],plugin:["ToolBar","Scale","PlaceSearch",{pName:"MapType",defaultType:0,events:{init:function(){}}},{pName:"Geolocation",events:{init:function(t){t.getCurrentPosition((function(t,a){if(a&&a.position){switch(e.center=[a.position.lng,a.position.lat],e.loaded=!0,e.item.extra.mapType){case"position":e.position&&0!=e.position.length&&0!=e.position[0]||(e.position=e.center,e.getData());break;case"positionAddress":e.position&&0!=e.position.length&&0!=e.position[0]||(e.position=e.center,e.geocoder.getAddress(e.position,(function(t,a){"complete"===t&&"OK"===a.info&&(e.address=a.regeocode.formattedAddress)})),e.getData());break;case"polygonList":0==e.polygonList.length&&(e.polygonList=[{strokeColor:"#2b85e4",path:[[e.center[0]-.01,e.center[1]+.01],[e.center[0]+.01,e.center[1]+.01],[e.center[0]+.01,e.center[1]-.01],[e.center[0]-.01,e.center[1]-.01]]}],e.getData());break;case"polygonFee":0==e.polygonFee.length&&(e.polygonFee=[{name:"默认",price:"",fee:"",strokeColor:"#2b85e4",path:[[e.center[0]-.01,e.center[1]+.01],[e.center[0]+.01,e.center[1]+.01],[e.center[0]+.01,e.center[1]-.01],[e.center[0]-.01,e.center[1]-.01]]}],e.getData())}e.$nextTick()}}))}}}],contentRender:function(t){return t(n,{style:{backgroundColor:"#fff"},props:{text:"here"}})}}},created:function(){},mounted:function(){switch(this.item.extra.mapType){case"postion":this.value&&2==this.value.length&&(this.position=this.value);break;case"postionAddress":this.value&&this.value.location&&this.value.address&&(this.position=this.value.location,this.address=this.value.address);break;case"polygonList":this.value&&(this.polygonList=this.value);break;case"polygonFee":if(this.value){for(var t=0;t<this.value.length;t++){for(var e=this.value[t].path,a=0;a<e.length;a++)e[a].lng&&(e[a]=[e[a].lng,e[a].lat]);this.value[t].path=e}this.polygonFee=this.value}}this.geocoder=new AMap.Geocoder({city:"全国"})},methods:{getLocationByAddress:function(){this.address||(alert("请输入地址"),retutn),i.getMap();var t=this;this.geocoder.getLocation(this.address,(function(e,a){"complete"===e&&"OK"===a.info?t.position=[a.geocodes[0].location.lng,a.geocodes[0].location.lat]:alert(a.info)}))},rowClick:function(t,e){this.polygonFeeActive=e},getData:function(){if("position"==this.item.extra.mapType&&(this.value=this.position),"positionAddress"==this.item.extra.mapType&&(this.value={location:this.position,address:this.address}),"polygonList"==this.item.extra.mapType&&(this.value=this.polygonList),"polygonFee"==this.item.extra.mapType){this.value=this.polygonFee;for(var t=0;t<this.value.length;t++){for(var e=this.value[t].path,a=0;a<e.length;a++)e[a].lng&&(e[a]=[e[a].lng,e[a].lat]);this.value[t].path=e}}this.$emit("input",this.value)},addPolygon:function(){this.polygonList.push({strokeColor:"#2b85e4",path:[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]]})},addPolygonFee:function(){this.polygonFee.push({name:"",price:"",fee:"",strokeColor:"#2b85e4",path:[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]]})},restPolygonFee:function(){var t=this.polygonFee;t[this.polygonFeeActive].path=[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]],this.polygonFee=t},deleteFee:function(t){this.polygonFee.splice(t,1)},getMap:function(){}},watch:{}};a=a("2877"),o=Object(a.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["polygonFee"==t.item.extra.mapType?a("div",{staticClass:"fee-list"},[a("Table",{attrs:{border:"",columns:t.polygonFeeColumns,data:t.polygonFee},on:{"on-row-click":t.rowClick},scopedSlots:t._u([{key:"input",fn:function(e){e.row;var i=e.column,n=e.index;return[a("Input",{attrs:{size:"small"},on:{"on-blur":t.getData},model:{value:t.polygonFee[n][i.key],callback:function(e){t.$set(t.polygonFee[n],i.key,e)},expression:"polygonFee[index][column.key]"}})]}},{key:"buttons",fn:function(e){e.row,e.column;var i=e.index;return[a("i-button",{attrs:{size:"small"},on:{click:function(e){return t.deleteFee(i)}}},[t._v("删除")])]}}],null,!1,2481036953)})],1):t._e(),"positionAddress"==t.item.extra.mapType?a("div",{staticClass:"m-b-sm flex"},[a("i-input",{staticClass:"m-r-sm",attrs:{type:"input",name:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),a("i-button",{attrs:{type:"default"},on:{click:function(e){return t.getLocationByAddress()}}},[t._v("定位")])],1):t._e(),a("el-amap",{staticClass:"amap-box",staticStyle:{height:"400px"},attrs:{vid:"amap-"+t.item.name,"amap-manager":t.amapManager,zoom:t.zoom,center:t.center,plugin:t.plugin,events:t.events}},["position"==t.item.extra.mapType||"positionAddress"==t.item.extra.mapType?a("el-amap-marker",{attrs:{vid:"marker-"+t.item.name,draggable:!0,position:t.position}}):t._e(),t._l(t.polygonList,(function(e,i){return"polygonList"==t.item.extra.mapType?a("el-amap-polygon",{key:"index",ref:"polygon-"+t.item.name+"_"+i,refInFor:!0,attrs:{vid:"polygon-"+t.item.name+"_"+i,path:e.path,strokeColor:e.strokeColor,fillColor:"white",fillOpacity:"0.5",draggable:!0,editable:!0}}):t._e()})),t._l(t.polygonFee,(function(e,i){return"polygonFee"==t.item.extra.mapType?a("el-amap-polygon",{key:"index",ref:"polygonFee_"+t.item.name+"_"+i,refInFor:!0,attrs:{vid:"polygonFee_"+t.item.name+"_"+i,path:e.path,strokeColor:t.polygonFeeActive==i?"red":e.strokeColor,fillColor:"white",fillOpacity:"0.5",draggable:!0,editable:!0,events:t.eventsPolygonFee}}):t._e()}))],2),a("div",{staticClass:"toolbar m-t-xs"},[t.loaded?t._e():a("span",[t._v("正在定位")]),("position"==t.item.extra.mapType||"positionAddress"==t.item.extra.mapType)&&0<this.position.length?a("span",[t._v(" 选中: lng = "+t._s(t.position[0])+" lat = "+t._s(t.position[1])+" ")]):t._e(),a("i-button",{attrs:{type:"primary"},on:{click:function(e){return t.getData()}}},[t._v("保存变动")]),a("i-button",{staticClass:"m-l-sm",on:{click:function(e){return t.getMap()}}},[t._v("地图实例")]),a("i-button",{directives:[{name:"show",rawName:"v-show",value:"polygonList"==t.item.extra.mapType,expression:"item.extra.mapType == 'polygonList'"}],staticClass:"m-l-sm",on:{click:function(e){return t.addPolygon()}}},[t._v("增加多边形区域")]),a("i-button",{directives:[{name:"show",rawName:"v-show",value:"polygonFee"==t.item.extra.mapType,expression:"item.extra.mapType == 'polygonFee'"}],staticClass:"m-l-sm",on:{click:function(e){return t.addPolygonFee()}}},[t._v("增加配送区域")]),a("i-button",{directives:[{name:"show",rawName:"v-show",value:"polygonFee"==t.item.extra.mapType,expression:"item.extra.mapType == 'polygonFee'"}],staticClass:"m-l-sm",on:{click:function(e){return t.restPolygonFee()}}},[t._v("重置当前区域")])],1)],1)}),[],!1,null,"32f9dd02",null);e.default=o.exports},"061f":function(t,e,a){"use strict";a.r(e);var i=a("2bcd");i={name:"XyBuilderDocRoute",mixins:[a("2b0d").a],components:{XyBuilderDoc:i.default},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){var t;"dydoc"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderDoc",{ref:"xy_builder",attrs:{api:t.api}})],1)}),[],!1,null,null,null);e.default=i.exports},"0fab":function(t,e,a){},"12f9":function(t,e,a){"use strict";var i=a("e66c");a.n(i).a},1343:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}var s,l;i={name:"XyBuilderForm",components:{XyBuilderformItem:a("b271").default},props:{api:"",cloudId:0,eid:0,show:!1,predata:"",showDev:!1},data:function(){return{loading:!1,ref:"form",formData:"",labelPosition:"right",labelWidth:100,res:{},addNext:!1}},created:function(){this.ref="form_"+(new Date).getTime(),this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata&&(this.formData=this.predata)},beforeMount:function(){},mounted:function(){this.loadData()},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},watch:{"formData.formValues":{handler:function(t){for(var e in this.formData.formItems)if(this.formData.formItems[e].extra.con){var a,i=this.formData.formItems[e].extra.con,n=0;for(a in i)switch(i[a][1]){case"=":t[i[a][0]]===i[a][2]&&n++;break;case">":t[i[a][0]]>i[a][2]&&n++;break;case">=":t[i[a][0]]>=i[a][2]&&n++;break;case"<":t[i[a][0]]<i[a][2]&&n++;break;case"<=":t[i[a][0]]<=i[a][2]&&n++;break;case"in":in_array(t[i[a][0]],i[a][2])&&n++;break;case"has":in_array(i[a][2],t[i[a][0]]);break;case"between":i[a][2][0]<t[i[a][0]]<i[a][2][1]&&n++}n===i.length?this.formData.formItems[e].extra.hide=!1:this.formData.formItems[e].extra.hide=!0}},deep:!0,immediate:!0},show:function(t){1==t&&this.loadData()}},methods:{in_array:function(t,e){for(var a in e)if(e[a]==t)return!0;return!1},loadData:(l=r(n.a.mark((function t(){var e,a=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(e=0<a.length&&void 0!==a[0]?a[0]:"")&&(this.api=e),this.api)return t.next=5,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=7;break;case 5:"200"==(e=t.sent).code?this.formData=e.data.formData:this.res=e;case 7:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),submit:function(){var t=this;this.loading=!0;var e,a=this;if(setTimeout((function(){a.loading=!1}),5e3),0<this.formData.formTabs.length)for(var i=0;i<this.formData.formTabs.length;i++)for(var n in this.formData.formTabs[i].formItems){var o,r=this.formData.formTabs[i].formItems[n].name;"checkboxtree"==this.formData.formTabs[i].formItems[n].type&&(o=this.$refs["formitem_"+this.formData.formTabs[i].name+"_"+this.formData.formTabs[i].formItems[n].name][0].getChecked("adminAuth"),this.formData.formValues[this.formData.formTabs[i].name].tabValues[r]=o)}else for(var s in this.formData.formItems)"checkboxtree"==this.formData.formItems[s].type&&(e=this.$refs["formitem_"+this.formData.formItems[s].name][0].getChecked("adminAuth"),this.formData.formValues[this.formData.formItems[s].name]=e);var l=!1;if(0==this.formData.formRules.length)l=!0;else if(0<this.formData.formTabs.length){for(var u="",c=0;c<this.formData.formTabs.length;c++)this.$refs[this.ref+"_"+this.formData.formTabs[c].name][0].validate((function(t){u+=t?"true":"false"}));-1==u.search("false")&&(l=!0)}else this.$refs[this.ref].validate((function(e){e?l=!0:t.$store.state.app.uiAudio&&((e=new Audio).src="/audio/alert.wav",e.play())}));return l?this.submitForm():this.loading=!1},submitForm:(s=r(n.a.mark((function t(){var e,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:this.api,method:this.formData.formMethod,data:this.formData.formValues,header:{CloudId:this.cloudId,Eid:this.eid}});case 2:if("200"==(e=t.sent).code)if(this.$Message.success(e.msg),e.data.url)0!=e.data.url.indexOf("http")?this.$router.push(e.data.url):window.open(e.data.url);else if(this.addNext)if(0<this.formData.formTabs.length)for(a=0;a<this.formData.formTabs.length;a++)this.$refs[this.ref+"_"+this.formData.formTabs[a].name][0].resetFields();else this.$refs[this.ref].resetFields();else this.$emit("close-model");else this.res=e;return this.loading=!1,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)}),cancel:function(){if(0<this.formData.formTabs.length)for(var t=0;t<this.formData.formTabs.length;t++)this.$refs[this.ref+"_"+this.formData.formTabs[t].name][0].resetFields();else this.$refs[this.ref].resetFields();this.$emit("close-model")}}},a("4bfa"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wrapper"},[""!=this.formData?[t.formData.alertList&&t.formData.alertList.top?t._l(t.formData.alertList.top,(function(e,i){return a("Alert",{key:i,attrs:{type:e.type,"show-icon":!1,banner:"true"}},[a("div",{domProps:{innerHTML:t._s(e.desc)}})])})):t._e(),0<t.formData.formTabs.length?[a("Tabs",{attrs:{value:t.formData.formTabs[0].name}},[t._l(t.formData.formTabs,(function(e,i){return[null!=e.formItems?a("TabPane",{key:i+"_"+e.name,attrs:{label:e.title,name:e.name}},[a("Form",{ref:t.ref+"_"+e.name,refInFor:!0,attrs:{model:t.formData.formValues[e.name].tabValues,"label-position":t.labelPosition,"label-width":t.labelWidth},nativeOn:{submit:function(t){t.preventDefault()}}},[t._l(e.formItems,(function(i,n){return[""!=e.formRules[i.name]?[i.extra.hide||i.extra.isDev&&!t.showDev?t._e():a("XyBuilderformItem",{key:n,ref:"formitem_"+e.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:t.formData.formValues[e.name].tabValues,cloudId:t.cloudId,eid:t.eid,prop:i.name}})]:[i.extra.hide||i.extra.isDev&&!t.showDev?t._e():a("XyBuilderformItem",{key:n,ref:"formitem_"+e.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:t.formData.formValues[e.name].tabValues,cloudId:t.cloudId,eid:t.eid}})]]}))],2)],1):t._e()]})),t._v("> ")],2)]:[a("Form",{ref:t.ref,attrs:{model:t.formData.formValues,"label-position":t.labelPosition,"label-width":t.labelWidth},nativeOn:{submit:function(t){t.preventDefault()}}},[a("Row",{attrs:{type:"flex",gutter:"0"}},[a("Col",{staticClass:"form-bottom",attrs:{span:"24"}},[t._l(t.formData.formItems,(function(e,i){return[""==e.extra.position?[e.extra.hide||e.extra.isDev&&!t.showDev?t._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+e.name,refInFor:!0,attrs:{item:e,formValues:t.formData.formValues,formRules:t.formData.formRules,cloudId:t.cloudId,eid:t.eid,prop:e.name}})]:t._e()]}))],2)],1),a("Row",{attrs:{type:"flex",gutter:"0"}},[a("Col",{attrs:{xs:24,sm:24,md:24,lg:17}},[t._l(t.formData.formItems,(function(e,i){return["left"==e.extra.position?[e.extra.hide||e.extra.isDev&&!t.showDev?t._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+e.name,refInFor:!0,attrs:{item:e,formValues:t.formData.formValues,formRules:t.formData.formRules,cloudId:t.cloudId,eid:t.eid,prop:e.name}})]:t._e()]}))],2),a("Col",{attrs:{xs:24,sm:18,md:24,lg:1}},[a("div",{staticStyle:{width:"1px",height:"100%","background-color":"#e8eaec","margin-left":"30px"}})]),a("Col",{staticClass:"form-right",attrs:{xs:24,sm:18,md:24,lg:6}},[t._l(t.formData.formItems,(function(e,i){return["right"==e.extra.position?[e.extra.hide||e.extra.isDev&&!t.showDev?t._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+e.name,refInFor:!0,attrs:{item:e,formValues:t.formData.formValues,formRules:t.formData.formRules,cloudId:t.cloudId,eid:t.eid,prop:e.name}})]:t._e()]}))],2)],1),a("Row",{attrs:{type:"flex",gutter:"0"}},[a("Col",{staticClass:"form-bottom",attrs:{span:"24"}},[t._l(t.formData.formItems,(function(e,i){return["bottom"==e.extra.position?[e.extra.hide||e.extra.isDev&&!t.showDev?t._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+e.name,refInFor:!0,attrs:{item:e,formValues:t.formData.formValues,formRules:t.formData.formRules,cloudId:t.cloudId,eid:t.eid,prop:e.name}})]:t._e()]}))],2)],1)],1)],t.formData.alertList&&t.formData.alertList.top?t._l(t.formData.alertList.bottom,(function(e,i){return a("Alert",{key:i,attrs:{type:e.type,"show-icon":!1,banner:"true"}},[a("div",{domProps:{innerHTML:t._s(e.desc)}})])})):t._e(),a("Alert",{directives:[{name:"show",rawName:"v-show",value:t.res.msg,expression:"res.msg"}],attrs:{type:"error","show-icon":"",closable:""},on:{"on-close":function(e){t.res={}}}},[t._v(t._s(t.res.msg))]),a("div",[a("Divider"),a("Button",{staticStyle:{"margin-right":"15px"},attrs:{loading:t.loading,type:"primary",size:"large"},on:{click:function(e){return t.submit()}}},[t._v(" 确认提交 ")]),a("Button",{staticStyle:{"margin-right":"15px"},attrs:{type:"text",size:"large"},on:{click:function(e){return t.cancel()}}},[t._v(" 取消操作 ")]),a("Checkbox",{directives:[{name:"show",rawName:"v-show",value:"post"==this.formData.formMethod&&this.formData.config&&t.util.chain(this.formData.config.continue),expression:"this.formData.formMethod == 'post' && this.formData.config && util.chain(this.formData.config.continue)"}],model:{value:t.addNext,callback:function(e){t.addNext=e},expression:"addNext"}},[t._v("继续录入下一条")])],1)]:[a("Row",[a("i-col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[t._v("Loading")])],1)],1)],1)]],2)}),[],!1,null,null,null);e.default=i.exports},"19b3":function(t,e,a){"use strict";a.r(e);var i=a("73a5");i={name:"XyBuilderTabRoute",mixins:[a("2b0d").a],components:{XyBuilderTab:i.default},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){var t;"dytab"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderTab",{ref:"xy_builder",attrs:{api:t.api}})],1)}),[],!1,null,null,null);e.default=i.exports},"1a3f":function(t,e,a){"use strict";var i=a("8361");a.n(i).a},"1b7e":function(t,e,a){},"1d6c":function(t,e,a){},"1e3f":function(t,e,a){},"249f":function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}i={name:"Images",props:{item:{},value:[],token:"",cloudId:0,eid:0},data:function(){return{uploadName:"file",header:{}}},created:function(){this.header={Authorization:this.token}},beforeMount:function(){},methods:{handleView:function(t){this.$emit("handleView",t)},handleSuccessBatch:function(t,e,a){"upload_oss"==this.item.extra.driver?(e.url=this.item.extra.data.host+"/"+this.item.extra.data.key,this.value.push({name:e.name,url:e.url}),this.item.value=a):"upload_smms"==this.item.extra.driver?"success"==t.code?(e.url=t.data.url,this.value.push({name:e.name,url:e.url}),this.item.value=a):this.$Notice.warning({title:t.message}):200==t.code?(e.url=t.data.url,this.value.push({name:e.name,url:e.url}),this.item.value=a):this.$Notice.warning({title:t.msg}),this.$emit("input",this.value)},handleRemoveBatch:function(t){var e=this.value;this.item.value.splice(e.indexOf(t),1),this.value.splice(e.indexOf(t),1)},handleBeforeUpload:function(t){var e=this;return"upload_oss"==e.item.extra.driver?new Promise(function(){var a=r(n.a.mark((function a(i,o){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:e.cloudId,Eid:e.eid}});case 2:200==(r=a.sent).code?(e.item.extra.action=r.data.params.host,r.data.params.key=r.data.params.key+t.name,e.item.extra.data=r.data.params,i()):e.$Notice.warning({title:r.msg});case 4:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()):"upload_smms"==e.item.extra.driver?new Promise(function(){var t=r(n.a.mark((function t(a,i){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.header={Authorization:"R7aVy1OLZJ1pMgWyjBkdOz9Dyh7nSFm2"},e.uploadName="smfile",e.item.extra.action="https://sm.ms/api/v2/upload",e.item.extra.data={format:"json"},a();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()):void 0},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件"+t.name+"的格式不正确, 请重新选择。"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件大小不正确",desc:"文件"+t.name+"太大了, 不支持超过1M。"})}},watch:{}},a("f8e0"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.item.value,(function(e){return a("div",{staticClass:"image-list"},[""!==e.url?[a("img",{attrs:{src:e.url}}),a("div",{staticClass:"image-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return t.handleView(e.url)}}}),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return t.handleRemoveBatch(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)})),a("Upload",{ref:"upload_"+t.item.name,staticStyle:{display:"inline-block",width:"58px"},attrs:{paste:!0,"show-upload-list":!1,headers:t.header,"default-file-list":t.item.value,format:t.item.extra.format,"max-size":t.item.extra.maxSize,"on-success":t.handleSuccessBatch,"on-remove":t.handleRemoveBatch,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,data:t.item.extra.data,name:t.uploadName,multiple:"",type:"drag",action:t.item.extra.action}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],2)}),[],!1,null,"24c6f6a3",null),e.default=i.exports},2949:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}var r,s,l={name:"XyBuilderInfo",props:{api:"",cloudId:0,eid:0,show:!1,predata:""},components:{},data:function(){return{loading:!1,infoData:{infoList:""}}},watch:{show:function(t){this.infoData={},1==t&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"9a73"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"e0e2"))}},created:function(){this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata?this.infoData=this.predata:this.loadData()},methods:{loadData:(r=n.a.mark((function t(){var e,a=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(e=0<a.length&&void 0!==a[0]?a[0]:"")&&(this.api=e),this.loading=!0,this.api)return t.next=6,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=8;break;case 6:"200"==(e=t.sent).code?(this.infoData=e.data.infoData,this.loading=!1):this.util.showToast({title:e.msg,icon:"loading",duration:3e3});case 8:this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(a,i){var n=r.apply(t,e);function s(t){o(n,a,i,s,l,"next",t)}function l(t){o(n,a,i,s,l,"throw",t)}s(void 0)}))},function(){return s.apply(this,arguments)})}};a("a59f"),i=a("2877"),l=Object(i.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"xy_builder-info-wrap"},[t._l(t.infoData.infoList,(function(e,i){return a("div",{key:i,staticClass:"item-group"},[a("Divider",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"group.title"}],attrs:{orientation:"left"}},[t._v(t._s(e.title))]),a("Row",t._l(e.data,(function(e,i){return a("div",{key:i},["list"==e.type?a("i-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderList",{ref:"xy_builder_info_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,show:!0,api:e.pageData?e.pageData.api:"",predata:e.value?e.value:""}})],1)]):"stack"==e.type?a("i-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderStack",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,show:!0,api:e.pageData?e.pageData.api:"",predata:e.value?e.value:""}})],1)]):"count"==e.type?a("i-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[e.value?a("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"start",align:"top"}},t._l(e.value,(function(e,i){return a("i-col",{key:i,attrs:{xs:12,xl:e.item.xl?e.item.xl:6,xxl:4}},[a("Row",{staticClass:"count-item",style:{backgroundColor:e.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("i-col",{staticClass:"left"},[a("i",{staticClass:"icon",class:e.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.title,expression:"it.item.title"}]},[t._v(t._s(e.item.title))])]),a("i-col",{staticClass:"right",style:{backgroundColor:e.item.bgColorRight?e.item.bgColorRight:"#fff",color:e.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[t._v(t._s(e.current.value))]),a("span",{staticClass:"suffix"},[t._v(t._s(e.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.content.value,expression:"it.content.value"}],staticClass:"value"},[t._v(t._s(e.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.content.list,expression:"it.content.list"}],staticClass:"list"},t._l(e.content.list,(function(e,i){return a("div",{key:i,staticClass:"cell"},[t._v(" "+t._s(e.title)+"："+t._s(e.value)+" ")])})),0)])])],1)],1)})),1):t._e()],1):a("i-col",{staticClass:"info-item",attrs:{xs:24,sm:{span:e.extra.sm.span?e.extra.sm.span:8,offset:e.extra.sm.offset?e.extra.sm.offset:0,pull:e.extra.sm.pull?e.extra.sm.pull:0,push:e.extra.sm.push?e.extra.sm.push:0}}},[a("div",{staticClass:"title"},[t._v(" "+t._s(e.title)+"： ")]),a("div",{staticClass:"value"},["text"==e.type?[a("span",[t._v(t._s(e.value))])]:"image"==e.type?[a("img",{attrs:{src:e.value,width:e.extra.width?e.extra.width:"40px"}})]:"label"==e.type?[a("span",{style:{color:e.extra.options[e.value]&&e.extra.options[e.value].color?e.extra.options[e.value].color:""}},[t._v(" "+t._s(e.extra.options[e.value]?e.extra.options[e.value].title:e.value)+" ")])]:"tag"==e.type?[a("Tag",{attrs:{color:e.extra.options[e.value]&&e.extra.options[e.value].color?e.extra.options[e.value].color:"default"}},[t._v(" "+t._s(e.extra.options[e.value]?e.extra.options[e.value].title:e.value)+" ")])]:"tags"==e.type?[t._l(e.value,(function(i){return[a("Tag",{key:i,attrs:{color:e.extra.options&&e.extra.options[i]&&e.extra.options[i].color?e.extra.options[i].color:"default"}},[t._v(" "+t._s(e.extra.options&&e.extra.options[i]&&e.extra.options[i].title?e.extra.options[i].title:i)+" ")])]}))]:t._e(),"time"==e.type?[a("span",[t._v(t._s(e.value))])]:t._e(),"url"==e.type?[a("a",{attrs:{href:e.value,target:"_blank"}},[t._v(t._s(e.extra.placeholder))])]:t._e()],2)])],1)})),0)],1)})),!0===t.loading?[a("Row",[a("i-col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[t._v("Loading")])],1)],1)],1)]:t._e()],2)}),[],!1,null,"ad413894",null);e.default=l.exports},"296d":function(t,e,a){},"2b0d":function(t,e,a){"use strict";e.a={name:"Breadcrumb",data:function(){return{interval:null,timer:0,breadcrumb:{level:[],last:{title:""}}}},beforeMount:function(){this.loadData();var t=this,e=this.$store.state.menu.menuList.menuList.filter((function(e){return e.path+(e.pathSuffix?e.pathSuffix:"")+(e.apiParams?e.apiParams:"")==t.$route.name}));if(e[0])for(this.breadcrumb.level=[],this.breadcrumb.last=e[0];(e=this.$store.state.menu.menuList.menuList.filter((function(t){return t.path==e[0].pmenu})))[0]&&this.breadcrumb.level.unshift(e[0]),e[0].pmenu&&0<=e[0].menuType;);},created:function(){},methods:{refresh:function(){this.$refs.xy_builder.loadData()}},watch:{$route:function(){}}}},"2bcd":function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}var s,l;i={name:"XyBuilderDoc",props:{api:"",cloudId:0,eid:0,show:!1,predata:""},components:{},data:function(){return{loading:!1,docData:{docList:""},current:{doc:[]},columns:[{title:"是否必须",key:"require"},{title:"参数名",key:"name"},{title:"参数标题",key:"title"},{title:"说明",key:"description"},{title:"示例",key:"example"}]}},watch:{show:function(t){this.docData={},1==t&&this.loadData()}},beforeCreate:function(){},created:function(){this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata?this.docData=this.predata:this.loadData()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{renderContent:function(t,e){var a=this,i=(e.root,e.node,e.data),n="";e="";return"dev"==i.devState?(n="magenta",e="开发中"):"prod"==i.devState&&(n="green",e="已完成"),t("span",{class:{"ivu-tree-title":!0},style:{display:"inline-block",width:"100%"}},[t("span",{on:{click:function(){a.showDoc([i])}}},[t("span",i.title),t("Tag",{props:{color:n},style:{margin:0,display:"inline-block",transform:"scale(0.6)",padding:"0 4px"}},[t("span",e)])])])},showDoc:function(t){this.current=t[0]},loadChildren:(l=r(n.a.mark((function t(e,a){var i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:this.api+"?menuLayer="+e.menuLayer+"&pmenu="+e.path,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});case 2:200==(i=t.sent).code&&a(i.data.dataList);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)}),loadData:(s=r(n.a.mark((function t(){var e,a=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(e=0<a.length&&void 0!==a[0]?a[0]:"")&&(this.api=e),this.loading=!0,this.api)return t.next=6,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=8;break;case 6:200==(e=t.sent).code&&(this.docData.docList=e.data.dataList);case 8:this.loading=!1;case 9:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}},a("b637"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy_builder-doc-wrap"},[a("div",{staticClass:"content"},[0==t.loading?[a("Row",{attrs:{type:"flex",justify:"center",align:"top"}},[a("Col",{staticStyle:{"border-right":"1px solide #eee"},attrs:{xs:24,sm:8,md:6,lg:4}},[a("Tree",{staticClass:"list",attrs:{data:t.docData.docList,render:t.renderContent,"load-data":t.loadChildren},on:{"on-select-change":t.showDoc}})],1),a("Col",{attrs:{xs:24,sm:16,md:18,lg:20}},t._l(t.current.doc,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[t._v(" 接口说明 ")]),a("Divider"),a("div",{staticClass:"content"},[t._v(" "+t._s(e.tabValues.description)+" ")])],1),a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[t._v(" 接口地址 "),t.current.devState&&"dev"==t.current.devState?[a("Tag",{staticStyle:{margin:"0",display:"inline-block",transform:"scale(0.6)",padding:"0 4px"},attrs:{color:"magenta"}},[t._v("开发中")])]:t.current.devState&&"prod"==t.current.devState?[a("Tag",{staticStyle:{margin:"0",display:"inline-block",transform:"scale(0.6)",padding:"0 4px"},attrs:{color:"green"}},[t._v("已完成")])]:t._e()],2),a("Divider"),a("div",{staticClass:"content"},[t._v(" "+t._s(i)+" "+t._s(t.current.api)+" ")])],1),a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[t._v(" 请求参数 ")]),a("Divider"),a("div",{staticClass:"content"},[a("Table",{attrs:{border:"",columns:t.columns,data:e.tabValues.params}})],1)],1),a("div",{staticClass:"line"},[a("div",{staticClass:"title"},[t._v(" 返回结果 ")]),a("Divider"),a("div",{staticClass:"content"})],1)])})),0)],1)]:[a("Row",{staticStyle:{"margin-top":"30px"}},[a("Col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[t._v("Loading")])],1)],1)],1)]],2)])}),[],!1,null,null,null);e.default=i.exports},"2d55":function(t,e,a){},3365:function(t,e,a){"use strict";var i=a("0fab");a.n(i).a},"3b6c":function(t,e,a){"use strict";var i=a("1e3f");a.n(i).a},"3ccb":function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}var s,l;i={name:"Regions",props:{modalShow:!1,modalTitle:"",action:"",valueName:{type:String,default:"id"},value:[],token:"",cloudId:0,eid:0},data:function(){return{data:[]}},created:(l=r(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:this.action,method:"get",data:{id:1e5,child:0,maxLevel:2,checked:this.value},header:{CloudId:this.cloudId,Eid:this.eid}});case 2:200==(e=t.sent).code&&(this.data=e.data.dataList);case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),beforeMount:function(){},methods:{onChange:function(){this.value=[];for(var t=this.$refs.tree.getCheckedNodes(),e=t.length-1;0<=e;e--)this.value.push(t[e][this.valueName]);this.$emit("input",this.value)},loadData:(s=r(n.a.mark((function t(e,a){var i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:this.action,method:"get",data:{id:e.id,child:0,maxLevel:2},header:{CloudId:this.cloudId,Eid:this.eid}});case 2:200==(i=t.sent).code&&a(i.data.dataList);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},watch:{}},a("4fef"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("div",[e("div",{staticClass:"regions"},[e("Button",{attrs:{type:"default"},on:{click:function(e){t.modalShow=!0}}},[t._v("编辑")]),e("Modal",{ref:"modal",attrs:{transfer:!1,"footer-hide":!0,scrollable:!1,draggable:!1,"mask-closable":!1,width:"800",title:t.modalTitle},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("Tree",{ref:"tree",attrs:{data:t.data,"show-checkbox":"","load-data":t.loadData},on:{"on-check-change":t.onChange}}),e("img",{attrs:{src:"https://i.loli.net/2020/03/24/9Fu1lZbmepVXr2y.png",alt:"中国行政区划图"}})],1)],1)])}),[],!1,null,"cafb3a76",null);e.default=i.exports},4228:function(t,e,a){},"42cd":function(t,e,a){},"43e8":function(t,e,a){"use strict";a.r(e);var i={name:"Poster",components:{XyBuilderFormImage:a("aefe").default},props:{item:{},value:[],token:"",cloudId:0,eid:0},data:function(){return{index:0}},created:function(){this.value=[{name:"bg",type:"image",width:750,height:1181,top:0,left:0,url:"https://s1.ax1x.com/2020/04/27/JR46UJ.png"},{name:"logo",type:"image",width:134,height:133,top:20,left:42,url:"https://s2.ax1x.com/2020/01/25/1ZzWiq.png"},{name:"qrcode",type:"image",width:160,height:160,top:1e3,left:20,url:"https://s1.ax1x.com/2020/03/19/86VFEt.jpg"},{name:"avatar",type:"image",width:100,height:100,top:1190,left:600,url:"https://s1.ax1x.com/2020/03/18/8wg9k6.png"},{name:"name",type:"text",width:100,height:100,top:1230,left:450,color:"#333",fontSize:30,backgroundColor:"transparent",content:"XYShop"},{name:"scan",type:"text",width:100,height:100,top:1230,left:50,color:"#333",fontSize:30,backgroundColor:"transparent",content:"长按二维码扫一扫"}]},beforeMount:function(){},methods:{select:function(t){this.index=t},move:function(t,e){var a=this;this.index=e;var i=t.target;i.onmousedown=function(t){var e=t.clientX/.35-i.offsetLeft,n=t.clientY/.35-i.offsetTop;document.onmousemove=function(t){var i=t.clientX/.35-e;i<0&&(i=0),(t=t.clientY/.35-n)<0&&(t=0),750<i+a.value[a.index].width&&(i=750-a.value[a.index].width),1344<t+a.value[a.index].height&&(t=1344-a.value[a.index].height),a.value[a.index].left=Math.ceil(i),a.value[a.index].top=Math.ceil(t)},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},watch:{}};a("12f9"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex",staticStyle:{position:"relative",width:"300px",height:"534px"}},[a("div",{staticClass:"poster",staticStyle:{position:"absolute",transform:"scale(0.35)"}},[a("div",{staticStyle:{position:"absolute",width:"750px",height:"1334px","background-color":"#fff",border:"1px solid #ccc"}},t._l(t.value,(function(e,i){return a("div",["image"==e.type?a("img",{key:i,staticClass:"item",class:t.index==i?"current":"",style:{position:"absolute",top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"},attrs:{src:e.url},on:{mousedown:function(e){return t.move(e,i)},click:function(e){return t.select(i)}}}):"text"==e.type?a("div",{key:i,staticClass:"item",class:t.index==i?"current":"",style:{position:"absolute",top:e.top+"px",left:e.left+"px",color:e.color,lineHeight:"1.1",fontSize:e.fontSize+"px",backgroundColor:e.backgroundColor,breakWord:e.breakWord},on:{mousedown:function(e){return t.move(e,i)},click:function(e){return t.select(i)}}},[t._v(" "+t._s(e.content)+" ")]):t._e()])})),0)]),a("div",{staticStyle:{position:"absolute",left:"300px",top:"0",width:"100%",height:"534px"}},[a("Form",{attrs:{"label-position":"top"}},[a("FormItem",{attrs:{label:"名称"}},[a("Input",{model:{value:t.value[t.index].name,callback:function(e){t.$set(t.value[t.index],"name",e)},expression:"value[index].name"}})],1),a("FormItem",{attrs:{label:"宽度"}},[a("Input",{model:{value:t.value[t.index].width,callback:function(e){t.$set(t.value[t.index],"width",e)},expression:"value[index].width"}})],1),a("FormItem",{attrs:{label:"高度"}},[a("Input",{model:{value:t.value[t.index].height,callback:function(e){t.$set(t.value[t.index],"height",e)},expression:"value[index].height"}})],1),a("FormItem",{attrs:{label:"顶部距离"}},[a("Input",{model:{value:t.value[t.index].top,callback:function(e){t.$set(t.value[t.index],"top",e)},expression:"value[index].top"}})],1),a("FormItem",{attrs:{label:"左侧距离"}},[a("Input",{model:{value:t.value[t.index].left,callback:function(e){t.$set(t.value[t.index],"left",e)},expression:"value[index].left"}})],1),"image"==this.value[t.index].type?a("FormItem",{attrs:{label:"图片"}},[a("XyBuilderFormImage",{attrs:{item:{name:t.value[t.index].name,extra:t.item.extra},img:{name:"",title:""},cloudId:t.cloudId,eid:t.eid,token:t.token},model:{value:t.value[t.index].url,callback:function(e){t.$set(t.value[t.index],"url",e)},expression:"value[index].url"}}),a("Input",{model:{value:t.value[t.index].url,callback:function(e){t.$set(t.value[t.index],"url",e)},expression:"value[index].url"}})],1):t._e(),"text"==this.value[t.index].type?a("FormItem",{attrs:{label:"字体大小"}},[a("Slider",{attrs:{"show-input":""},model:{value:t.value[t.index].fontSize,callback:function(e){t.$set(t.value[t.index],"fontSize",e)},expression:"value[index].fontSize"}})],1):t._e(),"text"==this.value[t.index].type?a("FormItem",{attrs:{label:"字体颜色"}},[a("ColorPicker",{attrs:{alpha:!0},model:{value:t.value[t.index].color,callback:function(e){t.$set(t.value[t.index],"color",e)},expression:"value[index].color"}})],1):t._e(),"text"==this.value[t.index].type?a("FormItem",{attrs:{label:"背景颜色"}},[a("ColorPicker",{attrs:{alpha:!0},model:{value:t.value[t.index].backgroundColor,callback:function(e){t.$set(t.value[t.index],"backgroundColor",e)},expression:"value[index].backgroundColor"}})],1):t._e()],1)],1)])}),[],!1,null,"a93194e2",null);e.default=i.exports},4700:function(t,e,a){"use strict";var i=a("2d55");a.n(i).a},4797:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{}}};a("1a3f"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this.$createElement;return(t=this._self._c||t)("div",{staticClass:"content"},[t("Card",{attrs:{shadow:""}},[t("div",{staticClass:"line"},[t("div",{staticClass:"title"},[this._v(" 左侧菜单加载失败 ")]),t("Divider"),t("div",{staticClass:"content"},[this._v(" 左侧菜单加载失败原因主要有1、网络故障；2、接口挂了 3、接口/api/v1/admin/core/menu/trees有语法错误。 ")])],1)])],1)}),[],!1,null,"d52beb24",null);e.default=i.exports},"4bfa":function(t,e,a){"use strict";var i=a("c321");a.n(i).a},"4e35":function(t,e,a){"use strict";a.r(e);var i=a("bb87");i={name:"XyBuilderRemoteRoute",mixins:[a("2b0d").a],components:{XyBuilderRemote:i.default},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){var t;"dyremote"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderRemote",{ref:"xy_builder",attrs:{api:t.api}})],1)}),[],!1,null,null,null);e.default=i.exports},"4fef":function(t,e,a){"use strict";var i=a("a331");a.n(i).a},5046:function(t,e,a){"use strict";a.r(e);var i=a("2949");i={name:"XyBuilderInfoRoute",mixins:[a("2b0d").a],components:{XyBuilderInfo:i.default},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){var t;"dyinfo"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderInfo",{ref:"xy_builder",attrs:{api:t.api}})],1)}),[],!1,null,null,null);e.default=i.exports},5152:function(t,e,a){"use strict";a.r(e);var i=a("e0e2");i={name:"XyBuilderStackRoute",mixins:[a("2b0d").a],components:{XyBuilderStack:i.default},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){var t;"dystack"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderStack",{ref:"xy_builder",attrs:{api:t.api}})],1)}),[],!1,null,null,null);e.default=i.exports},"5b7f":function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}i={name:"File",props:{item:{},value:[],token:"",cloudId:0,eid:0},data:function(){return{}},created:function(){""==this.item.value&&(this.item.value=new Array),""==this.value&&(this.value=new Array)},beforeMount:function(){},methods:{handleView:function(){},handleSuccessBatch:function(t,e,a){"upload_oss"==this.item.extra.driver?(e.url=this.item.extra.data.host+"/"+this.item.extra.data.key,this.value.push({name:e.name,url:e.url}),this.item.value=a):200==t.code?(e.url=t.data.url,this.value.push({name:e.name,url:e.url}),this.item.value=a):this.$Notice.warning({title:t.msg}),this.$emit("input",this.value)},handleRemoveBatch:function(t){var e=this.value;this.item.value.splice(e.indexOf(t),1),this.value.splice(e.indexOf(t),1)},handleBeforeUpload:function(t){var e=this;if("upload_oss"==e.item.extra.driver)return new Promise(function(){var a,i=(a=n.a.mark((function a(i,o){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:e.cloudId,Eid:e.eid}});case 2:200==(r=a.sent).code?(e.item.extra.action=r.data.params.host,r.data.params.key=r.data.params.key+t.name,e.item.extra.data=r.data.params,i()):e.$Notice.warning({title:r.msg});case 4:case"end":return a.stop()}}),a)})),function(){var t=this,e=arguments;return new Promise((function(i,n){var r=a.apply(t,e);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))});return function(t,e){return i.apply(this,arguments)}}())},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件"+t.name+"的格式不正确, 请重新选择。"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件大小不正确",desc:"文件"+t.name+"太大了, 不支持超过1M。"})}},watch:{}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("div",[e("Upload",{ref:"upload_"+t.item.name,attrs:{"show-upload-list":!0,headers:{Authorization:t.token},"default-file-list":t.item.value,format:t.item.extra.format,"max-size":t.item.extra.maxSize,"on-success":t.handleSuccessBatch,"on-remove":t.handleRemoveBatch,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,data:t.item.extra.data,type:"drag",action:t.item.extra.action}},[e("div",{staticStyle:{padding:"20px 0"}},[e("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"42"}}),e("p",[t._v("点击或者拖动文件到此处上传")])],1)])],1)}),[],!1,null,null,null),e.default=i.exports},6726:function(t,e,a){"use strict";var i=a("e7f4");a.n(i).a},"6b23":function(t,e,a){"use strict";a.r(e);var i=a("9a73");i={name:"XyBuilderListRoute",mixins:[a("2b0d").a],components:{XyBuilderList:i.default},data:function(){return{api:""}},beforeMount:function(){this.loadData()},created:function(){},methods:{loadData:function(){var t;"dylist"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderList",{ref:"xy_builder",staticClass:"bg-white",attrs:{api:t.api}})],1)}),[],!1,null,null,null);e.default=i.exports},7019:function(t,e,a){},"73a5":function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}var r,s,l={name:"XyBuilderTab",props:{api:"",cloudId:0,eid:0,show:!1,predata:""},components:{},data:function(){return{loading:!1,tabData:{tabList:[],tabType:"line",countList:[]},tabCurrent:"tab_0"}},watch:{show:function(t){1==t&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"9a73"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"2949"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"1343"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"e0e2"))}},created:function(){for(var t in this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata?this.tabData=this.predata:this.loadData(),this.tabData.tabList[0].list)this.tabData.tabList[0].list.hasOwnProperty(t)&&this.tabData.tabList[0].list[t].pageData.api&&(this.tabData.tabList[0].list[t].pageData.apiBlank=this.tabData.tabList[0].list[t].pageData.api+this.tabData.tabList[0].list[t].pageData.apiParams+(this.tabData.tabList[0].list[t].pageData.queryParams?this.tabData.tabList[0].list[t].pageData.queryParams:""))},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{tabClick:function(t){var e,a=t.split("_")[1];for(e in this.tabData.tabList[a].list)this.tabData.tabList[a].list.hasOwnProperty(e)&&this.tabData.tabList[a].list[e].pageData.api&&(this.tabData.tabList[a].list[e].pageData.apiBlank=this.tabData.tabList[a].list[e].pageData.api+this.tabData.tabList[a].list[e].pageData.apiParams+(this.tabData.tabList[a].list[e].pageData.queryParams?this.tabData.tabList[a].list[e].pageData.queryParams:""),this.tabData.tabList[a].list[e].pageData.show=!0)},loadData:(r=n.a.mark((function t(){var e,a=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(e=0<a.length&&void 0!==a[0]?a[0]:"")&&(this.api=e),this.loading=!0,this.api)return t.next=6,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=8;break;case 6:"200"==(e=t.sent).code?this.tabData=e.data.tabData:this.util.showToast({title:e.msg,icon:"loading",duration:3e3});case 8:this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(a,i){var n=r.apply(t,e);function s(t){o(n,a,i,s,l,"next",t)}function l(t){o(n,a,i,s,l,"throw",t)}s(void 0)}))},function(){return s.apply(this,arguments)})}};i=a("2877"),l=Object(i.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?[a("Row",[a("i-col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[t._v("Loading")])],1)],1)],1)]:[a("Tabs",{attrs:{size:"small",type:t.tabData.tabType?t.tabData.tabType:"line",animated:!1},on:{"on-click":t.tabClick}},t._l(t.tabData.tabList,(function(e,i){return a("TabPane",{key:i,attrs:{label:e.title,name:"tab_"+i},model:{value:t.tabCurrent,callback:function(e){t.tabCurrent=e},expression:"tabCurrent"}},[a("XyBuilderStack",{ref:"xy_builder_tab_innner_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:"",show:!0,predata:{stackList:e.list}}})],1)})),1)]],2)}),[],!1,null,null,null);e.default=l.exports},"73af":function(t,e,a){"use strict";var i=a("4228");a.n(i).a},"76d4":function(t,e,a){"use strict";var i=a("e2f4");a.n(i).a},8361:function(t,e,a){},"92df":function(t,e,a){"use strict";var i=a("296d");a.n(i).a},9562:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}var r,s;i={name:"Fee",components:{XyBuilderFormRegions:a("3ccb").default},props:{item:{},value:{default:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:1,ruleType:1},extend:[]},formValues:{},token:"",cloudId:0,eid:0},data:function(){return{unit:"kg",columns:[],dataItem:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:0,ruleType:1,delete:""}}},created:function(){switch(this.formValues[this.item.extra.unitField]){case 1:this.unit="kg";break;case 2:this.unit="件"}this.columns=[{title:"运送到",key:"regions",slot:"regions",width:"250",modalShow:!1},{title:"首重("+this.unit+")",key:"firstAmount",slot:"input"},{title:"首费(元）",key:"firstFee",slot:"input"},{title:"续重("+this.unit+")",key:"moreAmount",slot:"input"},{title:"续费(元)",key:"moreFee",slot:"input"},{title:"删除",key:"delete",slot:"delete",width:70}],this.value.default||(this.value={default:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:1,ruleType:1},extend:[]})},beforeMount:function(){},methods:{getData:function(){this.$emit("input",this.value)},delrow:(r=n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.value.extend.splice(e,1),this.getData();case 2:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(a,i){var n=r.apply(t,e);function s(t){o(n,a,i,s,l,"next",t)}function l(t){o(n,a,i,s,l,"throw",t)}s(void 0)}))},function(t){return s.apply(this,arguments)}),addrow:function(){var t=Object.assign({},this.dataItem);this.value.extend.push(t)}},watch:{formValues:{handler:function(t){switch(t[this.item.extra.unitField]){case 1:this.unit="kg";break;case 2:this.unit="件"}this.columns=[{title:"运送到",key:"regions",slot:"regions",width:"250",modalShow:!1},{title:"首重("+this.unit+")",key:"firstAmount",slot:"input"},{title:"首费(元）",key:"firstFee",slot:"input"},{title:"续重("+this.unit+")",key:"moreAmount",slot:"input"},{title:"续费(元)",key:"moreFee",slot:"input"},{title:"删除",key:"delete",slot:"delete",width:70}]},deep:!0,immediate:!0}}},a("73af"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fee"},[a("div",{staticClass:"text-error"},[t._v(" 除指定地区外，其余地区的运费采用默认运费。 ")]),a("div",{staticClass:"default"},[t._v(" 默认运费： "),a("Input",{attrs:{size:"small"},model:{value:t.value.default.firstAmount,callback:function(e){t.$set(t.value.default,"firstAmount",e)},expression:"value.default.firstAmount"}}),t._v(" "+t._s(t.unit)+" 内， "),a("Input",{attrs:{size:"small"},model:{value:t.value.default.firstFee,callback:function(e){t.$set(t.value.default,"firstFee",e)},expression:"value.default.firstFee"}}),t._v(" 元， 每增加 "),a("Input",{attrs:{size:"small"},model:{value:t.value.default.moreAmount,callback:function(e){t.$set(t.value.default,"moreAmount",e)},expression:"value.default.moreAmount"}}),t._v(" "+t._s(t.unit)+"， 增加运费 "),a("Input",{attrs:{size:"small"},model:{value:t.value.default.moreFee,callback:function(e){t.$set(t.value.default,"moreFee",e)},expression:"value.default.moreFee"}}),t._v(" 元。 ")],1),a("div",{staticClass:"more m-t-xs"},[a("Table",{attrs:{border:"",columns:t.columns,data:t.value.extend},scopedSlots:t._u([{key:"regions",fn:function(e){var i=e.row,n=e.column,o=e.index;return[a("XyBuilderFormRegions",{attrs:{showModal:i.modalShow,modalTitle:"运送到",action:t.item.extra.action,valueName:t.id,cloudId:t.cloudId,eid:t.edi,token:t.token},model:{value:t.value.extend[o][n.key],callback:function(e){t.$set(t.value.extend[o],n.key,e)},expression:"value.extend[index][column.key]"}})]}},{key:"input",fn:function(e){e.row;var i=e.column,n=e.index;return[a("Input",{attrs:{size:"small"},on:{"on-blur":t.getData},model:{value:t.value.extend[n][i.key],callback:function(e){t.$set(t.value.extend[n],i.key,e)},expression:"value.extend[index][column.key]"}})]}},{key:"delete",fn:function(e){e.row,e.column;var i=e.index;return[a("Button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small",type:"dashed"},on:{click:function(e){return t.delrow(i)}}},[t._v(" 删除 ")])]}}])}),a("Button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"dashed"},on:{click:t.addrow}},[t._v(" 增加 ")])],1)])}),[],!1,null,"05efd20f",null);e.default=i.exports},"9a73":function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i),o=a("4328"),r=a.n(o);function s(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0;return{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw n}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function u(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var o=t.apply(e,a);function r(t){u(o,i,n,r,s,"next",t)}function s(t){u(o,i,n,r,s,"throw",t)}r(void 0)}))}}a("dd1c");var d,m,p,f,h;i={name:"XyBuilderList",props:{api:"",cloudId:0,eid:0,show:!1,predata:"",value:0,showActions:!1},components:{},data:function(){return{CDN_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/cloud-admin/0.3.0/dist/",rowKey:function(){return"id"},loading:!1,page:1,limit:10,rightButtonListModal:[],filterValues:{},listData:{alertList:{},dataList:[],dataListParams:[],topButtonList:[],rightButtonList:[],rightButtonListModal:[],columns:[],dataPage:{total:0,limit:10,page:1},filterItems:[],filterValues:[],filterExtra:{},countList:[],config:{modalDefaultWidth:800}}}},watch:{api:function(){this.loadData("",!0)},show:function(t){1==t&&this.loadData("",!0)}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"73a5"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"2949"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"1343"))}},created:function(){this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata?(this.listData=this.predata,this.rightButtonListModal=this.rightButtonListModal.concat(this.predata.rightButtonListModal,this.predata.rightButtonList)):this.loadData(),this.limit=this.listData.dataPage.limit},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{submit:function(){this.$emit("input",this.value),this.$emit("close-model")},cancel:function(){this.$emit("close-model")},radioClick:function(t){this.value=t.row.id},getFilterParams:function(){var t={page:this.page,limit:this.limit};if(this.filterValues){var e=this.filterValues;if(0<this.listData.filterItems.length)for(var a in e)e.hasOwnProperty(a)&&(e[a].constructor&&e[a].constructor===Array&&(e[a]=e[a].join(",")),""!==e[a]&&(t[a]=e[a]))}return t},handleFilterExport:(h=c(n.a.mark((function t(e){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.a.stringify(this.getFilterParams()),a=this.$store.state.app.api.apiBase+this.listData.filterExtra.exportBtn[e].api+"?cloudId="+this.cloudId+"&token="+this.$store.state.user.token+"&"+a,window.open(a);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)}),changeCheckbox:(f=c(n.a.mark((function t(e){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=4,this.util.request({url:e.column.extra.url?e.column.extra.url:"/v1/admin/core/index/setStatus",method:"PUT",data:{table:this.listData.dataListParams.tableName,field:e.column.key,status:e.row[e.column.key],keyVal:e.row.id},header:{CloudId:this.cloudId,Eid:this.eid}});case 4:200==(a=t.sent).code?this.$Message.success(a.msg):this.$Message.error(a.msg);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)}),changeSwitch:(p=c(n.a.mark((function t(e){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=4,this.util.request({url:e.column.extra.url?e.column.extra.url:"/v1/admin/core/index/setStatus",method:"PUT",data:{table:this.listData.dataListParams.tableName,field:e.column.key,status:e.row[e.column.key],keyVal:e.row.id},header:{CloudId:this.cloudId,Eid:this.eid}});case 4:200==(a=t.sent).code?this.$Message.success(a.msg):(this.$Message.error(a.msg),e.row[e.column.key]=!e.row[e.column.key]);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)}),pageChange:function(t){this.page=t,this.loadData()},limitChange:function(t){this.page=1,this.limit=t,this.loadData()},closeModel:function(t){t.pageData.show=!1,t.pageData.noRefresh||this.loadData()},loadData:(m=c(n.a.mark((function t(){var e,a,i=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=1<i.length&&void 0!==i[1]&&i[1],""!=(a=0<i.length&&void 0!==i[0]?i[0]:"")&&(this.api=a),this.loading=!0,a={},e||(a=this.getFilterParams()),this.api)return t.next=9,this.util.request({url:this.api,method:"get",data:a,header:{CloudId:this.cloudId,Eid:this.eid}});t.next=11;break;case 9:"200"==(a=t.sent).code?(this.listData=a.data.listData,e&&(this.filterValues=this.listData.filterValues),this.rightButtonListModal=this.rightButtonListModal.concat(this.listData.rightButtonListModal,this.listData.rightButtonList)):this.$Message.error(a.msg);case 11:this.loading=!1;case 12:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),showChange:function(t){var e;this.$store.state.app.uiAudio&&((e=new Audio).src=1==t?"./audio/open.wav":"./audio/close.wav",e.play())},topButtonModal:function(t){var e,a,i=this,o=this.listData.topButtonList[t];new Object,"confirm"===o.pageData.modalType?(this.$store.state.app.uiAudio&&((t=new Audio).src="./audio/open.wav",t.play()),(e=this).$Modal.confirm({okText:o.pageData.okText,cancelText:o.pageData.cancelText,title:o.pageData.title,content:o.pageData.content,onOk:(a=c(n.a.mark((function t(){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:o.pageData.api+o.pageData.apiParams+"?"+o.pageData.queryParams,method:o.pageData.formMethod,header:{CloudId:e.cloudId,Eid:e.eid}});case 2:"200"==(a=t.sent).code?(e.$Message.success(a.msg),i.$store.state.app.uiAudio&&((r=new Audio).src="./audio/delete.wav",r.play()),o.pageData.noRefresh||e.loadData()):e.$Message.error(a.msg);case 4:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)}),onCancel:function(){var t;i.$store.state.app.uiAudio&&((t=new Audio).src="./audio/close.wav",t.play())}})):(o.pageData.apiBlank=o.pageData.api+o.pageData.apiParams+"?"+o.pageData.queryParams,o.pageData.show=!0)},rightButtonModal:(d=c(n.a.mark((function t(e,a,i){var o,l,u,d,m,p,f,h,v,y,g,x,b=this;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(l in o=0,this.rightButtonListModal)this.rightButtonListModal[l].name==e.name&&(o=l);if(u=this.rightButtonListModal[o],d="",m=new Object,u.pageData.apiSuffix){p=u.pageData.apiSuffix,f=s(p);try{for(f.s();!(h=f.n()).done;)h=h.value,d=d+"/"+a.row[h]}catch(t){f.e(t)}finally{f.f()}}else d="/"+a.row.id;if(u.pageData.querySuffix){g=u.pageData.querySuffix,v=s(g);try{for(v.s();!(y=v.n()).done;)1==(y=y.value)[2]?m[y[0]]=y[1]:m[y[0]]=a.row[y[1]]}catch(t){v.e(t)}finally{v.f()}}if("replace"!=u.pageData.pageType){t.next=11;break}this.$router.replace({path:u.pageData.route+"/"+a.row.name}),t.next=24;break;case 11:t.t0=u.pageData.modalType,t.next="confirm"===t.t0?14:"list"===t.t0?18:21;break;case 14:return this.$store.state.app.uiAudio&&((g=new Audio).src="./audio/open.wav",g.play()),(x=this).$Modal.confirm({okText:u.pageData.okText,cancelText:u.pageData.cancelText,title:u.pageData.title,content:u.pageData.content,onOk:function(){var t=c(n.a.mark((function t(){var e,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.util.request({url:u.pageData.api+d+"?"+r.a.stringify(m),method:u.pageData.formMethod,header:{CloudId:x.cloudId,Eid:x.eid}});case 2:"200"==(e=t.sent).code?(x.util.showToast({title:e.msg,icon:"success",duration:1e3}),b.$store.state.app.uiAudio&&((a=new Audio).src="./audio/delete.wav",a.play()),u.pageData.noRefresh||x.loadData()):x.util.showToast({title:e.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onCancel:function(){var t;b.$store.state.app.uiAudio&&((t=new Audio).src="./audio/close.wav",t.play())}}),t.abrupt("break",24);case 18:case 21:return u.pageData.apiBlank=u.pageData.api+d+"?"+r.a.stringify(m),u.pageData.show=!0,t.abrupt("break",24);case 24:case"end":return t.stop()}}),t,this)}))),function(t,e,a){return d.apply(this,arguments)})}},a("e9eb"),o=a("2877"),i=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy_builder-list-wrap list-card"},[t.listData.alertList&&t.listData.alertList.top?t._l(t.listData.alertList.top,(function(e,i){return a("Alert",{key:i,attrs:{type:e.type,"show-icon":!1,banner:"true"}},[a("div",{domProps:{innerHTML:t._s(e.desc)}})])})):t._e(),[t.listData.countList?a("Row",{attrs:{type:"flex",justify:"start",align:"top"}},t._l(t.listData.countList,(function(e,i){return a("Col",{key:i,attrs:{xs:12,xl:e.item.xl?e.item.xl:6,xxl:4}},[a("Row",{staticClass:"count-item",style:{backgroundColor:e.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("Col",{staticClass:"left"},[a("i",{staticClass:"icon",class:e.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.title,expression:"it.item.title"}]},[t._v(t._s(e.item.title))])]),a("Col",{staticClass:"right",style:{backgroundColor:e.item.bgColorRight?e.item.bgColorRight:"#fff",color:e.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[t._v(t._s(e.current.value))]),a("span",{staticClass:"suffix"},[t._v(t._s(e.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.content.value,expression:"it.content.value"}],staticClass:"value"},[t._v(t._s(e.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.content.list,expression:"it.content.list"}],staticClass:"list"},t._l(e.content.list,(function(e,i){return a("div",{key:i,staticClass:"cell"},[t._v(" "+t._s(e.title)+"："+t._s(e.value)+" ")])})),0)])])],1)],1)})),1):t._e(),a("div",{staticClass:"tool-box"},[t._l(t.listData.topButtonList,(function(e,i){return["form"==e.pageData.modalType?[a("Modal",{key:"top_modal_"+i,ref:"top_modal_"+i,refInFor:!0,attrs:{transfer:!1,scrollable:e.pageData.scrollable,draggable:e.pageData.draggable,"mask-closable":!1,"footer-hide":!0,width:e.pageData.width?e.pageData.width:600,title:e.pageData.title},on:{"on-visible-change":t.showChange},model:{value:e.pageData.show,callback:function(a){t.$set(e.pageData,"show",a)},expression:"item.pageData.show"}},[a("XyBuilderForm",{ref:"top_form_"+i,refInFor:!0,attrs:{api:e.pageData.apiBlank,show:e.pageData.show,cloudId:t.cloudId,eid:t.eid},on:{"close-model":function(a){return t.closeModel(e)}}})],1)]:"list"==e.pageData.modalType?[a("Modal",{key:"top_modal_"+i,ref:"top_modal_"+i,refInFor:!0,attrs:{transfer:!1,scrollable:e.pageData.scrollable,draggable:e.pageData.draggable,"mask-closable":!1,"footer-hide":!0,width:e.pageData.width?e.pageData.width:600,title:e.pageData.title},on:{"on-visible-change":t.showChange},model:{value:e.pageData.show,callback:function(a){t.$set(e.pageData,"show",a)},expression:"item.pageData.show"}},[a("XyBuilderlist",{ref:"top_list_"+i,refInFor:!0,attrs:{api:e.pageData.apiBlank,show:e.pageData.show,cloudId:t.cloudId,eid:t.eid},on:{"close-model":function(a){return t.closeModel(e)}}})],1)]:t._e()]})),t._l(t.listData.topButtonList,(function(e,i){return["print"==e.pageData.modalType?a("Button",{directives:[{name:"print",rawName:"v-print",value:"#table-box",expression:"'#table-box'"}],key:"button"+i},[t._v(" "+t._s(e.title)+" ")]):a("Button",{key:"button"+i,staticStyle:{"margin-bottom":"15px","margin-right":"10px"},attrs:{"empty-text":"当前没有数据",type:e.style.type,size:e.style.size,icon:e.style.icon},on:{click:function(e){return t.topButtonModal(i)}}},[t._v(" "+t._s(e.title)+" ")])]})),t.listData.filterItems&&0<t.listData.filterItems.length?a("Row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:16}},[a("Form",{ref:"formFilter",attrs:{"label-position":"left","label-width":90,model:t.filterValues}},[t._l(t.listData.filterItems,(function(e,i){return a("Col",{key:i,staticClass:"filter-item",attrs:{xs:24,sm:6}},[a("FormItem",{attrs:{label:e.title+":"}},["text"==e.type?[a("Input",{attrs:{type:"text",placeholder:e.extra.placeholder},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.loadData())}},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"select"==e.type?[a("Select",{on:{"on-change":function(e){return t.loadData()}},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}},t._l(e.extra.options,(function(e,i,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"radio"==e.type?[a("RadioGroup",{model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}},t._l(e.extra.options,(function(e,i,n){return a("Radio",{key:n,attrs:{label:e.value}},[a("span",[t._v(t._s(e.title))])])})),1)]:"checkbox"==e.type?[a("CheckboxGroup",{model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}},t._l(e.extra.options,(function(e,i,n){return a("Checkbox",{key:n,attrs:{label:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"datepicker"==e.type?[a("DatePicker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期",value:e.value},on:{"on-change":function(a){t.filterValues[e.name]=a}}})]:"timepicker"==e.type?[a("TimePicker",{attrs:{type:"time",format:e.extra.format?e.extra.format:"HH:mm:ss",placeholder:"选择时间",steps:e.extra.steps?e.extra.steps:"[1,1,1]",value:e.value},on:{"on-change":function(a){t.filterValues[e.name]=a}}})]:"timerangepicker"==e.type?[a("TimePicker",{attrs:{type:"timerange",format:e.extra.format?e.extra.format:"HH:mm:ss",placeholder:"选择时间区间",steps:e.extra.steps?e.extra.steps:"[1,1,1]",value:e.value},on:{"on-change":function(a){t.filterValues[e.name]=a}}})]:"datetimepicker"==e.type?[a("DatePicker",{attrs:{format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间",value:e.value},on:{"on-change":function(a){t.filterValues[e.name]=a}}})]:"daterangepicker"==e.type?[a("DatePicker",{attrs:{type:"daterange",format:"yyyy-MM-dd",placeholder:"选择日期区间",value:e.value},on:{"on-change":function(a){t.filterValues[e.name]=a}}})]:"datetimerangepicker"==e.type?[a("DatePicker",{attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间区间",value:e.value},on:{"on-change":function(a){t.filterValues[e.name]=a}}})]:t._e()],2)],1)})),a("Col",{staticClass:"filter-item",attrs:{xs:24,sm:6}},[a("FormItem",{attrs:{"label-width":0}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.loadData()}}},[t._v("查询")]),t.listData.filterExtra&&t.listData.filterExtra.exportBtn?t._l(t.listData.filterExtra.exportBtn,(function(e,i){return a("Button",{key:i,staticClass:"m-l-xs",attrs:{type:e.type?e.type:"primary"},on:{click:function(e){return t.handleFilterExport(i)}}},[t._v(" "+t._s(e.title?e.title:"导出")+" ")])})):t._e()],2)],1)],2)],1):t._e()],2),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"table-box",attrs:{id:"table-box"}},[a("tree-table",{attrs:{"expand-key":t.listData.dataListParams.expandKey?t.listData.dataListParams.expandKey:"title","is-fold":!t.listData.dataListParams.hasOwnProperty("isFold")||t.listData.dataListParams.isFold,border:!1,stripe:!1,radioSelectedId:t.value,"expand-type":!1,selectable:!!t.listData.dataListParams.hasOwnProperty("selectable")&&t.listData.dataListParams.selectable,selectType:t.listData.dataListParams.hasOwnProperty("selectType")?t.listData.dataListParams.selectType:"checkbox","row-key":t.rowKey,columns:t.listData.columns,data:this.listData.dataList},on:{"radio-click":t.radioClick},scopedSlots:t._u([{key:"html",fn:function(e){return[a("div",{domProps:{innerHTML:t._s(e.row[e.column.key])}})]}},{key:"group",fn:function(e){return t._l(e.column.extra.extend.fields,(function(i,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"title"},[t._v(" "+t._s(i[1])+" : ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(e.row[i[0]])+" ")])])}))}},{key:"label",fn:function(e){return["string"==typeof e.column.key?a("span",{style:{color:e.column.extra.options[e.row[e.column.key]].color?e.column.extra.options[e.row[e.column.key]].color:""}},[t._v(" "+t._s(e.column.extra.options[e.row[e.column.key]].title?e.column.extra.options[e.row[e.column.key]].title:e.row[e.column.key])+" ")]):2==e.column.key.length?a("span",{style:{color:e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]]&&e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].color?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].color:""}},[t._v(" "+t._s(e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]]&&e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].title?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].title:e.row[e.column.key[0]][e.column.key[1]])+" ")]):3==e.column.key.length?a("span",{style:{color:e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]]&&e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].color?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].color:""}},[t._v(" "+t._s(e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]]&&e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].title?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].title:e.row[e.column.key[0]][e.column.key[1]])+" ")]):t._e()]}},{key:"time",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.row[e.column.key],e.column.extra.extend.format))+" ")]}},{key:"url",fn:function(e){return[a("a",{attrs:{target:"_blank",href:e.row[e.column.key]}},[t._v(t._s(e.row[e.column.key]))])]}},{key:"password",fn:function(e){return[e.column.extra.show?[t._v(" "+t._s(e.row[e.column.key])+" ")]:[t._v("******")],a("Icon",{attrs:{type:"md-eye"},on:{click:function(t){e.column.extra.show=!e.column.extra.show}}})]}},{key:"circle",fn:function(e){return[a("i-circle",{staticStyle:{"vertical-align":"middle",width:"40px",height:"40px"},attrs:{percent:e.row[e.column.key]}},[a("span",{staticClass:"demo-Circle-inner",staticStyle:{"font-size":"12px"}},[t._v(t._s(e.row[e.column.key])+"%")])])]}},{key:"tag",fn:function(e){return["string"==typeof e.column.key?[e.column.extra.options[e.row[e.column.key]]?[a("Tag",{attrs:{color:e.column.extra.options[e.row[e.column.key]].color?e.column.extra.options[e.row[e.column.key]].color:"default"}},[t._v(" "+t._s(e.column.extra.options[e.row[e.column.key]].title?e.column.extra.options[e.row[e.column.key]].title:e.row[e.column.key])+" ")])]:[a("Tag",{attrs:{color:"default"}},[t._v(t._s(e.row[e.column.key]))])]]:2==e.column.key.length?[e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]]?[a("Tag",{attrs:{color:e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].color?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].color:"default"}},[t._v(" "+t._s(e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].title?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]]].title:e.row[e.column.key[0]][e.column.key[1]])+" ")])]:[a("Tag",{attrs:{color:"default"}},[t._v(t._s(e.row[e.column.key[0]][e.column.key[1]]))])]]:3==e.column.key.length?[e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]]?[a("Tag",{attrs:{color:e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].color?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].color:"default"}},[t._v(" "+t._s(e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].title?e.column.extra.options[e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]].title:e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]])+" ")])]:[a("Tag",{attrs:{color:"default"}},[t._v(t._s(e.row[e.column.key[0]][e.column.key[1]][e.column.key[2]]))])]]:t._e()]}},{key:"tags",fn:function(e){return["string"==typeof e.column.key?[t._l(e.row[e.column.key],(function(i){return[e.column.extra.options[i]?a("Tag",{key:i,staticStyle:{transform:"scale(0.8)"},attrs:{color:e.column.extra.options[i].color?e.column.extra.options[i].color:"default"}},[t._v(" "+t._s(e.column.extra.options[i].title?e.column.extra.options[i].title:i)+" ")]):t._e()]}))]:t._e()]}},{key:"progress",fn:function(e){return[a("Progress",{staticStyle:{"vertical-align":"middle"},attrs:{percent:e.row[e.column.key],vertical:!!e.column.extra.extend.vertical&&e.column.extra.extend.vertical,status:e.column.extra.extend.status?e.column.extra.extend.status:"active"}},[e.column.extra.extend.hideIcon?[t._v(" "+t._s(e.row[e.column.key])+"% ")]:t._e()],2)]}},{key:"rate",fn:function(e){return[a("Rate",{staticStyle:{"vertical-align":"middle"},attrs:{"allow-half":"",disabled:"","show-text":!1},model:{value:e.row[e.column.key],callback:function(a){t.$set(e.row,e.column.key,a)},expression:"scope.row[scope.column.key]"}})]}},{key:"audio",fn:function(e){return[a("audio",{staticStyle:{"vertical-align":"middle",width:"150px",height:"30px"},attrs:{controls:"controls",preload:"none"}},[a("source",{attrs:{src:e.row[e.column.key]}}),t._v(" Your browser does not support the audio element. ")])]}},{key:"image",fn:function(e){return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.row[e.column.key]?e.row[e.column.key]:t.CDN_URL+"/noimage.png",width:e.column.extra.extend&&e.column.extra.extend.width?e.column.extra.extend.width:"",height:e.column.extra.extend&&e.column.extra.extend.height?e.column.extra.extend.height:"35"}})]}},{key:"images",fn:function(e){return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.row[e.column.key]?e.row[e.column.key]:t.CDN_URL+"/noimage.png",width:e.column.extra.extend&&e.column.extra.extend.width?e.column.extra.extend.width:"",height:e.column.extra.extend&&e.column.extra.extend.height?e.column.extra.extend.height:"35"},on:{click:function(a){return t.handleView(e.row[e.column.key])}}})]}},{key:"switch",fn:function(e){return[a("i-switch",{staticStyle:{transform:"scale(0.8)"},attrs:{size:"large","true-color":"#19be6b","false-color":"#ed4014","true-value":e.column.extra.options[1].value,"false-value":e.column.extra.options[0].value,loading1:"listData.dataList[scope.rowIndex][scope.column.key + ''] ? true : false"},on:{"on-change":function(a){return t.changeSwitch(e)}},model:{value:e.row[e.column.key],callback:function(a){t.$set(e.row,e.column.key,a)},expression:"scope.row[scope.column.key]"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(e.column.extra.options[1].title))]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(e.column.extra.options[0].title))])])]}},{key:"checkbox",fn:function(e){return[a("CheckboxGroup",{on:{"on-change":function(a){return t.changeCheckbox(e)}},model:{value:e.row[e.column.key],callback:function(a){t.$set(e.row,e.column.key,a)},expression:"scope.row[scope.column.key]"}},t._l(e.column.extra.options,(function(i,n,o){return a("Checkbox",{key:o,attrs:{disabled:!!e.column.extra.disabled&&e.column.extra.disabled,label:i.value}},[t._v(" "+t._s(i.title)+" ")])})),1)]}},{key:"rightButtonList",fn:function(e){return[t._l(t.listData.rightButtonList,(function(i,n){return a("a",{key:"button"+n,class:"default"==i.style.type?"":"text-"+i.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:i.style.type,size:i.style.size,icon:i.style.icon},on:{click:function(a){return t.rightButtonModal(i,e)}}},[t._v(" "+t._s(i.title)+" ")])})),t._l(e.row[e.column.key],(function(i,n){return a("a",{key:"button"+n,class:"default"==i.style.type?"":"text-"+i.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:i.style.type,size:i.style.size,icon:i.style.icon},on:{click:function(a){return t.rightButtonModal(i,e)}}},[t._v(" "+t._s(i.title)+" ")])}))]}}])}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),a("div",[t._v("Loading")])],1)],1)],1),t._l(t.rightButtonListModal,(function(e,i){return["form"==e.pageData.modalType?[a("Modal",{key:"modal"+i,attrs:{transfer:!1,"footer-hide":!0,scrollable:e.pageData.scrollable,draggable:e.pageData.draggable,"mask-closable":!1,width:e.pageData.width?e.pageData.width:700,title:e.pageData.title},on:{"on-visible-change":t.showChange},model:{value:e.pageData.show,callback:function(a){t.$set(e.pageData,"show",a)},expression:"item.pageData.show"}},[a("XyBuilderForm",{ref:"right_form_"+i,refInFor:!0,attrs:{api:e.pageData.apiBlank,show:e.pageData.show,cloudId:t.cloudId,eid:t.eid},on:{"close-model":function(a){return t.closeModel(e)}}})],1)]:"list"==e.pageData.modalType?[a("Modal",{key:"modal"+i,attrs:{transfer:!1,"footer-hide":!0,scrollable:e.pageData.scrollable,draggable:e.pageData.draggable,"mask-closable":!1,width:e.pageData.width?e.pageData.width:700,title:e.pageData.title},on:{"on-visible-change":t.showChange},model:{value:e.pageData.show,callback:function(a){t.$set(e.pageData,"show",a)},expression:"item.pageData.show"}},[a("XyBuilderList",{ref:"right_list_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:e.pageData.apiBlank,show:e.pageData.show}})],1)]:"info"==e.pageData.modalType?[a("Modal",{key:"modal"+i,attrs:{transfer:!1,"footer-hide":!0,scrollable:e.pageData.scrollable,draggable:e.pageData.draggable,"mask-closable":!1,width:e.pageData.width?e.pageData.width:700,title:e.pageData.title},on:{"on-visible-change":t.showChange},model:{value:e.pageData.show,callback:function(a){t.$set(e.pageData,"show",a)},expression:"item.pageData.show"}},[a("XyBuilderInfo",{ref:"right_info_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:e.pageData.apiBlank,show:e.pageData.show}})],1)]:"tab"==e.pageData.modalType?[a("Modal",{key:"modal"+i,attrs:{transfer:!1,"footer-hide":!0,scrollable:e.pageData.scrollable,draggable:e.pageData.draggable,"mask-closable":!1,width:e.pageData.width?e.pageData.width:700,title:e.pageData.title},on:{"on-visible-change":t.showChange},model:{value:e.pageData.show,callback:function(a){t.$set(e.pageData,"show",a)},expression:"item.pageData.show"}},[a("XyBuilderTab",{ref:"right_info_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:e.pageData.apiBlank,show:e.pageData.show}})],1)]:t._e()]})),a("Page",{directives:[{name:"show",rawName:"v-show",value:0<t.listData.dataPage.total,expression:"listData.dataPage.total > 0"}],staticStyle:{"margin-top":"15px"},attrs:{total:t.listData.dataPage.total,"show-sizer":"","show-elevator":"","show-total":"",current:t.page,"page-size":t.limit,"page-size-opts":[10,20,50,100,1e3],"prev-text":"上一页","next-text":"下一页"},on:{"on-change":t.pageChange,"on-page-size-change":t.limitChange}}),1==this.showActions?a("div",[a("Divider"),a("Button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",size:"large"},on:{click:function(e){return t.submit()}}},[t._v(" 确认选择 ")]),a("Button",{attrs:{type:"text",size:"large"},on:{click:function(e){return t.cancel()}}},[t._v(" 取消操作 ")])],1):t._e()],t.listData.alertList&&t.listData.alertList.bottom?t._l(t.listData.alertList.bottom,(function(e,i){return a("Alert",{key:i,attrs:{type:e.type,"show-icon":!1,banner:"true"}},[a("div",{domProps:{innerHTML:t._s(e.desc)}})])})):t._e()],2)}),[],!1,null,"9750875a",null);e.default=i.exports},a331:function(t,e,a){},a40a:function(t,e,a){"use strict";a.r(e);var i={name:"XyBuilderIframeRoute",components:{},data:function(){return{api:""}},created:function(){},beforeMount:function(){this.api=this.$route.meta.api},methods:{},watch:{}};a=a("2877"),i=Object(a.a)(i,(function(){var t=this.$createElement;return(t=this._self._c||t)("div",[t("iframe",{staticStyle:{width:"100%",height:"calc(100vh - 150px)"},attrs:{frameborder:"0",src:this.api}})])}),[],!1,null,null,null);e.default=i.exports},a59f:function(t,e,a){"use strict";var i=a("e5c7");a.n(i).a},ab66:function(t,e,a){"use strict";var i=a("1b7e");a.n(i).a},aefe:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}i={name:"Image",props:{item:{},value:"",img:{value:"",title:""},token:"",cloudId:0,eid:0},data:function(){return{uploadName:"file",header:{}}},created:function(){this.header={Authorization:this.token}},beforeMount:function(){},methods:{handleView:function(t){this.$emit("handleView",t)},handleSuccess:function(t,e){"upload_oss"==this.item.extra.driver?(e.url=this.item.extra.data.host+"/"+this.item.extra.data.key,this.value=e.url):"upload_smms"==this.item.extra.driver?"success"==t.code?(e.url=t.data.url,this.value=e.url):this.$Notice.warning({title:t.message}):200==t.code?(e.url=t.data.url,this.value=e.url):this.$Notice.warning({title:t.msg}),this.$emit("input",this.value)},handleRemove:function(){this.value=""},handleBeforeUpload:function(t){var e=this;return"upload_oss"==e.item.extra.driver?new Promise(function(){var a=r(n.a.mark((function a(i,o){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:e.cloudId,Eid:e.eid}});case 2:200==(r=a.sent).code?(e.item.extra.action=r.data.params.host,r.data.params.key=r.data.params.key+t.name,e.item.extra.data=r.data.params,i()):e.$Notice.warning({title:r.msg});case 4:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}()):"upload_smms"==e.item.extra.driver?new Promise(function(){var t=r(n.a.mark((function t(a,i){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.header={Authorization:"R7aVy1OLZJ1pMgWyjBkdOz9Dyh7nSFm2"},e.uploadName="smfile",e.item.extra.action="https://sm.ms/api/v2/upload",e.item.extra.data={format:"json"},a();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()):void 0},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件"+t.name+"的格式不正确, 请重新选择。"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件大小不正确",desc:"文件"+t.name+"太大了, 不支持超过1M。"})}},watch:{}},a("3b6c"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("div",[""!==t.value?e("div",{staticClass:"image-list"},[e("img",{attrs:{src:t.value}}),e("div",{staticClass:"image-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){return t.handleView(t.value)}}}),e("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(e)}}})],1)]):t._e(),e("Upload",{directives:[{name:"show",rawName:"v-show",value:""==t.value,expression:"value == ''"}],ref:"upload_"+t.item.name,staticStyle:{display:"inline-block",width:"58px"},attrs:{paste:!0,"show-upload-list":!1,headers:t.header,"default-file-list":[{name:t.item.name,url:t.value}],format:t.item.extra.format,"max-size":t.item.extra.maxSize?t.item.extra.maxSize:500,"on-success":t.handleSuccess,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,data:t.item.extra.data,name:t.uploadName,type:"drag",action:t.item.extra.action}},[e("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[e("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),""!==t.img.title?e("div",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.img.title)+" ")]):t._e()],1)}),[],!1,null,"31e82174",null),e.default=i.exports},b218:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}var r,s;i={name:"SkuPrice",components:{},props:{item:{},value:[],formValues:{},token:"",cloudId:0,eid:0},data:function(){return{title:"",tag:"",columns:[{title:"规格",key:"spec",slot:"label",width:"300"},{title:"正常售价",key:"price",slot:"label"},{title:"剩余库存",key:"stock",slot:"label"},{title:"秒杀价",key:"curPrice",slot:"text"},{title:"每次库存",key:"curStock",slot:"text"}]}},created:function(){},beforeMount:function(){},methods:{getData:function(){this.$emit("input",this.value)}},watch:{"formValues.itemId":{handler:(r=n.a.mark((function t(e){var a,i,o,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this,e&&null!=e)return t.next=4,a.util.request({url:"/v1/iadmin/ishop/sku/lists",method:"get",data:{itemId:e,curField:1},header:{CloudId:a.cloudId,Eid:a.eid}});t.next=6;break;case 4:if(200==(i=t.sent).code){for(o=i.data.dataList.length-1;0<=o;o--)for(r=0;r<this.value.length;r++)this.value[r].spec==i.data.dataList[o].spec&&(i.data.dataList[o].curPrice=this.value[r].curPrice,i.data.dataList[o].curStock=this.value[r].curStock);this.value=i.data.dataList,this.getData()}else this.util.showToast({title:i.msg});case 6:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(a,i){var n=r.apply(t,e);function s(t){o(n,a,i,s,l,"next",t)}function l(t){o(n,a,i,s,l,"throw",t)}s(void 0)}))},function(t){return s.apply(this,arguments)}),deep:!0,immediate:!0}}},a("ab66"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"sku-list"},[a("Table",{attrs:{border:"",columns:t.columns,data:t.value},scopedSlots:t._u([{key:"label",fn:function(e){e.row;var a=e.column;e=e.index;return[t._v(" "+t._s(t.value[e][a.key])+" ")]}},{key:"text",fn:function(e){e.row;var i=e.column,n=e.index;return[a("Input",{attrs:{size:"small"},on:{"on-blur":t.getData},model:{value:t.value[n][i.key],callback:function(e){t.$set(t.value[n],i.key,e)},expression:"value[index][column.key]"}})]}}])})],1)])}),[],!1,null,"6ee61046",null);e.default=i.exports},b271:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i),o=a("4328"),r=a.n(o),s=(a("c276"),a("aefe")),l=a("249f"),u=a("5b7f"),c=a("b37a"),d=a("43e8"),m=a("c65b"),p=a("b218"),f=a("9562"),h=a("04b1");i=a("7e79"),o=a("ca72");function v(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function y(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var o=t.apply(e,a);function r(t){v(o,i,n,r,s,"next",t)}function s(t){v(o,i,n,r,s,"throw",t)}r(void 0)}))}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var x,b,k;i={name:"XyBuilderFormItem",components:{XyBuilderFormImage:s.default,XyBuilderFormImages:l.default,XyBuilderFormFile:u.default,XyBuilderFormFiles:c.default,XyBuilderFormPoster:d.default,XyBuilderFormSku:m.default,XyBuilderFormSkuPrice:p.default,XyBuilderFormFee:f.default,XyBuilderFormAmap:h.default,VueCropper:i.VueCropper,"tinymce-vue":o.a},props:{prop:"",cloudId:0,eid:0,item:{},formValues:{},formRules:{}},data:function(){return{token:"",previewImageVisible:!1,previewImageUrl:""}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"9a73"))}},created:function(){switch(this.token=this.$store.state.user.token,this.item.type){case"radio":break;case"imageflex":if(formValues[this.item.name].constructor!==Object){var t,e={},a=function(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return g(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0;return{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw n}}}}(this.item.extra.options);try{for(a.s();!(t=a.n()).done;)e[t.value.value]=""}catch(t){a.e(t)}finally{a.f()}formValues[this.item.name]=e}break;case"datepicker":this.formValues[this.item.name]=this.util.formatDate(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimepicker":this.formValues[this.item.name]=this.util.formatDate(this.formValues[this.item.name],"yyyy-MM-dd HH:mm");break;case"daterangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimerangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd HH:mm")}},beforeMount:function(){},mounted:function(){},methods:{loadCascaderData:(k=y(n.a.mark((function t(e,a){var i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,this.util.request({url:this.item.extra.action,data:{value:e.value},method:"get"});case 3:200==(i=t.sent).code?e.children=i.data.dataList:this.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1,a();case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return k.apply(this,arguments)}),rightButtonModal:(b=y(n.a.mark((function t(e){var a,i,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.extra,o=i="",t.t0=a.pageData.modalType,t.next="list"===t.t0?6:9;break;case 6:case 9:return a.pageData.apiBlank=a.pageData.api+i+"?"+r.a.stringify(o),a.pageData.show=!0,t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)}))),function(t){return b.apply(this,arguments)}),filePickerCallback:function(t){var e=document.createElement("input");e.setAttribute("type","file"),e.onchange=function(){var e,a=this.files[0],i=new FormData;i.append("files",a),(e=new XMLHttpRequest).withCredentials=!1,e.open("POST",this.item.extra.action),xht.setRequestHeader("Authorization",this.token),e.onload=function(){var a;200==e.status?(a=JSON.parse(e.responseText))&&"string"==typeof a.location?t(a.data.url):failure("Invalid JSON: "+e.responseText):failure("HTTP Error: "+e.status)},e.send(i)}},imagesUploadHandler:(x=y(n.a.mark((function t(e,a,i){var o,r,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new FormData,(o=new XMLHttpRequest).withCredentials=!1,"upload_oss"==this.item.extra.driver)return t.next=6,this.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=10;break;case 6:200==(s=t.sent).code?(this.item.extra.action=s.data.params.host,s.data.params.key=s.data.params.key+Date.parse(new Date)/1e3+e.filename(),this.item.extra.data=s.data.params,o.open("POST",this.item.extra.action),r.append("key",this.item.extra.data.key),r.append("policy",this.item.extra.data.policy),r.append("OSSAccessKeyId",this.item.extra.data.OSSAccessKeyId),r.append("success_action_status",this.item.extra.data.success_action_status),r.append("signature",this.item.extra.data.signature),r.append("host",this.item.extra.data.host),r.append("expire",this.item.extra.data.expire),r.append("file",e.blob(),e.filename()),o.onload=function(){var t;200==o.status?(t=s.data.params.host+"/"+s.data.params.key,a(t)):i("HTTP Error: "+o.status)},o.send(r)):this.$Notice.warning({title:s.msg}),t.next=11;break;case 10:"upload_smms"==this.item.extra.driver?(this.item.extra.action="https://sm.ms/api/v2/upload",this.item.extra.data={format:"json"},o.open("POST",this.item.extra.action),o.setRequestHeader("Authorization","R7aVy1OLZJ1pMgWyjBkdOz9Dyh7nSFm2"),r.append("smfile",e.blob(),e.filename()),r.append("format",this.item.extra.data.format),o.onload=function(){var t;200==o.status?"success"==(t=JSON.parse(o.responseText)).code?a(t.data.url):i(t.message):i("HTTP Error: "+o.status)}):(o.open("POST",this.item.extra.action),o.setRequestHeader("Authorization",this.token),r.append("file",e.blob(),e.filename()),o.onload=function(){var t;200==o.status?(t=JSON.parse(o.responseText))&&"string"==typeof t.data.url?a(t.data.url):i("Invalid JSON: "+o.responseText):i("HTTP Error: "+o.status)}),o.send(r);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,a){return x.apply(this,arguments)}),handleView:function(t){this.previewImageUrl=t,this.previewImageVisible=!0},formlistAddrow:function(t){this.formValues[t].push(new Object)},formlistDelrow:function(t,e){this.formValues[t].splice(e,1)},getChecked:function(t){return this.$refs["checkboxtree_"+this.item.name].getCheckedProp(t)},formatDates:function(t,e){return[this.util.formatDate(t[0],e),this.util.formatDate(t[1],e)]}},watch:{item:function(){}}},a("76d4"),o=a("2877"),i=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["tabs"==t.item.type?[a("Tabs",{attrs:{value:t.item.extra.options[0].name,animated:!1}},[t._l(t.item.extra.options,(function(e,i){return[a("TabPane",{key:i+"_"+e.name,attrs:{label:e.title,name:e.name}},[t._l(e.options,(function(i,n){return[a("XyBuilderFormItem",{key:n,ref:"formitemtab_"+e.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:t.formValues,formRules:t.formRules,cloudId:t.cloudId,eid:t.eid,prop:t.item.name}})]}))],2)]}))],2)]:a("FormItem",{attrs:{label:t.item.title,prop:t.prop,rules:t.formRules[t.item.name]?t.formRules[t.item.name]:[]}},["divider"==t.item.type?[a("Divider")]:"static"==t.item.type?[a("span",[t._v(t._s(t.item.value))]),a("Input",{staticClass:"hidden",attrs:{disabled:t.item.extra.disabled,placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"staticUrl"==t.item.type?[a("a",{attrs:{href:t.item.value,target:"_blank"}},[t._v(t._s(t.item.extra.placeholder))])]:"text"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"password"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"password",placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"url"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"url",placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"email"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"email",placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"number"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"number",placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"digit"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"text",placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"tel"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"tel",placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"textarea"==t.item.type||"array"==t.item.type?[a("Input",{attrs:{disabled:t.item.extra.disabled,type:"textarea",autosize:{minRows:t.item.extra.minRows?t.item.extra.minRows:3,maxRows:t.item.extra.maxRows?t.item.extra.maxRows:10},placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"select"==t.item.type?[a("Select",{attrs:{filterable:!0,disabled:t.item.extra.disabled},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}},t._l(t.item.extra.options,(function(e,i,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"selects"==t.item.type?[a("Select",{attrs:{filterable:!0,multiple:!0,disabled:t.item.extra.disabled},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}},t._l(t.item.extra.options,(function(e,i,n){return a("Option",{key:n,attrs:{value:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"radio"==t.item.type?[a("RadioGroup",{model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}},t._l(t.item.extra.options,(function(e,i,n){return a("Radio",{key:n,attrs:{disabled:t.item.extra.disabled,label:e.value}},[e.icon?a("Icon",{attrs:{type:e.icon}}):t._e(),a("span",[t._v(t._s(e.title))])],1)})),1)]:"checkbox"==t.item.type?[a("CheckboxGroup",{model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}},t._l(t.item.extra.options,(function(e,i,n){return a("Checkbox",{key:n,attrs:{disabled:t.item.extra.disabled,label:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"switch"==t.item.type?[a("i-switch",{attrs:{disabled:t.item.extra.disabled,"true-value":t.item.extra.options[1].value,"false-value":t.item.extra.options[0].value,size:"large"},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}},[a("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.item.extra.options[1].title))]),a("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.item.extra.options[0].title))])])]:"slider"==t.item.type?[a("Slider",{attrs:{disabled:t.item.extra.disabled},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"datepicker"==t.item.type?[a("DatePicker",{attrs:{disabled:t.item.extra.disabled,type:"date",placeholder:"选择日期",value:t.util.formatDate(t.item.value,"yyyy-MM-dd")},on:{"on-change":function(e){t.formValues[t.item.name]=e}}})]:"timepicker"==t.item.type?[a("TimePicker",{attrs:{disabled:t.item.extra.disabled,type:"time",format:t.item.extra.format?t.item.extra.format:"HH:mm:ss",steps:t.item.extra.steps?t.item.extra.steps:"[1,1,1]",placeholder:"选择时间",value:t.item.value},on:{"on-change":function(e){t.formValues[t.item.name]=e}}})]:"datetimepicker"==t.item.type?[a("DatePicker",{attrs:{disabled:t.item.extra.disabled,type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间",value:t.util.formatDate(t.item.value,"yyyy-MM-dd HH:mm")},on:{"on-change":function(e){t.formValues[t.item.name]=e}}})]:"daterangepicker"==t.item.type?[a("DatePicker",{attrs:{disabled:t.item.extra.disabled,type:"daterange",format:"yyyy-MM-dd",placeholder:"选择日期",value:t.formatDates(t.item.value,"yyyy-MM-dd")},on:{"on-change":function(e){t.formValues[t.item.name]=e}}})]:"datetimerangepicker"==t.item.type?[a("DatePicker",{attrs:{disabled:t.item.extra.disabled,type:"datetimerange",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间",value:t.formatDates(t.item.value,"yyyy-MM-dd HH:mm")},on:{"on-change":function(e){t.formValues[t.item.name]=e}}})]:"timerangepicker"==t.item.type?[a("TimePicker",{attrs:{disabled:t.item.extra.disabled,type:"timerange",format:t.item.extra.format?t.item.extra.format:"HH:mm:ss",steps:t.item.extra.steps?t.item.extra.steps:"[1,1,1]",placeholder:"选择时间区间",value:t.item.value},on:{"on-change":function(e){t.formValues[t.item.name]=e}}})]:"rate"==t.item.type?[a("Rate",{attrs:{disabled:t.item.extra.disabled},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"cascader"==t.item.type||"region"==t.item.type?[a("Cascader",{attrs:{disabled:t.item.extra.disabled,data:t.item.extra.options,size:"default"},on:{"load-data":t.loadCascaderData},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"colorpicker"==t.item.type?[a("ColorPicker",{attrs:{disabled:t.item.extra.disabled},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"image"==t.item.type?[a("XyBuilderFormImage",{attrs:{item:t.item,img:{name:"",title:""},cloudId:t.cloudId,eid:t.eid,token:t.token},on:{handleView:t.handleView},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}}),a("Input",{attrs:{disabled:t.item.extra.disabled,placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"imageflex"==t.item.type?[a("div",{staticStyle:{display:"flex"}},t._l(t.item.extra.options,(function(e,i){return a("div",{key:i,staticStyle:{"padding-right":"15px"}},[a("XyBuilderFormImage",{attrs:{item:t.item,img:e,cloudId:t.cloudId,eid:t.eid,token:t.token},on:{handleView:t.handleView},model:{value:t.formValues[t.item.name][e.value],callback:function(a){t.$set(t.formValues[t.item.name],e.value,a)},expression:"formValues[item.name][img.value]"}})],1)})),0)]:"images"==t.item.type?[a("XyBuilderFormImages",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,token:t.token},on:{handleView:t.handleView},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"file"==t.item.type?[a("XyBuilderFormFile",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,token:t.token},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"files"==t.item.type?[a("XyBuilderFormFiles",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,token:t.token},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"poster"==t.item.type?[a("XyBuilderFormPoster",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,token:t.token},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"selectlist"==t.item.type?[t._v(" "+t._s(t.formValues[t.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(e){return t.rightButtonModal(t.item)}}},[t._v(" 点击选择 ")]),a("Modal",{attrs:{transfer:!1,"footer-hide":!0,scrollable:t.item.extra.pageData.scrollable,draggable:t.item.extra.pageData.draggable,"mask-closable":!1,width:t.item.extra.pageData.width?t.item.extra.pageData.width:600,title:t.item.extra.pageData.title},model:{value:t.item.extra.pageData.show,callback:function(e){t.$set(t.item.extra.pageData,"show",e)},expression:"item.extra.pageData.show"}},[a("XyBuilderList",{ref:"listselect_"+t.item.name,attrs:{showActions:!0,cloudId:t.cloudId,eid:t.eid,api:t.item.extra.pageData.apiBlank,show:t.item.extra.pageData.show},on:{"close-model":function(e){t.item.extra.pageData.show=!1}},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})],1)]:"formlist"==t.item.type?[a("Row",t._l(t.item.extra.options,(function(e,i,n){return a("div",{key:n},[a("Col",{attrs:{span:e.span}},[t._v(" "+t._s(e.title)+" ")])],1)})),0),t._l(t.formValues[t.item.name],(function(e,i,n){return a("Row",{key:n},[t._l(t.item.extra.options,(function(e,n,o){return a("div",{key:o},[a("Col",{attrs:{span:e.span}},[t.item.extra.options[n].type&&"text"==t.item.extra.options[n].type||t.item.extra.options[n].type&&"switch"==t.item.extra.options[n].type?[a("Input",{model:{value:t.formValues[t.item.name][i][e.key],callback:function(a){t.$set(t.formValues[t.item.name][i],e.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]:t.item.extra.options[n].type&&"datetimepicker"==t.item.extra.options[n].type?[a("DatePicker",{attrs:{disabled:!!t.item.extra.options[n].extra.disabled&&t.item.extra.options[n].extra.disabled,type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间",value:t.util.formatDate(t.formValues[t.item.name][i][e.key],"yyyy-MM-dd HH:mm")},on:{"on-change":function(a){t.formValues[t.item.name][i][e.key]=a}}})]:[a("Input",{model:{value:t.formValues[t.item.name][i][e.key],callback:function(a){t.$set(t.formValues[t.item.name][i],e.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]],2)],1)})),a("Button",{attrs:{type:"dashed"},on:{click:function(e){return t.formlistDelrow(t.item.name,i)}}},[t._v("删除")])],2)})),a("Button",{staticStyle:{"margin-top":"8px"},attrs:{type:"dashed",icon:"md-add"},on:{click:function(e){return t.formlistAddrow(t.item.name)}}},[t._v(" 增加一行 ")])]:"datalist"==t.item.type?[a("XyBuilderList",{ref:"list_"+t.item.name,attrs:{cloudId:t.cloudId,eid:t.eid,api:t.item.extra.pageData.apiBlank,show:t.item.extra.pageData.show}})]:"checkboxtree"==t.item.type?[a("tree-table",{ref:"checkboxtree_"+t.item.name,attrs:{"expand-key":t.item.extra.expandKey,"is-fold":!0,border:!0,stripe:!1,selectable:!0,"expand-type":!1,columns:t.item.extra.columns,data:t.item.extra.data}})]:"markdown"==t.item.type?[a("div",[a("mavon-editor",{staticStyle:{"min-height":"500px"},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})],1)]:"html"==t.item.type||"tinymce"==t.item.type?[a("tinymce-vue",{attrs:{"api-key":"y1buzf80o0qtt4lt3pfj0yh98ilgq4ts6mf3nwjpqky9ea49",init:{external_plugins:{},init_instance_callback:function(t){},default_link_target:"_blank",paste_data_images:!0,images_upload_url:t.item.extra.action,automatic_uploads:!0,file_picker_types:"file image media",file_picker_callback:t.filePickerCallback,images_upload_handler:t.imagesUploadHandler,language_url:"https://cdn.jsdelivr.net/gh/starideas/xyfront/libs/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:t.item.extra.skin,theme:"silver",branding:!0,plugins:"link lists image code table wordcount fullscreen emoticons print codesample",toolbar:" undo redo print| cut copy paste pastetext removeformat | bold italic underline strikethrough | forecolor backcolor | formatselect fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | link image codesample emoticons| code fullscreen",height:500,font_formats:"\n                      微软雅黑=微软雅黑;\n                      宋体=宋体;\n                      黑体=黑体;\n                      仿宋=仿宋;\n                      楷体=楷体;\n                      隶书=隶书;\n                      幼圆=幼圆;\n                      Andale Mono=andale mono,times;\n                      Arial=arial, helvetica,\n                      sans-serif;\n                      Arial Black=arial black, avant garde;\n                      Book Antiqua=book antiqua,palatino;\n                      Comic Sans MS=comic sans ms,sans-serif;\n                      Courier New=courier new,courier;\n                      Georgia=georgia,palatino;\n                      Helvetica=helvetica;\n                      Impact=impact,chicago;\n                      Symbol=symbol;\n                      Tahoma=tahoma,arial,helvetica,sans-serif;\n                      Terminal=terminal,monaco;\n                      Times New Roman=times new roman,times;\n                      Trebuchet MS=trebuchet ms,geneva;\n                      Verdana=verdana,geneva;\n                      Webdings=webdings;\n                      Wingdings=wingdings,zapf dingbats"}},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"sku"==t.item.type?[a("XyBuilderFormSku",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"skuPrice"==t.item.type?[a("XyBuilderFormSkuPrice",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,formValues:t.formValues},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"fee"==t.item.type?[a("XyBuilderFormFee",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,formValues:t.formValues},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:"amap"==t.item.type?[a("XyBuilderFormAmap",{attrs:{item:t.item,cloudId:t.cloudId,eid:t.eid,formValues:t.formValues},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})]:[a("Input",{attrs:{disabled:t.item.extra.disabled,placeholder:t.item.extra.placeholder},model:{value:t.formValues[t.item.name],callback:function(e){t.$set(t.formValues,t.item.name,e)},expression:"formValues[item.name]"}})],a("Modal",{attrs:{title:"预览"},model:{value:t.previewImageVisible,callback:function(e){t.previewImageVisible=e},expression:"previewImageVisible"}},[t.previewImageVisible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.previewImageUrl}}):t._e()]),a("div",{staticStyle:{color:"#aaa","font-size":"12px"}},[t._v(t._s(t.item.extra.tip))])],2)],2)}),[],!1,null,null,null);e.default=i.exports},b37a:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}i={name:"Files",props:{item:{},value:[],token:"",cloudId:0,eid:0},data:function(){return{}},created:function(){""==this.item.value&&(this.item.value=new Array),""==this.value&&(this.value=new Array)},beforeMount:function(){},methods:{handleView:function(){},handleSuccessBatch:function(t,e,a){"upload_oss"==this.item.extra.driver?(e.url=this.item.extra.data.host+"/"+this.item.extra.data.key,this.value.push({name:e.name,url:e.url}),this.item.value=a):200==t.code?(e.url=t.data.url,this.value.push({name:e.name,url:e.url}),this.item.value=a):this.$Notice.warning({title:t.msg}),this.$emit("input",this.value)},handleRemoveBatch:function(t){var e=this.value;this.item.value.splice(e.indexOf(t),1),this.value.splice(e.indexOf(t),1)},handleBeforeUpload:function(t){var e=this;if("upload_oss"==e.item.extra.driver)return new Promise(function(){var a,i=(a=n.a.mark((function a(i,o){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:e.cloudId,Eid:e.eid}});case 2:200==(r=a.sent).code?(e.item.extra.action=r.data.params.host,r.data.params.key=r.data.params.key+t.name,e.item.extra.data=r.data.params,i()):e.$Notice.warning({title:r.msg});case 4:case"end":return a.stop()}}),a)})),function(){var t=this,e=arguments;return new Promise((function(i,n){var r=a.apply(t,e);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))});return function(t,e){return i.apply(this,arguments)}}())},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件"+t.name+"的格式不正确, 请重新选择。"})},handleMaxSize:function(t){this.$Notice.warning({title:"文件大小不正确",desc:"文件"+t.name+"太大了, 不支持超过1M。"})}},watch:{}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("div",[e("Upload",{ref:"upload_"+t.item.name,attrs:{"show-upload-list":!0,headers:{Authorization:t.token},"default-file-list":t.item.value,format:t.item.extra.format,"max-size":t.item.extra.maxSize,"on-success":t.handleSuccessBatch,"on-remove":t.handleRemoveBatch,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,data:t.item.extra.data,type:"drag",action:t.item.extra.action}},[e("div",{staticStyle:{padding:"20px 0"}},[e("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"42"}}),e("p",[t._v("点击或者拖动文件到此处上传")])],1)])],1)}),[],!1,null,null,null),e.default=i.exports},b637:function(t,e,a){"use strict";var i=a("42cd");a.n(i).a},bb87:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}var s,l;i={props:{api:{type:String,default:function(){return null}}},data:function(){return{resData:null,cssId:null}},computed:{currentView:function(){if(!this.resData)return{template:"<div class='remoteInfo'>正在加载中。。。</div>"};var t=this.resolveStr(this.resData),e=new Function("return ".concat(t.sctipts.slice(t.sctipts.indexOf("{"),t.sctipts.lastIndexOf("}")+1)))();return e.template=t.templates,this.$el.setAttribute("class","remote css".concat(this.cssId)),document.querySelector("style[id=css".concat(this.cssId,"]"))||(t="\n                    .css".concat(this.cssId,"{\n                        ").concat(t.styles,"\n                    }\n                "),this.resolveCss(t)),e}},watch:{api:function(){this.getData()}},mounted:function(){this.getData()},methods:{getId:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:3&a|8).toString(16)}))},resolveCss:function(t){less.render(t).then(function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id","css"+this.cssId),e.styleSheet?e.styleSheet.cssText=t.css:(a=document.createTextNode(t.css),e.appendChild(a));var a=document.getElementsByTagName("head");(a.length?a[0]:document.documentElement).appendChild(e)}.bind(this))},resolveStr:function(t){return{templates:t.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:t.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:t.match(/<style.*>([\s\S]*)<\/style>/)[1]}},getData:(l=r(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get(this.$props.api);case 2:e=t.sent,this.cssId=this.getId(),this.resData=e.data;case 5:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),loadData:(s=r(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getData();case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}},a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("div",{staticClass:"remote"},[e(t.currentView,t._b({tag:"component"},"component",t.$props,!1))],1)}),[],!1,null,null,null);e.default=i.exports},c321:function(t,e,a){},c65b:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(t){if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0;return{s:e=function(){},n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw n}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function s(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}var l,u;i={name:"Sku",components:{XyBuilderFormImage:a("aefe").default},props:{item:{},value:{skuSpec:[],skuList:[]},token:"",cloudId:0,eid:0},data:function(){return{title:"",tag:"",columns:[{title:"规格",key:"spec",slot:"select",width:"300"},{title:"价格",key:"priceGroup",slot:"group",width:"230",options:{fields:[["price","现价"],["originalPrice","原价"]]}},{title:"库存",key:"stock",slot:"text"},{title:"SKU编号",key:"skuNo",slot:"text"},{title:"备注",key:"remark",slot:"text"},{title:"图片",key:"cover",slot:"image",width:60},{title:"删除",key:"delete",slot:"delete",width:70}],dataItem:{spec:"",price:"",vipPrice:"",originalPrice:"",stock:"",skuNo:"",remark:"",cover:"",delete:""},specCascader:[]}},created:function(){},mounted:function(){this.updateColumns()},methods:{getData:function(){this.$emit("input",this.value)},loadData:function(t,e){this.specCascader[t.index+1]&&(t.loading=!0,t.children=this.specCascader[t.index+1],t.loading=!1,e())},delrow:(l=n.a.mark((function t(e){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.value.skuList[e].id)return t.next=3,this.util.request({url:this.item.extra.apiSkuDelete+"/"+this.value.skuList[e].id,method:"DELETE",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=7;break;case 3:"200"==(a=t.sent).code?(this.value.skuList.splice(e,1),this.$Message.success(a.msg)):this.$Message.error(a.msg),t.next=8;break;case 7:this.value.skuList.splice(e,1);case 8:this.getData();case 9:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(a,i){var n=l.apply(t,e);function o(t){s(n,a,i,o,r,"next",t)}function r(t){s(n,a,i,o,r,"throw",t)}o(void 0)}))},function(t){return u.apply(this,arguments)}),addrow:function(){var t,e=o(this.value.skuList);try{for(e.s();!(t=e.n()).done;)""==t.value&&this.$Message.error("请填写规格")}catch(t){e.e(t)}finally{e.f()}var a=Object.assign({},this.dataItem);this.value.skuList.push(a)},closeTag:function(t,e){this.value.skuSpec[t].spec.splice(e,1)},addTag:function(t){if(!this.tag)return this.$Message.error("请填写规格"),!1;var e,a=o(this.value.skuSpec[t].spec);try{for(a.s();!(e=a.n()).done;)if(e.value.title==this.tag)return this.$Message.error("规格重复"),!1}catch(t){a.e(t)}finally{a.f()}var i=this.value;i.skuSpec[t].spec.push({title:this.tag}),this.tag="",this.value=i},addspec:function(){if(!this.title)return this.$Message.error("请填写规格名称"),!1;var t,e=o(this.value.skuSpec);try{for(e.s();!(t=e.n()).done;)if(t.value.title==this.title)return this.$Message.error("规格名称重复"),!1}catch(t){e.e(t)}finally{e.f()}this.value.skuSpec.push({title:this.title,spec:[]}),this.title=""},delspec:function(t){this.value.skuSpec.splice(t,1)},updateColumns:function(){for(var t=this.specCascader,e=0;e<this.value.skuSpec.length;e++){var a=[],i=o(this.value.skuSpec[e].spec);try{for(i.s();!(n=i.n()).done;){var n=n.value;e==this.value.skuSpec.length-1?a.push({index:e,value:n.title,label:n.title}):a.push({index:e,value:n.title,label:n.title,children:[],loading:!1})}}catch(t){i.e(t)}finally{i.f()}t[e]=a}this.specCascader=t}},watch:{value:{handler:function(){this.updateColumns()},deep:!0,immediate:!0}}},a("92df"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"sku-spec"},[t._l(t.value.skuSpec,(function(e,i){return a("Row",{key:i,attrs:{gutter:"15",type:"flex",justify:"center",align:"middle"}},[a("Col",{attrs:{span:3}},[a("Input",{attrs:{size:"small"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item1.title"}})],1),a("Col",{attrs:{span:18}},[t._l(e.spec,(function(e,n){return a("Tag",{key:n,attrs:{name:e.title,closable:""},on:{"on-close":function(e){return t.closeTag(i,n)}}},[t._v(" "+t._s(e.title)+" ")])})),a("Input",{staticStyle:{width:"80px","margin-right":"5px"},attrs:{size:"small",placeholder:"回车添加"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag(i)}},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}})],2),a("Col",{attrs:{span:3}},[a("Button",{attrs:{size:"small",type:"dashed"},on:{click:function(e){return t.delspec(i)}}},[t._v("删除")])],1)],1)})),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Input",{staticStyle:{width:"80px","margin-right":"15px"},attrs:{size:"small",placeholder:"新规格名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addspec(e)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("Button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"primary"},on:{click:t.addspec}},[t._v(" 增加规格 ")])],1)],2),a("div",{staticClass:"sku-list"},[a("Table",{attrs:{border:"",columns:t.columns,data:t.value.skuList},scopedSlots:t._u([{key:"select",fn:function(e){e.row;var i=e.column,n=e.index;return[a("Cascader",{attrs:{size:"small",transfer:!0,data:t.specCascader[0],"load-data":t.loadData},model:{value:t.value.skuList[n][i.key],callback:function(e){t.$set(t.value.skuList[n],i.key,e)},expression:"value.skuList[index][column.key]"}})]}},{key:"text",fn:function(e){e.row;var i=e.column,n=e.index;return[a("Input",{attrs:{size:"small"},on:{"on-blur":t.getData},model:{value:t.value.skuList[n][i.key],callback:function(e){t.$set(t.value.skuList[n],i.key,e)},expression:"value.skuList[index][column.key]"}})]}},{key:"group",fn:function(e){e.row;var i=e.column,n=e.index;return t._l(i.options.fields,(function(e,i){return a("div",{key:i,staticClass:"sku-list-group"},[a("div",{staticClass:"title"},[t._v(t._s(e[1])+":")]),a("div",[a("Input",{attrs:{size:"small"},on:{"on-blur":t.getData},model:{value:t.value.skuList[n][e[0]],callback:function(a){t.$set(t.value.skuList[n],e[0],a)},expression:"value.skuList[index][grp[0]]"}})],1)])}))}},{key:"image",fn:function(e){e.row;var i=e.column,n=e.index;return[a("XyBuilderFormImage",{attrs:{item:{name:i.key,extra:t.item.extra},img:{name:"",title:""},cloudId:t.cloudId,eid:t.eid,token:t.token},model:{value:t.value.skuList[n][i.key],callback:function(e){t.$set(t.value.skuList[n],i.key,e)},expression:"value.skuList[index][column.key]"}})]}},{key:"delete",fn:function(e){e.row,e.column;var i=e.index;return[a("Button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small",type:"dashed"},on:{click:function(e){return t.delrow(i)}}},[t._v(" 删除 ")])]}}])}),a("Button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"dashed"},on:{click:t.addrow}},[t._v(" 增加 ")])],1)])}),[],!1,null,"61f07fc0",null);e.default=i.exports},cbba:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i),o=a("c276");function r(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var o=t.apply(e,a);function s(t){r(o,i,n,s,l,"next",t)}function l(t){r(o,i,n,s,l,"throw",t)}s(void 0)}))}}var l,u,c;i={data:function(){return{activeData:"",srvList:o.a.getSrvList(),showSrvlist:!1,baseUrl:"",admin2step:"",isDemo:"false",login:{loading:!1,account:"",password:"",googleAuth:"",mobileVerify:"",emailVerify:""},loginRule:{account:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}},created:(c=s(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"true"!=this.isDemo&&!this.$route.query.demo||(this.login.account="admin",this.login.password="uniadmin"),"localhost"==window.location.hostname||"127.0.0.1"==window.location.hostname?(this.showSrvlist=!0,this.baseUrl=this.util.getStorageSync("xyadmin-active")):this.baseUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"api",t.next=4,this.getSiteInfo();case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)}),methods:{getSiteInfo:(u=s(n.a.mark((function t(){var e,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.baseUrl){t.next=33;break}if("localhost"!=window.location.hostname&&"127.0.0.1"!=window.location.hostname){t.next=22;break}if(this.util.setStorageSync("xyadmin-active",this.baseUrl),this.activeData=this.util.getStorageSync("xyadmin-vuex-"+this.baseUrl),this.activeData||(this.activeData=this.util.getStorageSync("xyadmin-vuex-default")),this.activeData)return this.activeData=JSON.parse(this.activeData),t.next=11,this.util.request({url:this.baseUrl,method:"get"});t.next=19;break;case 11:if(200!=(e=t.sent).code)return this.util.showToast({title:"接口异常，请检查服务器接口！",icon:"loading",duration:2e3}),t.abrupt("return",!1);t.next=15;break;case 15:this.activeData.app.api=e.data.api,e.data.siteInfo&&(e.data.siteInfo.admin2step&&(this.admin2step=e.data.siteInfo.admin2step.login[0]),this.activeData.app.baseUrl=this.baseUrl,this.activeData.app.siteInfo=e.data.siteInfo),t.next=20;break;case 19:alert("不存在xyadmin-vuex-default");case 20:t.next=33;break;case 22:return t.next=25,this.util.request({url:this.baseUrl,method:"get"});case 25:if(200!=(a=t.sent).code)return this.util.showToast({title:"接口异常，请检查服务器接口！",icon:"loading",duration:2e3}),t.abrupt("return",!1);t.next=29;break;case 29:this.$store.commit("app/setApi",a.data.api),a.data.api.urlLogin&&(window.location.href=a.data.api.urlLogin),a.data.siteInfo&&(a.data.siteInfo.admin2step&&(this.admin2step=a.data.siteInfo.admin2step.login[0]),this.$store.commit("app/setSiteInfo",a.data.siteInfo)),this.$store.commit("app/setBaseUrl",this.baseUrl);case 33:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)}),bindPickerChange:function(t){this.baseUrl=t},handleSubmit:(l=s(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSiteInfo();case 2:if(this.login.loading=!0,"localhost"==window.location.hostname||"127.0.0.1"==window.location.hostname)return t.next=7,this.util.request({url:this.activeData.app.api.apiBase+this.activeData.app.api.apiLogin,data:this.login,method:"post"});t.next=11;break;case 7:200==(e=t.sent).code?(this.activeData.user.token=e.data.token,this.activeData.user.userInfo=e.data.userInfo,this.activeData.menu.menuList="",this.util.showToast({title:e.msg,icon:"success",duration:1e3}),this.util.setStorageSync("xyadmin-vuex-"+this.baseUrl,JSON.stringify(this.activeData)),this.util.reLaunch()):this.util.showToast({title:e.msg,icon:"loading",duration:3e3}),t.next=15;break;case 11:return t.next=13,this.util.request({url:this.$store.state.app.api.apiBase+this.$store.state.app.api.apiLogin,data:this.login,method:"post"});case 13:200==(e=t.sent).code?(this.$store.commit("user/setToken",e.data.token),this.util.showToast({title:e.msg,icon:"success",duration:1e3}),this.util.reLaunch()):this.util.showToast({title:e.msg,icon:"loading",duration:3e3});case 15:this.login.loading=!1;case 16:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})}},a("4700"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("vue-particles",{staticClass:"slider-particles",attrs:{color:"#808695",linesColor:"#808695",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,moveSpeed:1,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),a("Row",{staticClass:"main",attrs:{type:"flex",justify:"center",align:"middle"}},[a("Col",{attrs:{xs:20,sm:10,md:6,lg:5}},[a("div",{staticStyle:{width:"100%",color:"#fff","margin-bottom":"30px"}},[a("img",{staticStyle:{width:"120px","margin-bottom":"10px"},attrs:{src:t.$store.state.app.siteInfo.logo}}),a("h2",[t._v(t._s(t.$store.state.app.siteInfo.title)+"后台登录")])]),a("Form",{ref:"login",attrs:{model:t.login,rules:t.loginRule}},[a("FormItem",[a("Input",{directives:[{name:"show",rawName:"v-show",value:t.showSrvlist,expression:"showSrvlist"}],attrs:{size:"large",type:"text",placeholder:"服务器API接口地址"},model:{value:t.baseUrl,callback:function(e){t.baseUrl=e},expression:"baseUrl"}},[a("Select",{model:{value:t.baseUrl,callback:function(e){t.baseUrl=e},expression:"baseUrl"}},t._l(t.srvList,(function(e,i){return a("Option",{key:i,attrs:{value:e.val.app.baseUrl}},[t._v("服务器")])})),1),a("Dropdown",{attrs:{slot:"prepend"},slot:"prepend"},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v(" 服务器 "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.srvList,(function(e,i){return a("DropdownItem",{key:i,attrs:{value:i},nativeOn:{click:function(a){return t.bindPickerChange(e.val.app.baseUrl)}}},[t._v(" "+t._s(e.val.app.siteInfo.title)+"-"+t._s(e.val.app.baseUrl)+" ")])})),1)],1)],1)],1),a("FormItem",{attrs:{prop:"account"}},[a("Input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"账号"},model:{value:t.login.account,callback:function(e){t.$set(t.login,"account",e)},expression:"login.account"}})],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit("login")}},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"googleAuth"==this.admin2step,expression:"this.admin2step == 'googleAuth'"}],attrs:{prop:"googleAuth"}},[a("Input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"谷歌验证"},model:{value:t.login.googleAuth,callback:function(e){t.$set(t.login,"googleAuth",e)},expression:"login.googleAuth"}})],1),a("FormItem",[a("Button",{attrs:{size:"large",long:"",loading:t.login.loading,type:"primary"},on:{click:function(e){return t.handleSubmit("login")}}},[t._v(" 登录 ")])],1)],1)],1)],1)],1)}),[],!1,null,"213cc391",null);e.default=i.exports},cd65:function(t,e,a){"use strict";var i=a("7019");a.n(i).a},d820:function(t,e,a){t.exports=a.p+"img/qun_qq.a49e406d.png"},e0e2:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}var r,s,l={name:"XyBuilderStack",props:{api:"",cloudId:0,eid:0,show:!1,predata:""},components:{},data:function(){return{loading:!1,stackData:{stackList:""}}},watch:{show:function(t){this.stackData={},1==t&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"9a73"))},this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"1343"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"2949"))},this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"73a5"))}},created:function(){this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata?this.stackData=this.predata:this.loadData()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{loadData:(r=n.a.mark((function t(){var e,a=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(e=0<a.length&&void 0!==a[0]?a[0]:"")&&(this.api=e),this.loading=!0,this.api)return t.next=6,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});t.next=8;break;case 6:"200"==(e=t.sent).code?(this.stackData=e.data.stackData,this.loading=!1):this.util.showToast({title:e.msg,icon:"loading",duration:3e3});case 8:this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(a,i){var n=r.apply(t,e);function s(t){o(n,a,i,s,l,"next",t)}function l(t){o(n,a,i,s,l,"throw",t)}s(void 0)}))},function(){return s.apply(this,arguments)})}};a("cd65"),i=a("2877"),l=Object(i.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy_builder-stack-wrap"},[t._l(t.stackData.stackList,(function(e,i){return a("div",{key:i,staticClass:"stackList"},[a("Divider",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"stack.title"}],attrs:{orientation:"left"}},[t._v(t._s(e.title))]),a("Row",[a("Col",{staticClass:"stack-item block",attrs:{xs:24,sm:24}},["tab"==e.pageData.modalType?[a("XyBuilderTab",{ref:"xy_builder_tab_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,show:!0,predata:e.predata}})]:["list"==e.pageData.modalType?a("div",[a("XyBuilderList",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:e.pageData.apiBlank,show:e.pageData.show,predata:e.predata}})],1):"form"==e.pageData.modalType?a("div",[a("XyBuilderForm",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:e.pageData.apiBlank,show:e.pageData.show,predata:e.predata}})],1):"info"==e.pageData.modalType?a("div",[a("XyBuilderInfo",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{cloudId:t.cloudId,eid:t.eid,api:e.pageData.apiBlank,show:e.pageData.show,predata:e.predata}})],1):t._e()]],2)],1)],1)})),!0===t.loading?[a("Row",[a("i-col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[t._v("Loading")])],1)],1)],1)]:t._e()],2)}),[],!1,null,"63e64fb4",null);e.default=l.exports},e2f4:function(t,e,a){},e5c7:function(t,e,a){},e66c:function(t,e,a){},e7f4:function(t,e,a){},e9eb:function(t,e,a){"use strict";var i=a("1d6c");a.n(i).a},ea62:function(t,e,a){t.exports=a.p+"img/app.ef222224.png"},eea6:function(t,e,a){"use strict";a.r(e);var i=a("a34a"),n=a.n(i);function o(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}var s,l,u={data:function(){return{cloudId:0,eid:0,panelDefault:!1,panelList:[]}},watch:{"$store.state.app.api":function(){this.loadData()},"$store.state.menu.menuList":function(){this.cloudId=this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].id,this.loadData()}},created:function(){},mounted:(l=r(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].appName&&(this.cloudId=this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].id),this.$store.state.app.api.apiAdmin&&this.loadData();case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),methods:{loadData:(s=r(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.util.request({url:this.$store.state.app.api.apiAdmin,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});case 2:200==(e=t.sent).code&&e.data.dataList&&0<e.data.dataList.length?this.panelList=e.data.dataList:this.panelDefault=!0;case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}};a("6726"),i=a("2877"),u=Object(i.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index"},[i("Row",{attrs:{type:"flex",justify:"start",align:"top",gutter:"15"}},[0<t.panelList.length?t._l(t.panelList,(function(e,a){return i("Col",{key:a,attrs:{md:24,lg:e.span}},["html"==e.type?[i("div",{domProps:{innerHTML:t._s(e.content)}})]:"count"==e.type?[i("Row",{directives:[{name:"show",rawName:"v-show",value:e.content,expression:"item.content"}],attrs:{type:"flex",justify:"start",align:"top"}},t._l(e.content,(function(e,a){return i("Col",{key:a,attrs:{xs:12,xl:e.item.xl?e.item.xl:6,xxl:4}},[i("Row",{staticClass:"count-item",style:{backgroundColor:e.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[i("Col",{staticClass:"left"},[i("i",{staticClass:"icon",class:e.item.icon}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.item.title,expression:"it.item.title"}]},[t._v(t._s(e.item.title))])]),i("Col",{staticClass:"right",style:{backgroundColor:e.item.bgColorRight?e.item.bgColorRight:"#fff",color:e.item.bgColorRight?"#fff":""}},[i("div",{staticClass:"value"},[i("span",[t._v(t._s(e.current.value))]),i("span",{staticClass:"suffix"},[t._v(t._s(e.current.suffix))])]),i("div",{staticClass:"title"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.content.value,expression:"it.content.value"}],staticClass:"value"},[t._v(t._s(e.content.value))]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.content.list,expression:"it.content.list"}],staticClass:"list"},t._l(e.content.list,(function(e,a){return i("div",{key:a,staticClass:"cell"},[t._v(" "+t._s(e.title)+"："+t._s(e.value)+" ")])})),0)])])],1)],1)})),1)]:"card"==e.type?[i("Card",{staticClass:"index-card",attrs:{bordered:!1,"dis-hover":!0}},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),i("div",[t._l(e.content,(function(e,a){return["divider"==e.type?[i("Divider",{key:a,staticStyle:{"font-size":"12px","font-weight":"400"},attrs:{size:"small",orientation:"left"}},[t._v(" "+t._s(e.title)+" ")])]:[i("Row",{key:a,staticStyle:{"text-align":"justify","padding-bottom":"5px","margin-bottom":"5px","border-bottom":"1px dashed #eee"},attrs:{type:"flex",justify:"start",align:"top"}},[i("Col",{attrs:{xs:10,sm:7,md:5}},[t._v(t._s(e.title)+"：")]),i("Col",{attrs:{xs:14,sm:16}},[t._v(t._s(e.value))])],1)]]}))],2)])]:t._e()],2)})):t._e(),t.panelDefault?[i("Col",{attrs:{md:24,lg:12}},[i("Card",{staticClass:"index-card",attrs:{bordered:!1,"dis-hover":!0}},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("系统信息")]),i("div",[i("div",[t._v("后台名称：UniAdmin后台")]),i("div",[t._v("官方网站："),i("a",{attrs:{target:"_blank",href:"https://uniadmin.jiangruyi.com"}},[t._v("https://uniadmin.jiangruyi.com")])]),i("div",[t._v("客户端框架：CloudAdmin v0.3.0")]),i("div",[t._v("服务端框架：UniAdmin v0.3.0")]),i("div",[i("span",[t._v("Github：")]),i("a",{attrs:{target:"_blank",href:"https://github.com/uniadmin"}},[t._v("https://github.com/ijry/uniadmin")])]),i("Divider"),i("div",[t._v("PHP版本：7.0")]),i("div",[t._v("数据库版本：Mysql5.7")])],1)])],1),i("Col",{attrs:{md:24,lg:12}},[i("Card",{staticClass:"index-card",attrs:{bordered:!1,"dis-hover":!0}},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("APP与交流群")]),i("div",[i("img",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{src:a("ea62")}}),i("img",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{src:a("d820")}})])])],1)]:t._e()],2)],1)}),[],!1,null,"770dd940",null);e.default=u.exports},f1bf:function(t,e,a){},f86e:function(t,e,a){"use strict";a.r(e);var i=a("1343");i={name:"XyBuilderFormRoute",mixins:[a("2b0d").a],components:{XyBuilderForm:i.default},data:function(){return{api:this.$route.meta.api}},created:function(){},beforeMount:function(){this.loadData()},methods:{loadData:function(){var t;"dyform"==this.$route.meta.dytype&&(0<(t=this).$route.params.length&&this.$route.params.forEach((function(e){t.$route.meta.api=t.$route.meta.api+"/"+t.$route.params[e]})),t.api=t.$route.meta.api)}},watch:{$route:function(){}}},a("3365"),a=a("2877"),i=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("div",{staticClass:"content-breadcrumb"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[a("Icon",{staticStyle:{"margin-top":"-5px"},attrs:{type:"ios-home-outline"}}),t._v(" 首页")],1),t._l(t.breadcrumb.level,(function(e,i){return[0<e.menuType?a("BreadcrumbItem",{key:i,attrs:{to:e.path}},[t._v(t._s(e.title))]):a("BreadcrumbItem",{key:i},[t._v(t._s(e.title))])]})),a("BreadcrumbItem",[t._v(t._s(t.breadcrumb.last.title))])],2),a("div",[a("ButtonGroup",{attrs:{shape:"circle"}},[a("Button",{attrs:{icon:"md-refresh",size:"small"},on:{click:t.refresh}})],1)],1)],1),a("XyBuilderForm",{ref:"xy_builder",attrs:{api:t.api,showDev:t.$store.state.app.showDev}}),a("div",{staticClass:"via"},[t._v("via xy_builder")])],1)}),[],!1,null,null,null);e.default=i.exports},f8e0:function(t,e,a){"use strict";var i=a("f1bf");a.n(i).a}}]);