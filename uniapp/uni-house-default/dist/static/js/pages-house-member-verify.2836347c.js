(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-house-member-verify"],{"01f7":function(t,e,i){"use strict";i.r(e);var n=i("765b"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"0abf":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=n(i("1da1")),r={data:function(){return{communityId:1,mid:0,image:"",upload:{driver:this.$store.state.app.uploadDriver,limit:1,header:{Authorization:this.util.getToken()}}}},onLoad:function(t){this.mid=t.mid},methods:{handleSubmit:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.image){e.next=3;break}return t.util.showToast({title:"请上传证明材料",icon:"none",duration:1e3}),e.abrupt("return",!1);case 3:return t.loading=!0,i=t,setTimeout((function(){i.loading=!1}),5e3),0,e.next=9,t.util.request({url:"/v1/house/member/verify/"+t.mid,data:{image:t.image},header:{eid:t.communityId},method:"put"});case 9:n=e.sent,200==n.code?(t.util.showToast({title:n.msg,icon:"success",duration:1e3}),t.util.navigateTo({url:"/pages/house/member/index"})):t.util.showToast({title:n.msg,icon:"loading",duration:3e3}),t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}}};e.default=r},"16ed":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"upload-list"},[t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item image"},[i("v-uni-image",{attrs:{src:e.url,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.preview(n)}}}),i("v-uni-view",{staticClass:"delete",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteItem(e)}}},[i("v-uni-text",{staticClass:"xyicon xyicon-close"})],1)],1)})),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!(1==t.limit&&t.value),expression:"!(limit == 1 && value)"}],staticClass:"item upload-btn flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fileupload.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{class:t.icon}),i("v-uni-view",{staticClass:"label"},[t._v(t._s(t.label))])],1)],1)],2)],1)},r=[]},2915:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uniSteps:i("0a29").default,xyUploadImage:i("f1ee").default,xyButton:i("b0d0").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"safe-form"},[i("v-uni-view",{staticClass:"m-b-md title tw6 ts-26"},[t._v("业主认证")]),i("uni-steps",{staticClass:"m-b",attrs:{options:[{title:"填写信息"},{title:"上传文件"},{title:"审核"},{title:"通过"}],active:1}}),i("v-uni-view",{staticClass:"form"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"title m-b-xs"},[t._v("业主证明材料")]),i("v-uni-view",{staticClass:"content border-bottom_1px"},[i("xy-upload-image",{attrs:{limit:t.upload.limit,driver:t.upload.driver,header:t.upload.header},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)],1),i("xy-button",{staticClass:"m-t-md",attrs:{size:"large",full:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSubmit.apply(void 0,arguments)}}},[t._v("提交审核")]),i("v-uni-view",{staticClass:"text-gray m-t ts-13"},[i("v-uni-view",[t._v("请您提交能证明您业主真实性的资料，包括但不限于\n                        购房发票、购房收据、购房合同、房产证的照片，您可以将个人姓名等\n                        隐私信息涂抹。证明资料仅用于核实业主身份，不会用于其它任何用途。")]),i("v-uni-view",[t._v("如果您有家人已经通过业主认证，您可以让他直接邀请您加入家庭，您不需要填写资料认证。")])],1)],1)],1)],1)},r=[]},4423:function(t,e,i){"use strict";var n=i("e305"),a=i.n(n);a.a},"765b":function(t,e,i){"use strict";var n=i("4ea4");i("c975"),i("baa5"),i("a434"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=n(i("1da1")),r={name:"XyUploadImage",props:{driver:"",signUrl:"",action:"",value:"",limit:{type:[Number],default:1},header:{type:Object,default:{}},icon:{type:String,default:"xyicon xyicon-plus"},label:{type:String,default:""}},data:function(){return{name:"file",list:[],data:{}}},created:function(){this.limit>1?this.list=this.value:this.value&&(this.list[0]={url:this.value})},computed:{previewUrls:function(){for(var t=[],e=0;e<this.list.length;e++)t.push(this.list[e].url);return t}},methods:{fileupload:function(){var t=this;uni.chooseImage({count:this.limit,sizeType:["compressed"],success:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(i){var n,a,r,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=i.tempFiles,a=0;case 2:if(!(a<n.length)){e.next=13;break}return r="",s=n[a].name.lastIndexOf("."),r=n[a].name.substr(s),e.next=8,t.util.uploadFile({driver:t.driver,signUrl:t.signUrl,filePath:n[a].path,fileExt:r});case 8:u=e.sent,200==u.code?(t.limit>1?t.list.push(u.data):t.list=[u.data],t.limit>1?t.$emit("input",t.list):t.list[0]&&t.$emit("input",t.list[0].url)):uni.showToast({title:u.msg,duration:1500});case 10:a++,e.next=2;break;case 13:case"end":return e.stop()}}),e)})));function i(t){return e.apply(this,arguments)}return i}()})},preview:function(t){uni.previewImage({current:t,urls:this.previewUrls,indicator:"default",loop:!0})},deleteItem:function(t){this.list.splice(this.list.indexOf(t),1),this.limit>1?this.$emit("input",this.list):this.list[0]?this.$emit("input",this.list[0].url):this.$emit("input","")}}};e.default=r},"7f20":function(t,e,i){"use strict";i.r(e);var n=i("0abf"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},af31:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 第三方 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 背景颜色 */\r\n/* 图片加载中颜色 */.upload-list[data-v-1da1b0a4]{display:-webkit-box;display:-webkit-flex;display:flex}.upload-list .item[data-v-1da1b0a4]{position:relative;width:80px;height:80px;margin-right:10px;border:2px dashed #e4e7ed}.upload-list .item uni-image[data-v-1da1b0a4]{max-width:100%;max-height:100%}.upload-list .item .delete[data-v-1da1b0a4]{position:absolute;right:-12px;top:-12px}.upload-list .item .delete .xyicon[data-v-1da1b0a4]{display:inline-block;padding:5px;font-size:12px;background:#303133;color:#fff;-webkit-border-radius:50%;border-radius:50%;opacity:.8;-webkit-transform:scale(.7);transform:scale(.7)}.upload-list .upload-btn[data-v-1da1b0a4]{text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer}.upload-list .upload-btn .inner .xyicon[data-v-1da1b0a4]{margin:auto;width:40px;height:40px;font-size:40px;color:#999}.upload-list .upload-btn .inner .label[data-v-1da1b0a4]{font-size:12px;color:#999;width:60px;margin:auto}',""]),t.exports=e},baa5:function(t,e,i){var n=i("23e7"),a=i("e58c");n({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},e305:function(t,e,i){var n=i("af31");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("95e97bd2",n,!0,{sourceMap:!1,shadowMode:!1})},f1ee:function(t,e,i){"use strict";i.r(e);var n=i("16ed"),a=i("01f7");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("4423");var s,u=i("f0c5"),l=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"1da1b0a4",null,!1,n["a"],s);e["default"]=l.exports},f6c9:function(t,e,i){"use strict";i.r(e);var n=i("2915"),a=i("7f20");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);var s,u=i("f0c5"),l=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"b87bc212",null,!1,n["a"],s);e["default"]=l.exports}}]);