(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-core-user-nickname"],{1254:function(t,e,n){"use strict";n.r(e);var a=n("3c88"),i=n("70d7");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var u,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"28fed618",null,!1,a["a"],u);e["default"]=s.exports},"3c88":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={xyListItem:n("e0ae").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"wrap"},[n("xy-list-item",{attrs:{type:"input",more:"xyicon xyicon-right",title:"昵称"}},[n("template",{slot:"title"},[n("v-uni-input",{staticStyle:{color:"#666"},attrs:{type:"text",placeholder:t.app.userList[t.app.currentUser].userInfo.nickname,value:t.nickname},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.syncData.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.syncData.apply(void 0,arguments)}}})],1)],2),n("v-uni-view",{staticClass:"m-t p-l-sm p-r-sm"},[n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},r=[]},"70d7":function(t,e,n){"use strict";n.r(e);var a=n("847f"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},"847f":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("1da1")),r=a(n("5530")),u=n("2f62"),c={computed:(0,r.default)({},(0,u.mapState)(["app","user"])),data:function(){return{nickname:""}},onLoad:function(t){this.nickname=this.app.userList[this.app.currentUser].userInfo.nickname},methods:{syncData:function(t){this.nickname=t.detail.value},submit:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/core/user/nickname",data:{nickname:t.nickname},method:"put"});case 2:n=e.sent,200==n.code?(a=t.app.userList[t.app.currentUser].userInfo,a.nickname=t.nickname,t.$store.commit("app/setUserList",{key:"userInfo",value:a}),t.util.showToast({title:n.msg,icon:"success",duration:1e3}),uni.navigateBack()):t.util.showToast({title:n.msg,icon:"loading",duration:2e3});case 4:case"end":return e.stop()}}),e)})))()}}};e.default=c}}]);