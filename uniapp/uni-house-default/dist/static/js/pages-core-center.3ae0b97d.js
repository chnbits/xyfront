(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-core-center"],{"43e6":function(e,t,r){"use strict";r.r(t);var n=r("86c7"),s=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},"6e3a":function(e,t,r){"use strict";r.r(t);var n=r("eb64"),s=r("43e6");for(var i in s)"default"!==i&&function(e){r.d(t,e,(function(){return s[e]}))}(i);var a,o=r("f0c5"),u=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"7b2a7f39",null,!1,n["a"],a);t["default"]=u.exports},"86c7":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var s=n(r("1da1")),i=n(r("5530")),a=r("2f62"),o={data:function(){return{}},onLoad:function(){this.getUserInfo("/v1/core/user/info")},computed:(0,i.default)({},(0,a.mapState)(["app","user"])),onPullDownRefresh:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserInfo();case 2:uni.stopPullDownRefresh(),setTimeout((function(){uni.stopPullDownRefresh()}),3e3);case 4:case"end":return t.stop()}}),t)})))()},methods:{getUserInfo:function(e){var t=this;return(0,s.default)(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.app.userList[t.app.currentUser].token||0!=t.app.userList[t.app.currentUser].userInfo.id){r.next=5;break}return r.next=3,t.util.request({url:e,method:"get"});case 3:if(n=r.sent,"200"==n.code){for(i in s=t.app.userList[t.app.currentUser].userInfo,n.data.userInfo)""!=n.data.userInfo[i]&&(s[i]=n.data.userInfo[i]);t.$store.commit("app/setUserList",{key:"userInfo",value:s})}else t.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 5:case"end":return r.stop()}}),r)})))()},navTo:function(e){uni.navigateTo({url:e})},logout:function(){var e=this;uni.showModal({content:"确定要退出登录么",success:function(t){t.confirm&&setTimeout((0,s.default)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/core/user/logout",method:"delete"});case 2:r=t.sent,200==r.code?(e.$store.commit("app/setUserList",{key:"token",value:""}),e.$store.commit("app/setUserList",{key:"userInfo",value:""}),e.util.showToast({title:r.msg,icon:"success",duration:1e3})):e.util.showToast({title:r.msg,icon:"loading",duration:2e3});case 4:case"end":return t.stop()}}),t)}))),200)}})}}};t.default=o},eb64:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var n={xyListItem:r("e0ae").default},s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"wrap"},[r("xy-list-item",{staticClass:"p-t p-b-md m-t-0 m-b-sm",attrs:{type:"media",image:e.app.userList[e.app.currentUser].userInfo.avatar,imageSharp:"round",title:e.app.userList[e.app.currentUser].userInfo.nickname?e.app.userList[e.app.currentUser].userInfo.nickname:"未登录",titleFs:"17px",contentStyle:"margin-left: 10px;padding-top: 10px;",more:"xyicon xyicon-right",needLogin:!0,uid:e.app.userList[e.app.currentUser].userInfo.id,url:"/pages/core/user/profile"}},[r("template",{slot:"info"},[e.app.userList[e.app.currentUser].userInfo.id?r("v-uni-view",{staticClass:"text-gray p-t-sm p-b-0"},[e._v(e._s(e.app.userList[e.app.currentUser].userInfo.email?e.app.userList[e.app.currentUser].userInfo.email.identifier:"邮箱未绑定"))]):r("v-uni-view",[r("v-uni-view",{staticClass:"font-md",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navTo("/pages/core/user/login")}}},[e._v("登录/注册")])],1)],1)],2),r("v-uni-view",[r("v-uni-view",{staticClass:"nav-list"},[r("xy-list-item",{attrs:{type:"link",icon:"xyicon xyicon-address","icon-color":"#ccc",needLogin:!0,uid:e.app.userList[e.app.currentUser].userInfo.id,url:"/pages/user_address/address/my",more:"xyicon xyicon-right",title:"收货地址"}}),r("xy-list-item",{attrs:{type:"list",icon:"xyicon xyicon-kefu","icon-color":"#ccc",title:"我的客服",url:"/pages/core/user/kf",titleFs:"15px"}}),r("xy-list-item",{attrs:{type:"list",icon:"xyicon xyicon-share","icon-color":"#ccc",title:"邀请得奖励",url:"/pages/user_invite/invite/share",titleFs:"15px"}}),r("xy-list-item",{attrs:{type:"list",icon:"xyicon xyicon-settings-o","icon-color":"#ccc",title:"设置",url:"/pages/core/settings/lists",titleFs:"15px"}})],1),r("xy-list-item",{directives:[{name:"show",rawName:"v-show",value:e.app.userList[e.app.currentUser].userInfo.id,expression:"app.userList[app.currentUser].userInfo.id"}],staticClass:"m-t",attrs:{type:"button",title:"退出登录"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.logout.apply(void 0,arguments)}}})],1)],1)},i=[]}}]);