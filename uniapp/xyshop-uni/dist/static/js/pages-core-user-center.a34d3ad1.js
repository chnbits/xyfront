(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-core-user-center"],{"374a":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={xyListItem:i("2b66").default,uniGrid:i("0ef0").default,uniGridItem:i("e10b").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"user-section"},[i("v-uni-image",{staticClass:"bg hidden",attrs:{src:"/static/user-bg.jpg"}}),i("v-uni-view",{staticClass:"user-info-box"},[i("v-uni-view",{staticClass:"portrait-box"},[i("v-uni-image",{staticClass:"portrait",attrs:{src:t.app.userList[t.app.currentUser].userInfo.avatar||"/static/missing-face.png"}})],1),i("v-uni-view",{staticClass:"info-box flex",staticStyle:{"justify-content":"space-between"}},[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"username"},[t._v(t._s(t.app.userList[t.app.currentUser].userInfo.nickname||"游客"))]),i("v-uni-view",{staticClass:"sum"},[i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("user_score")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('user_score') >= 0"}]},[t._v("积分："+t._s(t.userCenterData.userScore[2].balance))])],1)],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-navigator",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("chat")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('chat') >= 0"}],attrs:{url:"/pages/chat/recent/lists"}},[i("v-uni-text",{staticClass:"xyicon xyicon-message"})],1)],1)],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("user_vip")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('user_vip') >= 0"}],staticClass:"vip-card-box"},[i("v-uni-image",{staticClass:"card-bg hidden",attrs:{src:"/static/vip-card-bg.png",mode:""}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.userCenterData.userVip.id,expression:"!userCenterData.userVip.id"}],staticClass:"b-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/userVip/vip/buy")}}},[i("v-uni-text",{staticClass:"e-b"},[t._v("不支持")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.userCenterData.userVip.id,expression:"userCenterData.userVip.id"}],staticClass:"b-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/userVip/vip/my")}}},[t._v(t._s(t.userCenterData.userVip.vipStatusLable))]),i("v-uni-view",{staticClass:"tit"},[i("v-uni-text",{staticClass:"xyicon icon-iLinkapp-"}),t._v("会员")],1),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:t.userCenterData.userVip.id,expression:"userCenterData.userVip.id"}],staticClass:"e-m"},[t._v("您的会员还有"+t._s(t.userCenterData.userVip.leftDays)+"天过期")]),i("v-uni-text",{staticClass:"e-b"},[t._v("请下载APP使用会员服务")])],1)],1),i("v-uni-view",{staticClass:"cover-container",style:[{transform:t.coverTransform,transition:t.coverTransition}],on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.coverTouchstart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.coverTouchmove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.coverTouchend.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"arc",attrs:{src:"/static/arc.png"}}),i("v-uni-view",{staticClass:"section-wrap",style:{top:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("user_vip")>=0?0:"-40px"}},[i("v-uni-view",{staticClass:"section-box"},[i("xy-list-item",{attrs:{type:"link",title:"我的订单",url:"/pages/ishop/order/my?tab=0",more:"xyicon xyicon-right",current:"全部订单",titleFs:"15px"}}),i("v-uni-view",{staticClass:"order-section"},[i("v-uni-view",{staticClass:"order-item",attrs:{"hover-class":"common-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/ishop/order/my?tab=0")}}},[i("v-uni-text",{staticClass:"xyicon xyicon-orderlist"}),i("v-uni-text",[t._v("全部订单")])],1),i("v-uni-view",{staticClass:"order-item",attrs:{"hover-class":"common-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/ishop/order/my?tab=1")}}},[i("v-uni-text",{staticClass:"xyicon xyicon-waitpay"}),i("v-uni-text",[t._v("待付款")])],1),i("v-uni-view",{staticClass:"order-item",attrs:{"hover-class":"common-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/ishop/order/my?tab=2")}}},[i("v-uni-text",{staticClass:"xyicon xyicon-received"}),i("v-uni-text",[t._v("待收货")])],1),i("v-uni-view",{staticClass:"order-item",attrs:{"hover-class":"common-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/ishop/order/my?tab=3")}}},[i("v-uni-text",{staticClass:"xyicon xyicon-comment"}),i("v-uni-text",[t._v("待评价")])],1)],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("wallet")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('wallet') >= 0"}],staticClass:"section-box m-t-sm"},[i("xy-list-item",{attrs:{type:"link",title:"我的资产",url:"",more:"",current:"",titleFs:"15px"}}),i("v-uni-view",{staticClass:"tj-sction"},[i("v-uni-view",{staticClass:"tj-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/user_score/score_log/my?typeId=1")}}},[i("v-uni-text",{staticClass:"num"},[t._v(t._s(t.userCenterData.userScore[1].balance))]),i("v-uni-text",[t._v("余额")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("coupon")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('coupon') >= 0"}],staticClass:"tj-item"},[i("v-uni-text",{staticClass:"num"},[t._v("0")]),i("v-uni-text",[t._v("优惠券")])],1),i("v-uni-view",{staticClass:"tj-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/user_score/score_log/my?typeId=2")}}},[i("v-uni-text",{staticClass:"num"},[t._v(t._s(t.userCenterData.userScore[2].balance))]),i("v-uni-text",[t._v("积分")])],1)],1)],1),i("v-uni-view",{staticClass:"section-box m-t-sm bg-white"},[i("xy-list-item",{attrs:{type:"link",title:"我的服务",url:"/pages/ishop/order/my?tab=0",more:"",current:"",titleFs:"15px"}}),i("uni-grid",{staticClass:"service-grid p-a-sm text-center",attrs:{"show-border":!1,square:!1,column:4}},[i("uni-grid-item",{nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/user_address/address/my")}}},[i("v-uni-view",{staticClass:"xyicon xyicon-address m-b-xs",staticStyle:{color:"#5fcda2"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("收货地址")])],1),i("uni-grid-item",{nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/ishop/collect/my")}}},[i("v-uni-view",{staticClass:"xyicon xyicon-heart m-b-xs",staticStyle:{color:"#fa436a"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("我的收藏")])],1),i("uni-grid-item",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("user_invite")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('user_invite') >= 0"}],nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/user_invite/invite/share")}}},[i("v-uni-view",{staticClass:"xyicon xyicon-share m-b-xs",staticStyle:{color:"#50e3c2"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("邀请赢大礼")])],1),i("uni-grid-item",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("scoreshop")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('scoreshop') >= 0"}],nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/scoreshop/item/lists")}}},[i("v-uni-view",{staticClass:"xyicon xyicon-gift m-b-xs",staticStyle:{color:"#f5a623"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("积分商城")])],1),i("uni-grid-item",{nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/core/user/kf")}}},[i("v-uni-view",{staticClass:"xyicon xyicon-kefu m-b-xs",staticStyle:{color:"#417505"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("我的客服")])],1),i("uni-grid-item",{nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("/pages/core/settings/lists")}}},[i("v-uni-view",{staticClass:"xyicon xyicon-settings m-b-xs",staticStyle:{color:"#594FC1"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("设置")])],1),i("uni-grid-item",{nativeOn:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goToDownload.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"xyicon xyicon-download m-b-xs",staticStyle:{color:"#919a1"}}),i("v-uni-text",{staticClass:"text m-b"},[t._v("下载")])],1)],1)],1),i("v-uni-view",{staticClass:"support flex p-t",staticStyle:{color:"#ccc","flex-direction":"column","justify-content":"center","align-items":"center"}},[i("v-uni-view",{staticClass:"name"},[t._v("XYShop")]),i("v-uni-view",{staticClass:"sp font-sm"},[t._v("提供技术支持")])],1)],1)],1)],1)},a=[]},"3ee2":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var s=n(i("1da1")),a=n(i("5530")),o=i("26cb"),r=0,c=0,u=!0,v={data:function(){return{coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,userCenterData:{userScore:{1:{balance:0},2:{balance:0}},userVip:{id:0,leftDays:0,vipStatusLable:""}},historyList:[]}},onLoad:function(){this.loadData(),this.getHistoryList(),this.getUserInfo("/v1/core/user/info")},onNavigationBarButtonTap:function(t){var e=t.index;0===e?this.navTo("/pages/core/settings/lists"):1===e&&uni.navigateTo({url:"/pages/chat/recent/lists"})},computed:(0,a.default)({},(0,o.mapState)(["app","user"])),methods:{getUserInfo:function(t){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var n,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.app.userList[e.app.currentUser].token||0!=e.app.userList[e.app.currentUser].userInfo.id){i.next=5;break}return i.next=3,e.$xyutil.request({url:t,method:"get"});case 3:if(n=i.sent,"200"==n.code){for(a in s=e.app.userList[e.app.currentUser].userInfo,n.data.userInfo)""!=n.data.userInfo[a]&&(s[a]=n.data.userInfo[a]);e.$store.commit("app/setUserList",{key:"userInfo",value:s})}else e.$xyutil.showToast({title:n.msg,icon:"loading",duration:3e3});case 5:case"end":return i.stop()}}),i)})))()},goToDownload:function(){window.open(this.app.configSite.appDownurl)},loadData:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.state.app.userList[t.app.currentUser].token){e.next=5;break}return e.next=3,t.$xyutil.request({url:"/v1/core/user/center",method:"get"});case 3:i=e.sent,200==i.code&&(i.data.dataList.userScore&&(t.userCenterData.userScore=i.data.dataList.userScore),i.data.dataList.userVip&&(t.userCenterData.userVip=i.data.dataList.userVip));case 5:case"end":return e.stop()}}),e)})))()},getHistoryList:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.state.app.userList[t.app.currentUser].token){e.next=5;break}return e.next=3,t.$xyutil.request({url:"/v1/ishop/history/lists/0",method:"get",data:{limit:30}});case 3:i=e.sent,200==i.code&&(t.historyList=i.data.dataList);case 5:case"end":return e.stop()}}),e)})))()},navTo:function(t){this.app.userList[this.app.currentUser].userInfo.id||(t="/pages/core/user/login"),uni.navigateTo({url:t})},coverTouchstart:function(t){!1!==u&&(this.coverTransition="transform .1s linear",r=t.touches[0].clientY)},coverTouchmove:function(t){c=t.touches[0].clientY;var e=c-r;e<0?this.moving=!1:(this.moving=!0,e>=80&&e<100&&(e=80),e>0&&e<=80&&(this.coverTransform="translateY(".concat(e,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}}};e.default=v},"7b3b":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 第三方 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 图片加载中颜色 */.cover-container .section-wrap .section-box .order-section .order-item[data-v-77f5289f], .cover-container .section-wrap .section-box .tj-sction .tj-item[data-v-77f5289f]{display:flex;flex-direction:column;justify-content:center;align-items:center}.cover-container .section-wrap .section-box .order-section[data-v-77f5289f], .cover-container .section-wrap .section-box .tj-sction[data-v-77f5289f]{display:flex;justify-content:space-around;align-content:center;background:#fff}.service-grid .xyicon[data-v-77f5289f]{font-size:20px}.user-section[data-v-77f5289f]{box-sizing:initial;height:300px;padding:40px 10px 0;padding-top:calc(44px + 0px);position:relative;background-color:#e23435;border-bottom-right-radius:187px 8px;border-bottom-left-radius:187px 8px}.user-section .bg[data-v-77f5289f]{position:absolute;left:0;top:0;width:100%;height:100%;-webkit-filter:blur(1px);filter:blur(1px);opacity:.7}.user-section .user-info-box[data-v-77f5289f]{width:100%;height:100px;display:flex;align-items:center;position:relative;z-index:1;color:#fff}.user-section .user-info-box .portrait-box .portrait[data-v-77f5289f]{width:%?130?%;height:%?130?%;border:%?5?% solid #fff;border-radius:50%}.user-section .user-info-box .info-box[data-v-77f5289f]{width:100%;justify-content:space-between;align-items:center}.user-section .user-info-box .info-box .left[data-v-77f5289f]{margin-left:20px;font-size:20px}.user-section .user-info-box .info-box .left .username[data-v-77f5289f]{font-size:20px;margin-bottom:5px}.user-section .user-info-box .info-box .left .sum[data-v-77f5289f]{font-size:14px;color:#eee}.user-section .user-info-box .info-box .right[data-v-77f5289f]{display:flex;width:45px;justify-content:space-between}.user-section .user-info-box .info-box .right .xyicon[data-v-77f5289f]{font-size:20px}.user-section .vip-card-box[data-v-77f5289f]{display:flex;flex-direction:column;color:#f7d680;height:120px;background:linear-gradient(left,rgba(0,0,0,.7),rgba(0,0,0,.8));border-radius:8px 8px 0 0;overflow:hidden;position:relative;padding:10px 12px}.user-section .vip-card-box .card-bg[data-v-77f5289f]{position:absolute;top:%?20?%;right:0;width:190px;height:130px}.user-section .vip-card-box .b-btn[data-v-77f5289f]{position:absolute;right:10px;top:8px;width:66px;height:20px;text-align:center;line-height:20px;font-size:11px;color:#36343c;border-radius:20px;background:linear-gradient(left,#f9e6af,#ffd465);z-index:1}.user-section .vip-card-box .tit[data-v-77f5289f]{font-size:14px;color:#f7d680;margin-bottom:14px}.user-section .vip-card-box .tit .xyicon[data-v-77f5289f]{color:#f6e5a3;margin-right:8px}.user-section .vip-card-box .e-b[data-v-77f5289f]{font-size:%?24?%;color:#d8cba9;margin-top:5px}.cover-container[data-v-77f5289f]{margin-top:-150px;min-height:200px;position:relative;background:#efeff4;padding-bottom:%?20?%}.cover-container .xy-list-item[data-v-77f5289f]{min-height:48px}.cover-container .arc[data-v-77f5289f]{position:absolute;left:0;top:-17px;width:100%;height:18px}.cover-container .section-wrap[data-v-77f5289f]{position:absolute;top:-40px;width:100%;padding-bottom:150px}.cover-container .section-wrap .section-box[data-v-77f5289f]{margin:10px 10px;border-radius:10px;overflow:hidden}.cover-container .section-wrap .section-box .order-section[data-v-77f5289f]{padding:14px 0}.cover-container .section-wrap .section-box .order-section .order-item[data-v-77f5289f]{width:60px;height:60px;font-size:14px;color:#303133}.cover-container .section-wrap .section-box .order-section .xyicon[data-v-77f5289f]{font-size:24px;margin-bottom:9px;color:#e23435}.cover-container .section-wrap .section-box .order-section .icon-shouhoutuikuan[data-v-77f5289f]{font-size:22px}.cover-container .section-wrap .section-box .tj-sction .tj-item[data-v-77f5289f]{flex-direction:column;height:70px;font-size:12px;color:#75787d}.cover-container .section-wrap .section-box .tj-sction .num[data-v-77f5289f]{font-size:16px;color:#303133;margin-bottom:4px}.cover-container .section-wrap .section-box .history-section[data-v-77f5289f]{padding:15px 0 0;background:#fff}.cover-container .section-wrap .section-box .history-section .sec-header[data-v-77f5289f]{display:flex;align-items:center;font-size:%?28?%;color:#303133;line-height:20px;margin-left:15px}.cover-container .section-wrap .section-box .history-section .sec-header .xyicon[data-v-77f5289f]{font-size:22px;color:#5eba8f;margin-right:8px;line-height:20px}.cover-container .section-wrap .section-box .history-section .h-list[data-v-77f5289f]{white-space:nowrap;width:auto;padding:15px 15px 0}.cover-container .section-wrap .section-box .history-section .h-list uni-image[data-v-77f5289f]{display:inline-block;width:80px;height:80px;margin-right:10px;border-radius:5px}',""]),t.exports=e},"80c3":function(t,e,i){"use strict";i.r(e);var n=i("3ee2"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},a81e:function(t,e,i){var n=i("7b3b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("21f83285",n,!0,{sourceMap:!1,shadowMode:!1})},e27b:function(t,e,i){"use strict";i.r(e);var n=i("374a"),s=i("80c3");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("f57b");var o,r=i("f0c5"),c=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"77f5289f",null,!1,n["a"],o);e["default"]=c.exports},f57b:function(t,e,i){"use strict";var n=i("a81e"),s=i.n(n);s.a}}]);