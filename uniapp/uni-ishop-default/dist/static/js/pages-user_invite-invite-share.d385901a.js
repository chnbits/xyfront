(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user_invite-invite-share"],{"1efa":function(e,t,i){"use strict";(function(e){var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var r=n(i("1da1")),a=n(i("5530")),s=i("2f62"),o={data:function(){return{qrcodeUrl:"",qrcodeImg:"",dataList:[{balance:0}],info:{title:"",inviteCode:"加载中..."},painterJson:{},painterImgPath:""}},computed:(0,a.default)({},(0,s.mapState)(["app","user"])),onLoad:function(t){this.loadData(),e("log",this.qrcode," at pages/user_invite/invite/share.vue:133")},onShow:function(){this.info.title},methods:{navTo:function(e){uni.navigateTo({url:e})},loadData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_invite/invite/code",method:"get"});case 2:return i=t.sent,200==i.code&&(e.info=i.data.info,e.qrcodeUrl=e.util.baseDomain()+"/h5/pages/core/user/reg?inviteCode="+e.info.inviteCode),t.next=6,e.util.request({url:"/v1/user_score/score/my",method:"get"});case 6:n=t.sent,200==n.code&&(e.dataList=n.data.dataList);case 8:case"end":return t.stop()}}),t)})))()},share:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e,e.util.showToast({title:"海报生成中...",icon:"loading",duration:1e4}),e.painterJson={width:"750rpx",height:"1114rpx",background:"#f88b3c",views:[{type:"image",url:e.$store.state.app.userList[e.$store.state.app.currentUser].userInfo.avatar,css:{left:"40rpx",top:"40rpx",width:"84rpx",height:"84rpx",radius:"50%",color:"#fff"}},{type:"text",text:e.$store.state.app.userList[e.$store.state.app.currentUser].userInfo.nickname,css:{color:"#fff",left:"144rpx",top:"40rpx",fontSize:"32rpx",fontWeight:"bold"}},{type:"text",text:"邀请您加入"+e.$store.state.app.siteInfo.title,css:{color:"#fff",left:"144rpx",top:"90rpx",width:"700rpx",fontSize:"24rpx"}},{type:"image",url:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/761ccf70-6111-11eb-8d54-21c4ca4ce5d7.png",css:{left:"22rpx",top:"166rpx",width:"710rpx",height:"920rpx",radius:"12rpx"}},{type:"text",text:"邀请码："+e.info.inviteCode,css:{color:"#fff",left:"440rpx",top:"40rpx",fontSize:"32rpx",fontWeight:"bold"}},{type:"image",url:e.qrcodeImg,css:{radius:"12rpx",left:"210rpx",top:"360rpx",width:"342rpx",height:"342rpx"}}]};case 3:case"end":return t.stop()}}),t)})))()},pinterSuccess:function(e){uni.hideToast(),this.painterImgPath=e,this.realShare()},realShare:function(){this.$refs.share.togglePopup({systemShare:!0,type:2,title:"邀请",summary:"您加入",imageUrl:this.painterImgPath,imageWidth:"600rpx",imageHeight:"881rpx",href:this.qrcode,success:function(t){e("log","success:"+JSON.stringify(t)," at pages/user_invite/invite/share.vue:276")},fail:function(t){e("log","fail:"+JSON.stringify(t)," at pages/user_invite/invite/share.vue:279")}})}}};t.default=o}).call(this,i("0de9")["log"])},"35f0":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={uniGrid:i("ee91").default,uniGridItem:i("266a").default,xyQrcode:i("5f7b").default,xyShare:i("eda4").default,xy3rdLimePainter:i("b7b1").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"wrap pos-r"},[i("v-uni-view",{staticClass:"banner m-b"},[i("v-uni-view",{staticClass:"card"},[i("v-uni-view",{staticClass:"title"},[e._v("当前积分")]),i("v-uni-view",{staticClass:"num"},[e._v(e._s(e.dataList[0].balance))])],1)],1),i("uni-grid",{staticClass:"grid",attrs:{column:2,showBorder:!1}},[i("uni-grid-item",{nativeOn:{click:function(t){return e.share(t)}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-qrcode text-primary"}),i("v-uni-view",{staticClass:"title"},[e._v("分享海报")])],1)],1),i("uni-grid-item",{nativeOn:{click:function(t){return e.navTo("/pages/user_invite/invite/my")}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-level text-primary"}),i("v-uni-view",{staticClass:"title"},[e._v("推广人统计")])],1)],1),i("uni-grid-item",{nativeOn:{click:function(t){return e.navTo("/pages/user_score/score_log/my?typeId=2")}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-statistics1 text-primary"}),i("v-uni-view",{staticClass:"title"},[e._v("积分记录")])],1)],1),i("uni-grid-item",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.app.siteInfo.versionFuncsAll.indexOf("scoreshop")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('scoreshop') >= 0"}],nativeOn:{click:function(t){return e.navTo("/pages/scoreshop/item/lists")}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-store text-primary"}),i("v-uni-view",{staticClass:"title"},[e._v("积分商城")])],1)],1)],1),i("v-uni-view",{staticClass:"code"},[e._v("邀请码："+e._s(e.info.inviteCode))]),i("xy-qrcode",{attrs:{size:140,show:!1,val:e.qrcodeUrl},on:{result:function(t){arguments[0]=t=e.$handleEvent(t),e.qrcodeImg=t}}}),i("xy-share",{ref:"share",attrs:{contentHeight:1181}}),i("xy-3rd-lime-painter",{ref:"painter",attrs:{isRenderImage:!0,board:e.painterJson,"custom-style":"position: fixed; left: 200%;"},on:{success:function(t){arguments[0]=t=e.$handleEvent(t),e.pinterSuccess(t)}}})],1)},a=[]},5221:function(e,t,i){"use strict";i.r(t);var n=i("1efa"),r=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"6d7e":function(e,t,i){"use strict";var n=i("d0fc"),r=i.n(n);r.a},7825:function(e,t,i){"use strict";i.r(t);var n=i("35f0"),r=i("5221");for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("6d7e");var s,o=i("f0c5"),c=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"6685cb02",null,!1,n["a"],s);t["default"]=c.exports},d0fc:function(e,t,i){var n=i("d71b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("4f06").default;r("2175c788",n,!0,{sourceMap:!1,shadowMode:!1})},d71b:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 第三方 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 图片加载中颜色 */.banner[data-v-6685cb02]{background-color:#e23435;height:150px;color:#fff}.banner .card[data-v-6685cb02]{padding:30px;text-align:center}.banner .card .num[data-v-6685cb02]{margin-top:10px;font-size:35px}.grid[data-v-6685cb02]{padding:10px;box-sizing:border-box}.grid .uni-grid-item:nth-child(even) .inner[data-v-6685cb02]{margin-left:15px}.grid .inner[data-v-6685cb02]{background-color:#fff;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:10px;border-radius:10px}.grid .inner .xyicon[data-v-6685cb02]{font-size:30px}.grid .inner .title[data-v-6685cb02]{padding-top:12px}.code[data-v-6685cb02]{text-align:center;color:#333}',""]),e.exports=t}}]);