(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user_invite-invite-share"],{"054d":function(t,e,i){"use strict";i("4160"),i("a434"),i("a9e3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:function(){return{column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}},created:function(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy:function(){var t=this;this.grid.children.forEach((function(e,i){e===t&&t.grid.children.splice(i,1)}))},methods:{_onClick:function(){this.grid.change({detail:{index:this.index}})}}};e.default=r},"09f0":function(t,e,i){"use strict";function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],r=!0,n=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(i.push(o.value),e&&i.length===e)break}catch(d){n=!0,a=d}finally{try{r||null==s["return"]||s["return"]()}finally{if(n)throw a}}return i}}i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"0a18":function(t,e,i){"use strict";function r(t){return Object.assign(t,{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,i,r,n){t.shadowOffsetX=e,t.shadowOffsetY=i,t.shadowBlur=r,t.shadowColor=n},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})}Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=r},"0ce0":function(t,e,i){"use strict";var r=i("4ea4");i("c975"),i("baa5"),i("acd8"),i("ac1f"),i("466d"),i("1276"),i("2ca0"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.GD=void 0;var n=r(i("b85c")),a={isGradient:function(t){return!(!t||!t.startsWith("linear")&&!t.startsWith("radial"))},doGradient:function(t,e,i,r){t.startsWith("linear")?c(e,i,t,r):t.startsWith("radial")&&s(e,i,t,r)}};function o(t){var e,i=t.substring(0,t.length-1).split("%,"),r=[],a=[],o=(0,n.default)(i);try{for(o.s();!(e=o.n()).done;){var s=e.value;r.push(s.substring(0,s.lastIndexOf(" ")).trim()),a.push(s.substring(s.lastIndexOf(" "),s.length)/100)}}catch(d){o.e(d)}finally{o.f()}return{colors:r,percents:a}}function s(t,e,i,r){for(var n=o(i.match(/radial-gradient\((.+)\)/)[1]),a=r.createCircularGradient(0,0,t<e?e/2:t/2),s=0;s<n.colors.length;s++)a.addColorStop(n.percents[s],n.colors[s]);r.setFillStyle(a)}function d(t,e,i){var r,n=t.match(/([-]?\d{1,3})deg/),a=n&&n[1]?parseFloat(n[1]):0;switch(a){case 0:r=[0,-i/2,0,i/2];break;case 90:r=[e/2,0,-e/2,0];break;case-90:r=[-e/2,0,e/2,0];break;case 180:r=[0,i/2,0,-i/2];break;case-180:r=[0,-i/2,0,i/2];break;default:var o=0,s=0,d=0,c=0;n[1]>0&&n[1]<90?(o=e/2-(e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):n[1]>-180&&n[1]<-90?(o=-e/2+(e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):n[1]>90&&n[1]<180?(o=e/2+(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):(o=-e/2-(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c),r=[o,s,d,c];break}return r}function c(t,e,i,r){for(var n=d(i,t,e),a=r.createLinearGradient(n[0],n[1],n[2],n[3]),s=i.match(/linear-gradient\((.+)\)/)[1],c=o(s.substring(s.indexOf(",")+1)),u=0;u<c.colors.length;u++)a.addColorStop(c.percents[u],c.colors[u]);r.setFillStyle(a)}e.GD=a},"0d21":function(t,e,i){"use strict";function r(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"0f18":function(t,e,i){"use strict";(function(t){var r=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=r(i("1da1")),a=r(i("5530")),o=r(i("f949")),s=i("2f62"),d={components:{limePainter:o.default},data:function(){return{qrcodeUrl:"",qrcodeImg:"",dataList:[{balance:0}],info:{title:"",inviteCode:"加载中..."},painterJson:{},painterImgPath:""}},computed:(0,a.default)({},(0,s.mapState)(["app","user"])),onLoad:function(t){this.loadData()},onShow:function(){this.info.title},methods:{navTo:function(t){uni.navigateTo({url:t})},loadData:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/user_invite/invite/code",method:"get"});case 2:i=e.sent,200==i.code&&(t.info=i.data.info,t.qrcodeUrl=t.util.baseDomain()+"/h5/pages/core/user/reg?inviteCode="+t.info.inviteCode);case 4:case"end":return e.stop()}}),e)})))()},share:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t,t.util.showToast({title:"海报生成中...",icon:"loading",duration:1e4}),t.painterJson={width:"658px",height:"1229px",background:"#000",views:[{type:"image",url:"../../../static/share.jpg",css:{left:"0rpx",top:"0rpx",width:"658px",height:"1229px",radius:"12rpx"}},{type:"text",text:""+t.$store.state.app.siteInfo.title,css:{color:"#fff",left:"210px",top:"260px",width:"370px",fontSize:"54px"}},{type:"text",text:"邀请码："+t.info.inviteCode,css:{color:"#fff",left:"230px",top:"840px",fontSize:"32px",fontWeight:"bold"}},{type:"image",url:t.qrcodeImg,css:{radius:"12px",left:"230px",top:"980px",width:"200px",height:"200px"}}]};case 3:case"end":return e.stop()}}),e)})))()},pinterSuccess:function(t){uni.hideToast(),this.painterImgPath=t,this.realShare()},realShare:function(){this.$refs.share.togglePopup({systemShare:!0,type:2,title:"邀请",summary:"您加入",imageUrl:this.painterImgPath,imageWidth:"600rpx",imageHeight:"881rpx",href:this.qrcode,success:function(e){t("log","success:"+JSON.stringify(e)," at pages/user_invite/invite/share.vue:266")},fail:function(e){t("log","fail:"+JSON.stringify(e)," at pages/user_invite/invite/share.vue:269")}})}}};e.default=d}).call(this,i("0de9")["log"])},"317a":function(t,e,i){"use strict";i.r(e);var r=i("ceb8"),n=i("a9e9");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("f1ab");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"5ea8179b",null,!1,r["a"],o);e["default"]=d.exports},"31c3":function(t,e,i){"use strict";var r=i("b4bc"),n=i.n(r);n.a},"32d0":function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 第三方 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 背景颜色 */\r\n/* 图片加载中颜色 */.banner[data-v-0c36a671]{background-color:#0cbf92;height:150px;color:#fff}.banner .card[data-v-0c36a671]{padding:30px;text-align:center}.banner .card .num[data-v-0c36a671]{margin-top:10px;font-size:35px}.grid[data-v-0c36a671]{padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box}.grid .uni-grid-item:nth-child(even) .inner[data-v-0c36a671]{margin-left:15px}.grid .inner[data-v-0c36a671]{background-color:#fff;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:10px;-webkit-border-radius:10px;border-radius:10px}.grid .inner .xyicon[data-v-0c36a671]{font-size:30px}.grid .inner .title[data-v-0c36a671]{padding-top:12px}.code[data-v-0c36a671]{text-align:center;color:#333}',""]),t.exports=e},3835:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var r=s(i("0d21")),n=s(i("09f0")),a=s(i("06c5")),o=s(i("3d8c"));function s(t){return t&&t.__esModule?t:{default:t}}function d(t,e){return(0,r.default)(t)||(0,n.default)(t,e)||(0,a.default)(t,e)||(0,o.default)()}},"39a0":function(t,e,i){"use strict";i.r(e);var r=i("d244"),n=i("6ac5");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("31c3");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"95a4f104",null,!1,r["a"],o);e["default"]=d.exports},"3d8c":function(t,e,i){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"5b2b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var r={uniGrid:i("317a").default,uniGridItem:i("b159").default,xyShare:i("39a0").default,xyQrcode:i("0b06").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrap pos-r"},[i("v-uni-view",{staticClass:"banner m-b"},[i("v-uni-view",{staticClass:"card"},[i("v-uni-view",{staticClass:"title"},[t._v("当前积分")]),i("v-uni-view",{staticClass:"num"},[t._v(t._s(t.dataList[0].balance))])],1)],1),i("uni-grid",{staticClass:"grid",attrs:{column:2,showBorder:!1}},[i("uni-grid-item",{nativeOn:{click:function(e){return t.share(e)}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-qrcode text-primary"}),i("v-uni-view",{staticClass:"title"},[t._v("分享海报")])],1)],1),i("uni-grid-item",{nativeOn:{click:function(e){return t.navTo("/pages/user_invite/invite/my")}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-level text-primary"}),i("v-uni-view",{staticClass:"title"},[t._v("推广人统计")])],1)],1),i("uni-grid-item",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.app.siteInfo.versionFuncsAll.indexOf("scoreshop")>=0,expression:"$store.state.app.siteInfo.versionFuncsAll.indexOf('scoreshop') >= 0"}],nativeOn:{click:function(e){return t.navTo("/pages/scoreshop/item/lists")}}},[i("v-uni-view",{staticClass:"inner"},[i("v-uni-view",{staticClass:"xyicon xyicon-store text-primary"}),i("v-uni-view",{staticClass:"title"},[t._v("积分商城")])],1)],1)],1),i("v-uni-view",{staticClass:"code"},[t._v("邀请码："+t._s(t.info.inviteCode))]),i("xy-share",{ref:"share",attrs:{contentHeight:1181}}),i("xy-qrcode",{attrs:{size:140,show:!1,val:t.qrcodeUrl},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.qrcodeImg=e}}}),i("lime-painter",{ref:"painter",attrs:{isRenderImage:!0,board:t.painterJson,"custom-style":"position: fixed; left: 200%;"},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.pinterSuccess(e)}}})],1)},a=[]},"60d0":function(t,e,i){"use strict";var r=i("f3bd"),n=i.n(r);n.a},"659f":function(t,e,i){"use strict";i.r(e);var r=i("5b2b"),n=i("73ab");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("60d0");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"0c36a671",null,!1,r["a"],o);e["default"]=d.exports},"6ac5":function(t,e,i){"use strict";i.r(e);var r=i("6e3d"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},"6e3d":function(t,e,i){"use strict";(function(t){i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"XyShare",data:function(){return{transform:"translateY(50vh)",timer:0,backgroundColor:"rgba(0,0,0,0)",show:!1,config:{},data:{},nativeShare:!1}},props:{contentHeight:{type:Number,default:0},hasTabbar:{type:Boolean,default:!1},shareList:{type:Array,default:function(){return[{provider:"weixin",scene:"WXSceneSession",icon:"weixin",color:"#76AC52",title:"微信好友"},{provider:"weixin",scene:"WXSenceTimeline",icon:"wxpyq",color:"#E65F59",title:"朋友圈"},{provider:"qq",scene:"",icon:"qq",color:"#4295D5",title:"QQ好友"},{provider:"qq",scene:"",icon:"qqzone",color:"#F1B845",title:"QQ空间"},{provider:"local",icon:"photo",color:"#4295D5",title:"保存相册"},{provider:"copy",icon:"link",color:"#58A55C",title:"复制链接"},{provider:"system",icon:"more-o",color:"#5569E7",title:"更多"}]}}},created:function(){var t=uni.upx2px(this.contentHeight)+"px";this.config={height:t,transform:"translateY(".concat(t,")"),backgroundColor:"rgba(0,0,0,.4)"},this.transform=this.config.transform},methods:{sendWithSystem:function(){var t="";switch(this.data.type){case 0:t="web";break;case 1:t="text";break;case 2:t="image";break}plus.share.sendWithSystem({type:t,title:this.data.title,content:this.data.summary,href:this.data.href,thumbs:[this.data.imageUrl],pictures:[this.data.imageUrl]},this.data.success,this.data.fail)},togglePopup:function(e){var i=this;if(e&&(this.data=e,t("log","shareData",this.data," at node_modules/xyui/flex-ui/src/xy-share/xy-share.vue:185")),1!=this.timer){if(this.timer=1,setTimeout((function(){i.timer=0}),500),this.show)return this.transform=this.config.transform,this.backgroundColor="rgba(0,0,0,0)",void setTimeout((function(){i.show=!1,i.hasTabbar&&uni.showTabBar()}),200);this.show=!0,this.nativeShare=!0,this.hasTabbar?uni.hideTabBar({success:function(){setTimeout((function(){i.backgroundColor=i.config.backgroundColor,i.transform="translateY(0px)"}),10)}}):setTimeout((function(){i.backgroundColor=i.config.backgroundColor,i.transform="translateY(0px)"}),10)}},stopPrevent:function(){},shareToFriend:function(e){switch(e.provider){case"local":t("log","保存图片到相册"," at node_modules/xyui/flex-ui/src/xy-share/xy-share.vue:238"),uni.saveImageToPhotosAlbum({filePath:this.data.imageUrl,success:function(){uni.showToast({title:"保存成功",icon:"success",duration:1e3})}});break;case"copy":break;case"system":return this.sendWithSystem(),!0;default:break}}}};e.default=r}).call(this,i("0de9")["log"])},"73ab":function(t,e,i){"use strict";i.r(e);var r=i("0f18"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},"853a":function(t,e,i){var r=i("8d23");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("4f06").default;n("4f7effc6",r,!0,{sourceMap:!1,shadowMode:!1})},"8d23":function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 第三方 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 背景颜色 */\r\n/* 图片加载中颜色 */.uni-grid-item[data-v-5b5dbbf8]{height:100%;display:-webkit-box;display:-webkit-flex;display:flex}.uni-grid-item__box[data-v-5b5dbbf8]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.uni-grid-item--border[data-v-5b5dbbf8]{position:relative;z-index:0;border-bottom:1px #c8c7cc solid;border-right:1px #c8c7cc solid}.uni-grid-item--border-top[data-v-5b5dbbf8]{position:relative;border-top:1px #c8c7cc solid;z-index:0}.uni-highlight[data-v-5b5dbbf8]:active{background-color:#f1f1f1}',""]),t.exports=e},"8ff8":function(t,e,i){"use strict";i.r(e);var r=i("054d"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},"960e":function(t,e,i){"use strict";(function(t){i("c19f"),i("ace4"),i("d3b7"),i("acd8"),i("ac1f"),i("3ca3"),i("1276"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("ddb0"),i("2b3d"),Object.defineProperty(e,"__esModule",{value:!0}),e.toPx=n,e.isNumber=a,e.base64ToPath=s,e.pathToBase64=d,e.getBase64=c,e.CHAR_WIDTH_SCALE_MAP=void 0;var r=uni.getSystemInfoSync().windowWidth/750;function n(t,e){if("number"===typeof t)return t;if(a(t))return 1*t;if("string"===typeof t){var i=/^-?[0-9]+([.]{1}[0-9]+){0,1}(rpx|px|%)$/g,o=i.exec(t);if(!t||!o)return 0;var s=o[2];t=parseFloat(t);var d=0;return"rpx"===s?d=Math.floor(t*(r||.5)*1):"px"===s?d=Math.floor(1*t):"%"===s&&(d=Math.floor(t*n(e)/100)),d}}function a(t){return/^-?\d+(\.\d+)?$/.test(t)}var o=[.296,.313,.436,.638,.586,.89,.87,.256,.334,.334,.455,.742,.241,.433,.241,.427,.586,.586,.586,.586,.586,.586,.586,.586,.586,.586,.241,.241,.742,.742,.742,.483,1.031,.704,.627,.669,.762,.55,.531,.744,.773,.294,.396,.635,.513,.977,.813,.815,.612,.815,.653,.577,.573,.747,.676,1.018,.645,.604,.62,.334,.416,.334,.742,.448,.295,.553,.639,.501,.64,.567,.347,.64,.616,.266,.267,.544,.266,.937,.616,.636,.639,.64,.382,.463,.373,.616,.525,.79,.507,.529,.492,.334,.269,.334,.742,.296];function s(t){return new Promise((function(e,i){for(var r=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),a=new ArrayBuffer(n.length),o=new Uint8Array(a),s=0;s<n.length;s++)o[s]=n.charCodeAt(s);e(URL.createObjectURL(new Blob([o],{type:r})))}))}function d(e){var i=this;return new Promise((function(r,n){if(/^blob/.test(e)&&"function"===typeof FileReader){var a=new FileReader;a.onload=function(t){r(t.target.result)},a.readAsDataURL(e),a.onerror=function(e){t("error","blobToBase64 error:",JSON.stringify(e)," at node_modules/xyui/flex-ui/lime-painter/utils.js:150"),n(new Error("blobToBase64 error"))}}else{var o=new Image;o.onload=function(){var t=document.createElement("canvas");t.width=i.naturalWidth,t.height=i.naturalHeight,t.getContext("2d").drawImage(o,0,0);var e=t.toDataURL("image/png");r(e),t.height=t.width=0},o.setAttribute("crossOrigin","Anonymous"),o.src=e,o.onerror=function(e){t("error","urlToBase64 error:",JSON.stringify(e)," at node_modules/xyui/flex-ui/lime-painter/utils.js:170"),n(new Error("urlToBase64 error"))}}n(new Error("not support"))}))}function c(t){return new Promise((function(e,i){if(!/^(http|\/\/|\/|wxfile|data:image\/(\w+);base64|file|bdfile|ttfile|blob)/.test(t))return t;window.URL=window.URL||window.webkitURL;var r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="blob",r.send(),r.onload=function(){if(200===this.status){var t=this.response,r=new FileReader;r.onloadend=function(t){var i=t.target.result;e(i)},r.onerror=function(t){i()},r.readAsDataURL(t)}}}))}e.CHAR_WIDTH_SCALE_MAP=o}).call(this,i("0de9")["log"])},"9c2a":function(t,e,i){"use strict";(function(t){var r=i("4ea4");i("99af"),i("a9e3"),i("d3b7"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=r(i("1da1")),a=i("960e"),o=i("ee77"),s=(i("0a18"),{name:"l-painter",props:{board:Object,fileType:{type:String,default:"png"},maxDrawCount:{type:Number,default:5},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isBase64ToPath:Boolean,type:{type:String,default:"2d"}},data:function(){var t="l-painter_".concat(JSON.stringify(Math.random()).split(".")[1]);return{drawCount:0,canvasId:t,use2dCanvas:"2d"===this.type,draw:null,ctx:null}},watch:{newboard:{handler:function(t,e){if("{}"!==JSON.stringify(t)){var i=t||{},r=i.width,n=i.height,a=e||{},o=a.width,s=a.height;r===o&&n===s||(this.inited=!1,this.drawCount=0),this.render()}},immediate:!0,deep:!0}},computed:{newboard:function(){return this.board&&JSON.parse(JSON.stringify(this.board))},isUse2dCanvas:function(){return"2d"===this.type&&this.use2dCanvas},style:function(){return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px; ").concat(this.customStyle)},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var t=this.board||{},e=t.width,i=void 0===e?200:e;return(0,a.toPx)(this.width||i)},boardHeight:function(){var t=this.board||{},e=t.height,i=void 0===e?200:e;return(0,a.toPx)(this.height||i)}},methods:{render:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getContext().then(function(){var r=(0,n.default)(regeneratorRuntime.mark((function r(s){var d,c,u,l,f,h,v,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(d=e.use2dCanvas,c=e.boardWidth,u=e.boardHeight,l=e.board,f=e.canvas,h=e.isBase64ToPath,e.ctx||(e.ctx=s),v=i.width,p=i.height,!d||f){r.next=5;break}return r.abrupt("return",Promise.reject(new Error("render: fail canvas has not been created")));case 5:return e.boundary={top:0,left:0,width:c||v,height:u||p},e.ctx.clearRect(0,0,c,u),e.draw||(e.draw=new o.Draw(e.ctx,f,d)),r.next=10,e.draw.drawBoard("{}"!=JSON.stringify(i)?i:l);case 10:if(d){r.next=13;break}return r.next=13,e.canvasDraw(e.ctx);case 13:return e.$emit("done"),e.isRenderImage&&e.canvasToTempFilePath().then(function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(i){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.contrast(i.tempFilePath);case 2:if(r=t.sent,!r){t.next=12;break}if(!/^data:image\/(\w+);base64/.test(i.tempFilePath)||!h){t.next=11;break}return t.next=7,(0,a.base64ToPath)(i.tempFilePath);case 7:n=t.sent,e.$emit("success",n),t.next=12;break;case 11:e.$emit("success",i.tempFilePath);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(i){e.$emit("fail",i),new Error(JSON.stringify(i)),t("error",JSON.stringify(i)," at node_modules/xyui/flex-ui/lime-painter/index.vue:129")})),r.abrupt("return",Promise.resolve(!0));case 16:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())},canvasDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.ctx;return new Promise((function(e){t.draw(!1,(function(){e(!0)}))}))},getContext:function(){if(this.ctx&&this.inited)return Promise.resolve(this.ctx);this.type,this.isUse2dCanvas,this.dpr,this.boardWidth,this.boardHeight;var t=uni.createCanvasContext(this.canvasId,this);return this.use2dCanvas=!1,this.inited=!0,Promise.resolve(t)},canvasToTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.use2dCanvas,r=this.canvasId;return new Promise((function(n,a){var o=t.boundary,s=o.top,d=void 0===s?0:s,c=o.left,u=void 0===c?0:c,l=o.width,f=o.height,h=l*t.dpr,v=f*t.dpr,p={x:u,y:d,width:l,height:f,destWidth:h,destHeight:v,canvasId:r,fileType:e.fileType||t.fileType,quality:e.quality||1,success:n,fail:a};i&&(delete p.canvasId,p.canvas=t.canvas),uni.canvasToTempFilePath(p,t)}))},contrast:function(e){var i=this;return new Promise((function(r,n){uni.getImageInfo({src:e,success:function(e){if(i.drawCount>i.maxDrawCount){var n="绘制了".concat(i.maxDrawCount,"次, 但结果还是不成功！");return t("error",n," at node_modules/xyui/flex-ui/lime-painter/index.vue:241"),i.$emit("fail",n),void r(!1)}Math.abs((e.width*i.boardHeight-i.boardWidth*e.height)/(e.height*i.boardHeight))<.01?r(!0):(i.drawCount++,i.render())},fail:function(n){t("error","getImageInfo:fail ".concat(e," failed ").concat(JSON.stringify(n))," at node_modules/xyui/flex-ui/lime-painter/index.vue:255"),i.$emit("fail","".concat(JSON.stringify(n))),r(!0)}})}))}}});e.default=s}).call(this,i("0de9")["log"])},a586:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 第三方 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 背景颜色 */\r\n/* 图片加载中颜色 */.mask[data-v-95a4f104]{position:fixed;left:0;top:0;right:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:998;-webkit-transition:.3s;transition:.3s}.mask .preview[data-v-95a4f104]{position:absolute;top:20px;-webkit-box-shadow:0 0 10px rgba(0,0,0,.1);box-shadow:0 0 10px rgba(0,0,0,.1)}.mask .bottom[data-v-95a4f104]{position:absolute;left:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:%?90?%;background:#fff;z-index:9;font-size:%?30?%;color:#303133}.mask-content[data-v-95a4f104]{width:100%;height:auto;-webkit-transition:.3s;transition:.3s;background:#fff}.mask-content.has-bottom[data-v-95a4f104]{padding-bottom:%?90?%}.mask-content .view-content[data-v-95a4f104]{height:100%}.share-header[data-v-95a4f104]{height:%?50?%;font-size:%?30?%;color:font-color-dark;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:%?10?%}.share-header[data-v-95a4f104]:before, .share-header[data-v-95a4f104]:after{content:"";width:%?240?%;heighg:0;border-top:1px solid #e4e7ed;-webkit-transform:scaleY(.5);transform:scaleY(.5);margin-right:%?30?%}.share-header[data-v-95a4f104]:after{margin-left:%?30?%;margin-right:0}.share-list[data-v-95a4f104]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:60px;-webkit-box-pack:left;-webkit-justify-content:left;justify-content:left}.share-list .summary[data-v-95a4f104]{width:100%;padding:0 30px;text-align:center}.share-list .summary uni-textarea[data-v-95a4f104]{padding:5px;min-height:60px;border:1px solid #f1f1f1;margin-bottom:10px}.share-list .share-item[data-v-95a4f104]{min-width:25%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?150?%;background:none;line-height:1;margin:0}.share-list .share-item .icon[data-v-95a4f104]{font-size:%?70?%;width:%?70?%;height:%?70?%;margin-bottom:%?26?%}.share-list .share-item .title[data-v-95a4f104]{font-size:%?28?%;color:#606266}',""]),t.exports=e},a91f:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 第三方 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 背景颜色 */\r\n/* 图片加载中颜色 */.uni-grid-wrap[data-v-5ea8179b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%}.uni-grid[data-v-5ea8179b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.uni-grid--border[data-v-5ea8179b]{position:relative;z-index:1;border-left:1px #c8c7cc solid}',""]),t.exports=e},a9e9:function(t,e,i){"use strict";i.r(e);var r=i("e5a7"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},ae78:function(t,e,i){"use strict";i.r(e);var r=i("9c2a"),n=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=n.a},b159:function(t,e,i){"use strict";i.r(e);var r=i("ffcc"),n=i("8ff8");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("c1ce");var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"5b5dbbf8",null,!1,r["a"],o);e["default"]=d.exports},b4bc:function(t,e,i){var r=i("a586");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("4f06").default;n("c94a986a",r,!0,{sourceMap:!1,shadowMode:!1})},b85c:function(t,e,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=n(i("06c5"));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(0,r.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){d=!0,o=t},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(d)throw o}}}}},baa5:function(t,e,i){var r=i("23e7"),n=i("e58c");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},c1ce:function(t,e,i){"use strict";var r=i("853a"),n=i.n(r);n.a},ceb8:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-grid-wrap"},[i("v-uni-view",{ref:"uni-grid",staticClass:"uni-grid",class:{"uni-grid--border":t.showBorder},style:{"border-left-color":t.borderColor},attrs:{id:t.elId}},[t._t("default")],2)],1)},a=[]},d244:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"mask",style:{backgroundColor:t.backgroundColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.togglePopup.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"preview"},[t._t("default",[1!=t.data.type?i("v-uni-image",{style:{width:t.data.imageWidth,height:t.data.imageHeight},attrs:{src:t.data.imageUrl,mode:"widthFix"}}):t._e()])],2),t.nativeShare?i("v-uni-view",{staticClass:"mask-content safe-bottom",style:[{height:"auto",transform:t.transform}],on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"view-content"},[i("v-uni-view",{staticClass:"share-header"},[t._v("分享到")]),i("v-uni-view",{staticClass:"share-list"},[1!=t.data.type?i("v-uni-view",{staticClass:"summary"},[t._v("长按上方图片保存到相册")]):i("v-uni-view",{staticClass:"summary"},[t._v("点击复制文案")])],1)],1),i("v-uni-view",{staticClass:"bottom b-t",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.togglePopup.apply(void 0,arguments)}}},[t._v("取消")])],1):t._e()],1):t._e()},a=[]},e127:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isUse2dCanvas?i("v-uni-canvas",{style:t.style,attrs:{id:t.canvasId,type:"2d"}}):i("v-uni-canvas",{style:t.style,attrs:{"canvas-id":t.canvasId,id:t.canvasId,width:t.boardWidth*t.dpr,height:t.boardHeight*t.dpr}})},a=[]},e5a7:function(t,e,i){"use strict";i("4160"),i("a9e3"),i("d3b7"),i("e25e"),i("ac1f"),i("25f0"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"UniGrid",props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#e5e5e5"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide:function(){return{grid:this}},data:function(){var t="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{elId:t,width:0}},created:function(){this.children=[]},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))},methods:{init:function(){var t=this;setTimeout((function(){t._getSize((function(e){t.children.forEach((function(t,i){t.width=e}))}))}),50)},change:function(t){this.$emit("change",t)},_getSize:function(t){var e=this;uni.createSelectorQuery().in(this).select("#".concat(this.elId)).boundingClientRect().exec((function(i){e.width=parseInt((i[0].width-1)/e.column)+"px",t(e.width)}))}}};e.default=r},ee77:function(t,e,i){"use strict";(function(t){var r=i("4ea4");i("99af"),i("cb29"),i("4160"),i("caad"),i("d81d"),i("b64b"),i("d3b7"),i("07ac"),i("acd8"),i("ac1f"),i("2532"),i("466d"),i("5319"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0;var n=r(i("b85c"));i("96cf");var a=r(i("1da1")),o=r(i("3835")),s=r(i("ade3")),d=r(i("d4ec")),c=r(i("bee2")),u=i("960e"),l=i("0ce0"),f=0,h={},v=function(){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,d.default)(this,e),this.ctx=t,this.canvas=i||null,this.use2dCanvas=r}return(0,c.default)(e,[{key:"roundRect",value:function(t,e,i,r,n){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(n<0)){var d=this.ctx;if(d.beginPath(),n)if("number"===typeof n&&[0,1,-1].includes(i-2*n)&&[0,1,-1].includes(r-2*n))d.arc(t+i-n,e+r-n,n,0,2*Math.PI);else{var c,u=n||(c={r:n},(0,s.default)(c,"r",n),(0,s.default)(c,"r",n),(0,s.default)(c,"r",n),c),l=u.borderTopLeftRadius,f=void 0===l?n||0:l,h=u.borderTopRightRadius,v=void 0===h?n||0:h,p=u.borderBottomRightRadius,b=void 0===p?n||0:p,g=u.borderBottomLeftRadius,m=void 0===g?n||0:g;d.beginPath(),d.arc(t+i-b,e+r-b,b,0,.5*Math.PI),d.lineTo(t+m,e+r),d.arc(t+m,e+r-m,m,.5*Math.PI,Math.PI),d.lineTo(t,e+f),d.arc(t+f,e+f,f,Math.PI,1.5*Math.PI),d.lineTo(t+i-v,e),d.arc(t+i-v,e+v,v,1.5*Math.PI,2*Math.PI),d.lineTo(t+i,e-b)}else d.rect(t,e,i,r);d.closePath(),o&&d.stroke(),a&&d.fill()}}},{key:"measureText",value:function(t,e){var i=this.ctx;return i.measureText(t).width}},{key:"setFont",value:function(t){var e=t.fontFamily,i=void 0===e?"sans-serif":e,r=t.fontSize,n=void 0===r?14:r,a=t.fontWeight,o=void 0===a?"normal":a,s=t.textStyle,d=void 0===s?"normal":s,c=this.ctx;n=(0,u.toPx)(n),c.font="".concat(d," ").concat(o," ").concat(n,"px ").concat(i)}},{key:"drawBackground",value:function(t,e,i){var r=this.ctx;t?l.GD.isGradient(t)?l.GD.doGradient(t,e,i,r):r.setFillStyle(t):r.setFillStyle("transparent")}},{key:"rotate",value:function(t,e){var i=t.left,r=t.top,n=t.width,a=t.height,o=e.rotate,s=this.ctx;o&&(s.translate(i+n/2,r+a/2),s.rotate(o*Math.PI/180),s.translate(-i-n/2,-r-a/2))}},{key:"shadow",value:function(t){var e=t.boxShadow,i=void 0===e?[]:e,r=this.ctx;if(i.length){var n=(0,o.default)(i,4),a=n[0],s=n[1],d=n[2],c=n[3];r.setShadow(a,s,d,c)}}},{key:"drawView",value:function(t,e){var i=this.ctx,r=t.left,n=t.top,a=t.width,o=t.height,s=e||{},d=s.borderRadius,c=void 0===d?0:d,u=(s.border,s.borderTop,s.borderBottom,s.borderLeft,s.borderRight,s.color,s.backgroundColor);s.rotate,s.shadow;i.save(),this.rotate(t,e),this.shadow(e),this.drawBackground(u,a,o),this.roundRect(r,n,a,o,c,!0,!1),i.restore(),this.drawBorder(t,e)}},{key:"drawBorder",value:function(t,e){var i,r=this.ctx,n=t.left,a=t.top,o=t.width,d=t.height,c=e.border,u=e.borderBottom,l=e.borderTop,f=e.borderRight,h=e.borderLeft,v=e.borderRadius,p=c||{},b=p.borderWidth,g=void 0===b?0:b,m=p.borderStyle,w=p.borderColor,x=u||{},y=x.borderBottomWidth,k=void 0===y?g:y,S=x.borderBottomStyle,C=void 0===S?m:S,P=x.borderBottomColor,T=void 0===P?w:P,_=l||{},I=_.borderTopWidth,R=void 0===I?g:I,M=_.borderTopStyle,B=void 0===M?m:M,O=_.borderTopColor,j=void 0===O?w:O,A=f||{},L=(A.borderRightWidth,A.borderRightStyle,A.borderRightColor,h||{}),W=L.borderLeftWidth,F=void 0===W?g:W,N=L.borderLeftStyle,z=void 0===N?m:N,D=L.borderLeftColor,E=void 0===D?w:D,$=v||(i={r:v},(0,s.default)(i,"r",v),(0,s.default)(i,"r",v),(0,s.default)(i,"r",v),i),q=$.borderTopLeftRadius,U=void 0===q?v||0:q,J=$.borderTopRightRadius,H=void 0===J?v||0:J,G=$.borderBottomRightRadius,Y=void 0===G?v||0:G,Q=$.borderBottomLeftRadius,X=void 0===Q?v||0:Q;if(u||h||l||f||c){var V=function(t,e,i){"dashed"==e?r.setLineDash([Math.ceil(6*t),Math.ceil(6*t)]):"dotted"==e&&r.setLineDash([t,t]),r.setStrokeStyle(i)},K=function(t,e,i,n,a,o,s,d,c,u,l,f,h,v){r.save(),r.lineWidth=f,V(f,h,v),r.beginPath(),r.arc(t,e,s,Math.PI*c,Math.PI*u),r.lineTo(i,n),r.arc(a,o,d,Math.PI*u,Math.PI*l),r.stroke(),r.restore()};c&&(r.save(),V(g,m,w),this.roundRect(n,a,o,d,v,!1,!!w),r.restore()),u&&K(n+o-Y,a+d-Y,n+X,a+d,n+X,a+d-X,Y,X,.25,.5,.75,k,C,T),h&&K(n+X,a+d-X,n,a+U,n+U,a+U,X,U,.75,1,1.25,F,z,E),l&&K(n+U,a+U,n+o-H,a,n+o-H,a+H,U,H,1.25,1.5,1.75,R,B,j),f&&K(n+o-H,a+H,n+o,a+d-Y,n+o-Y,a+d-Y,H,Y,1.75,2,.25,R,B,j)}}},{key:"drawImage",value:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(i,r,n){var o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(s,d){var c,l,f,v,p,b,g,m,w,x,y,k,S,C,P;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=o.ctx,l=o.canvas,f=n.borderRadius,v=void 0===f?0:f,p=n.mode,b=n.backgroundColor,g=r.left,m=r.top,w=r.width,x=r.height,c.save(),o.drawBackground(b||"white",w,x),o.rotate(r,n),o.shadow(n),o.roundRect(g,m,w,x,v,!0,!1),c.clip(),y=function(t){var e=t.width,i=t.height,r=0,n=0,a=w/x,o=e/i;a>=o?i=e/a:(e=i*a,r=Math.round(((t.width||w)-e)/2)),"scaleToFill"!==p&&t.width?c.drawImage(t.path,r,n,e,i,g,m,w,x):c.drawImage(t.path,g,m,w,x)},k=function(e){if(o.use2dCanvas&&!e.path.src){var i=l.createImage();i.onload=function(){e.path=i,y(e),c.restore(),o.drawBorder(r,n),s(!0)},i.onerror=function(){t("error","createImage fail: ".concat(e)," at node_modules/xyui/flex-ui/lime-painter/draw.js:284"),d(new Error("createImage fail: ".concat(e)))},i.src=e.path}else y(e),c.restore(),o.drawBorder(r,n),s(!0)},S=/^data:image\/(\w+);base64/,C=/^\.|^\/(?=[^\/])/,!S.test(i)||h[i]){e.next=20;break}return P=i,e.next=18,(0,u.base64ToPath)(i);case 18:i=e.sent,h[P]=i;case 20:h[i]&&h[i].errMsg?k(h[i]):uni.getImageInfo({src:i,success:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.getBase64)(e.path);case 2:e.path=t.sent,e.path=/^(http|\/\/|\/|wxfile|data:image\/(\w+);base64|file|bdfile|ttfile|blob)/.test(e.path)?e.path:"/".concat(e.path),h[i]=e,k(e);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fail:function(e){C.test(i)||S.test(i)?k({path:i}):(t("error","getImageInfo:fail ".concat(i," failed ").concat(JSON.stringify(e))," at node_modules/xyui/flex-ui/lime-painter/draw.js:323"),d(new Error("getImageInfo:fail ".concat(i," ").concat(JSON.stringify(e)))))}});case 21:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));function i(t,i,r){return e.apply(this,arguments)}return i}()},{key:"drawText",value:function(t,e,i){var r=this.ctx,n=e.left,a=e.top,o=e.width,s=e.height,d=i.color,c=void 0===d?"#000000":d,u=i.lineHeight,l=void 0===u?"1.4em":u,f=i.fontSize,h=void 0===f?14:f,v=i.fontWeight,p=i.fontFamily,b=i.textStyle,g=i.textAlign,m=void 0===g?"left":g,w=i.verticalAlign,x=void 0===w?"top":w,y=i.backgroundColor,k=i.maxLines,S=i.textDecoration;if("string"===typeof l&&(l=Math.ceil(parseFloat(l.replace("em"))*h)),t){switch(r.save(),r.setTextBaseline(x),this.setFont({fontFamily:p,fontSize:h,fontWeight:v,textStyle:b}),r.setTextAlign(m),y&&(this.drawBackground(y,o,s),this.roundRect(n,a,o,s,1,y)),this.rotate(e,i),this.shadow(i),r.setFillStyle(c),m){case"left":break;case"center":n+=.5*o;break;case"right":n+=o;break;default:break}var C=this.measureText(t,h),P=Math.ceil(C/o)*l,T=Math.ceil((s-P)/2);switch(T<0&&(T=0),x){case"top":break;case"middle":a+=h/2;break;case"bottom":a+=h;break;default:break}var _=function(t,e,i){var n=uni.getSystemInfoSync(),a=n.system;switch(/win|mac/.test(a)&&(e+=h/3),x){case"top":break;case"middle":e-=h/2;break;case"bottom":e-=h;break;default:break}var o=t;switch(m){case"left":t=t,o+=i;break;case"center":t-=i/2,o=t+i;break;case"right":o=t,t-=i;break;default:break}S&&(r.setLineWidth(h/13),r.beginPath(),/\bunderline\b/.test(S)&&(e-=.8*I,r.moveTo(t,e),r.lineTo(o,e)),/\boverline\b/.test(S)&&(e+=I,r.moveTo(t,e-l),r.lineTo(o,e-l)),/\bline-through\b/.test(S)&&(r.moveTo(t,e-l/2),r.lineTo(o,e-l/2)),r.closePath(),r.setStrokeStyle(c),r.stroke())},I=Math.ceil((l-h)/2);if(C<=o&&!t.includes("\n"))return r.fillText(t,n,a+I),a+=l,_(n,a,C),void r.restore();for(var R=t.split(""),M=a,B="",O=0,j=[],A=0;A<=R.length;A++){var L=R[A],W="\n"===L,F=A===R.length-1;L=W?"":L;var N=B+L,z=this.measureText(N,h);if(O>=k)break;if(z>o||W||F){if(O++,B=F&&z<=o?N:B,O===k&&z>o){while(this.measureText("".concat(B,"..."),h)>o){if(B.length<=1)break;B=B.substring(0,B.length-1)}B+="..."}if(j.push(B),r.fillText(B,n,a+I),a+=l,_(n,a,z),B=L,a+l>M+s)break}else B=N}r.restore()}}},{key:"findNode",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,o=Object.assign({},this.getComputedStyle(t,i,r)),s={id:f++,parent:i,computedStyle:o,attributes:Object.assign({},this.getAttributes(t)),name:(null===t||void 0===t?void 0:t.type)||"view"};if("{}"===JSON.stringify(i)){var d=o.left,c=void 0===d?0:d,u=o.top,l=void 0===u?0:u,h=o.width,v=void 0===h?0:h,p=o.height,b=void 0===p?0:p;s.layoutBox={left:c,top:l,width:v,height:b}}else s.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(s,i,r,n,a));if(null===t||void 0===t?void 0:t.views){var g=[];s.children=[],t.views.forEach((function(i,r){g.push(e.findNode(i,s,r,g,t))})),s.children=g}return s}},{key:"getComputedStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if(e.computedStyle)for(var r=0,n=Object.keys(e.computedStyle);r<n.length;r++){var a=n[r],d=e.computedStyle[a];["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"].includes(a)&&(i[a]=/px$/.test(d)?(0,u.toPx)(d):d)}var c="{}"==JSON.stringify(e)?t:t.css;if(!c)return i;for(var l=0,f=Object.keys(c);l<f.length;l++){var h=f[l],v=c[h];if("views"!=h)if(["boxShadow","shadow"].includes(h)){var p=v.split(" ").map((function(t){return/^\d/.test(t)?(0,u.toPx)(t):t}));i.boxShadow=p}else if(!h.includes("border")||h.includes("adius"))if(["background","backgroundColor"].includes(h))i["backgroundColor"]=v;else{if(h.includes("padding")||h.includes("margin")||h.includes("adius")){var b=function(){var t=h.includes("adius"),e=t?"borderRadius":h.match(/[a-z]+/)[0],r=[0,0,0,0].map((function(i,r){return t?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][r]:[e+"Top",e+"Right",e+"Bottom",e+"Left"][r]}));if("padding"===h||"margin"===h||"radius"===h||"borderRadius"===h){var n=(null===v||void 0===v?void 0:v.split(" ").map((function(t){return/^\d/.test(t)&&(0,u.toPx)(t,c["width"])}),[]))||[0],a=t?"borderRadius":h;if(1==n.length)i[a]=n[0];else{var d,l=(0,o.default)(n,4),f=l[0],p=l[1],b=l[2],g=l[3];i[a]=(d={},(0,s.default)(d,r[0],f),(0,s.default)(d,r[1],p||f),(0,s.default)(d,r[2],b||f),(0,s.default)(d,r[3],g||p),d)}}else{var m;if("object"===typeof i[e])i[e][h]=(0,u.toPx)(v,c["width"]);else i[e]=(m={},(0,s.default)(m,r[0],i[e]||0),(0,s.default)(m,r[1],i[e]||0),(0,s.default)(m,r[2],i[e]||0),(0,s.default)(m,r[3],i[e]||0),m),i[e][h]=(0,u.toPx)(v,c["width"])}return"continue"}();if("continue"===b)continue}i[h]=/%|px|rpx$/.test(v)?(0,u.toPx)(v,c["width"]):v}else{var g,m,w=h.match(/^border([BTRLa-z]+)?/)[0],x=h.match(/[W|S|C][a-z]+/),y=v.split(" ").map((function(t){return/^\d/.test(t)?(0,u.toPx)(t):t}));y.length>1?i[w]=(g={},(0,s.default)(g,w+"Width",y[0]||1),(0,s.default)(g,w+"Style",y[1]||"solid"),(0,s.default)(g,w+"Color",y[2]||"black"),g):(i[w]=(m={},(0,s.default)(m,w+"Width",1),(0,s.default)(m,w+"Style","solid"),(0,s.default)(m,w+"Color","black"),m),i[w][w+x[0]]=y[0])}}return i}},{key:"getLayoutBox",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a={},o=t||{},s=o.name,d=o.computedStyle,c=(o.layoutBox,o.attributes);if(!s)return a;var u="text"===s,l="text"===i.name,f=this.ctx,h=i.layoutBox,v=i.computedStyle,p=d.verticalAlign,b=d.padding||{},g=b.paddingTop,m=void 0===g?0:g,w=b.paddingRight,x=void 0===w?0:w,y=(b.paddingBottom,b.paddingLeft),k=void 0===y?0:y,S=d.margin||{},C=S.marginTop,P=void 0===C?0:C,T=(S.marginRight,S.marginBottom,S.marginLeft),_=void 0===T?0:T,I=function(){if("number"===typeof d.left)return d.left+k+_;if(!u)return((null===h||void 0===h?void 0:h.left)||0)+k+_;var t=0==r;if(t)return l?((null===h||void 0===h?void 0:h.left)||0)+((null===h||void 0===h?void 0:h.width)||0)+k+_:((null===h||void 0===h?void 0:h.left)||0)+k+_;var e,i,a=n[r-1],o=a.layoutBox,s=a.computedStyle;return o.left+o.width+k+_+((null===s||void 0===s||null===(e=s.padding)||void 0===e?void 0:e.paddingRight)||0)+((null===s||void 0===s||null===(i=s.margin)||void 0===i?void 0:i.marginRight)||0)},R=function(){if("number"===typeof d.width)return d.width-k-x;if(!u||u&&d.textAlign&&"left"!==d.textAlign)return(null===h||void 0===h?void 0:h.width)-k-x;if(u){var t=d||{},r=t.fontSize,n=void 0===r?14:r,o=(t.lineHeight,t.fontWeight),s=t.fontFamily,f=t.textStyle;e.setFont({fontFamily:s,fontSize:n,fontWeight:o,textStyle:f});var v=e.measureText(c.text,n);if(l){var p=e.getParent(i,"view"),b=p.layoutBox,g=b.width+b.left-a.left;return g>v?v:g}return v<((null===h||void 0===h?void 0:h.width)||0)?v:(null===h||void 0===h?void 0:h.width)||0}},M=function(){d.height;if(d.height)return d.height;if(!u)return 0;if(h.height==v.height&&0!=v.height&&"bottom"!=p&&"middle"!=p)return h.height;var t=d||{},i=t.fontSize,r=void 0===i?14:i,n=t.lineHeight,a=void 0===n?"1.4em":n;"string"===typeof a&&(a=Math.ceil(parseFloat(a.replace("em"))*r));var o=e.measureText(c.text,r);return h.width<o&&(a=Math.ceil(o/h.width)*a),h.height=h.height>a?h.height:a,a},B=function(){return d.top?d.top+m+P:"bottom"===p?(null===h||void 0===h?void 0:h.top)+((null===h||void 0===h?void 0:h.height)-a.height||0)+m+P:"middle"===p?(null===h||void 0===h?void 0:h.top)+((null===h||void 0===h?void 0:h.height)-a.height||0)/2+m+P:((null===h||void 0===h?void 0:h.top)||0)+m+P};return a.left=I(),f.save(),a.width=R(),a.height=M(),a.top=B(),f.restore(),a}},{key:"getParent",value:function(t,e){return t.name===e?t:t.parent?this.getParent(t.parent,e):void 0}},{key:"getAttributes",value:function(t){var e={};return((null===t||void 0===t?void 0:t.url)||(null===t||void 0===t?void 0:t.src))&&(e.src=t.url||(null===t||void 0===t?void 0:t.src)),(null===t||void 0===t?void 0:t.text)&&(e.text=t.text),e}},{key:"drawBoard",value:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this.findNode(e),t.abrupt("return",this.drawNode(i));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"drawNode",value:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var i,r,a,o,s,d,c,u,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.layoutBox,r=e.computedStyle,a=e.name,o=e.attributes,s=o.src,d=o.text,"view"!==a){t.next=6;break}this.drawView(i,r),t.next=12;break;case 6:if("image"!==a||!s){t.next=11;break}return t.next=9,this.drawImage(s,i,r);case 9:t.next=12;break;case 11:"text"===a&&this.drawText(d,i,r);case 12:if(e.children){t.next=14;break}return t.abrupt("return");case 14:c=Object.values?Object.values(e.children):Object.keys(e.children).map((function(t){return e.children[t]})),u=(0,n.default)(c),t.prev=16,u.s();case 18:if((l=u.n()).done){t.next=24;break}return f=l.value,t.next=22,this.drawNode(f);case 22:t.next=18;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](16),u.e(t.t0);case 29:return t.prev=29,u.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[16,26,29,32]])})));function e(e){return t.apply(this,arguments)}return e}()}]),e}();e.Draw=v}).call(this,i("0de9")["log"])},f1ab:function(t,e,i){"use strict";var r=i("f477"),n=i.n(r);n.a},f3bd:function(t,e,i){var r=i("32d0");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("4f06").default;n("bea53518",r,!0,{sourceMap:!1,shadowMode:!1})},f477:function(t,e,i){var r=i("a91f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("4f06").default;n("44e1d8cf",r,!0,{sourceMap:!1,shadowMode:!1})},f949:function(t,e,i){"use strict";i.r(e);var r=i("e127"),n=i("ae78");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);var o,s=i("f0c5"),d=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"1ff99a27",null,!1,r["a"],o);e["default"]=d.exports},ffcc:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.width?i("v-uni-view",{staticClass:"uni-grid-item",style:"width:"+t.width+";"+(t.square?"height:"+t.width:"")},[i("v-uni-view",{staticClass:"uni-grid-item__box",class:{"uni-grid-item--border":t.showBorder,"uni-grid-item--border-top":t.showBorder&&t.index<t.column,"uni-highlight":t.highlight},style:{"border-right-color":t.borderColor,"border-bottom-color":t.borderColor,"border-top-color":t.borderColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onClick.apply(void 0,arguments)}}},[t._t("default")],2)],1):t._e()},a=[]}}]);