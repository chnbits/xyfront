(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user_address-address-manage"],{"04ec":function(e,t,a){"use strict";a.r(t);var n=a("8aee"),i=a("097a");for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("12ad");var r,d=a("f0c5"),l=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"49b6b6d5",null,!1,n["a"],r);t["default"]=l.exports},"079e":function(e,t,a){"use strict";a.r(t);var n=a("5761"),i=a("ab30");for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("72a8");var r,d=a("f0c5"),l=Object(d["a"])(i["default"],n["b"],n["c"],!1,null,"2215260d",null,!1,n["a"],r);t["default"]=l.exports},"097a":function(e,t,a){"use strict";a.r(t);var n=a("d873"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"12ad":function(e,t,a){"use strict";var n=a("d10c"),i=a.n(n);i.a},"21ff":function(e,t,a){var n=a("cc40");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("9463218c",n,!0,{sourceMap:!1,shadowMode:!1})},"4f4c":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 第三方 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 图片加载中颜色 */.xy-cascader[data-v-49b6b6d5]{width:100%}.xy-cascader .label-box[data-v-49b6b6d5]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}',""]),e.exports=t},5761:function(e,t,a){"use strict";var n={xyCascader:a("04ec").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("称呼")]),a("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{color:"#fa436a",value:"1",checked:1==e.addressData.gender}}),e._v("先生")],1),a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{color:"#fa436a",value:"2",checked:2==e.addressData.gender}}),e._v("女士")],1)],1)],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("联系人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},model:{value:e.addressData.name,callback:function(t){e.$set(e.addressData,"name",t)},expression:"addressData.name"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("电话")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人联系电话","placeholder-class":"placeholder"},model:{value:e.addressData.tel,callback:function(t){e.$set(e.addressData,"tel",t)},expression:"addressData.tel"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("区域")]),a("xy-cascader",{attrs:{valueField:"label",action:"/v1/region/region/lists",size:"default"},model:{value:e.addressData.city,callback:function(t){e.$set(e.addressData,"city",t)},expression:"addressData.city"}})],1),a("v-uni-view",{staticClass:"row b-b address"},[a("v-uni-text",{staticClass:"tit"},[e._v("地址")]),a("v-uni-textarea",{staticClass:"input",attrs:{placeholder:"详细地址","placeholder-class":"placeholder"},model:{value:e.addressData.address,callback:function(t){e.$set(e.addressData,"address",t)},expression:"addressData.address"}}),a("v-uni-text",{staticClass:"xyicon icon-shouhuodizhi"})],1),a("v-uni-view",{staticClass:"row isDefault-row"},[a("v-uni-text",{staticClass:"tit"},[e._v("设为默认")]),a("v-uni-switch",{attrs:{checked:!!e.addressData.isDefault,color:"#fa436a"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1),a("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("提交")]),a("v-uni-button",{staticClass:"del-btn m-l-sm m-r-sm",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteOne.apply(void 0,arguments)}}},[e._v("删除")])],1)},s=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}))},"72a8":function(e,t,a){"use strict";var n=a("21ff"),i=a.n(n);i.a},"8aee":function(e,t,a){"use strict";var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-picker",{staticClass:"xy-cascader ",attrs:{mode:"multiSelector",value:e.indexData,range:e.range,"range-key":e.labelName},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.valueChange.apply(void 0,arguments)},columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.handleColumnChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"label-box flex"},[a("v-uni-view",{staticClass:"label flex"},e._l(e.value,(function(t,n){return a("v-uni-view",{key:n,staticClass:"m-l-xs"},[e._v(e._s(t))])})),1),a("v-uni-view",{staticClass:"xyicon xyicon-down"})],1)],1)},s=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}))},ab30:function(e,t,a){"use strict";a.r(t);var n=a("cd30"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},cc40:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 第三方 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 背景颜色 */\n/* 图片加载中颜色 */uni-page-body[data-v-2215260d]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-2215260d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row.address[data-v-2215260d]{height:%?120?%}.row.address uni-textarea[data-v-2215260d]{height:%?90?%}.row .tit[data-v-2215260d]{-webkit-flex-shrink:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .input[data-v-2215260d]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-2215260d]{font-size:%?36?%;color:#909399}.isDefault-row[data-v-2215260d]{margin-top:%?16?%}.isDefault-row .tit[data-v-2215260d]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.isDefault-row uni-switch[data-v-2215260d]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-2215260d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#e23435;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-2215260d]{background:#f8f8f8}',""]),e.exports=t},cd30:function(e,t,a){"use strict";(function(e){var n=a("ee27");a("ac1f"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=n(a("c964")),s={data:function(){return{id:0,addressData:{gender:0,name:"",tel:"",city:"",address:"",isDefault:0}}},onLoad:function(t){var a="新增收货地址";"edit"===t.type&&(a="编辑收货地址",this.addressData=JSON.parse(t.data),this.addressData["city"]=this.addressData["city"].split(", "),e.log(this.addressData),this.id=this.addressData.id,e.log(this.id)),this.manageType=t.type,uni.setNavigationBarTitle({title:a})},methods:{radioChange:function(t){this.addressData.gender=t.detail.value,e.log(t.detail)},switchChange:function(t){e.log(t.detail),1==t.detail.value?this.addressData.isDefault=1:this.addressData.isDefault=0,e.log(this.addressData.isDefault)},deleteOne:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_address/address/delete/"+e.id,method:"DELETE"});case 2:a=t.sent,200==a.code?(e.util.showToast({title:a.msg,icon:"sucess",duration:1e3}),uni.navigateBack()):e.util.showToast({title:a.msg,icon:"loading",duration:2e3});case 4:case"end":return t.stop()}}),t)})))()},confirm:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.addressData,a.name){t.next=4;break}return e.util.showToast({title:"请填写收货人姓名",icon:"loading",duration:2e3}),t.abrupt("return");case 4:if(a.tel){t.next=7;break}return e.util.showToast({title:"请输入正确的手机号码",icon:"loading",duration:2e3}),t.abrupt("return");case 7:if(a.city){t.next=10;break}return e.util.showToast({title:"请选择城市区域信息",icon:"loading",duration:2e3}),t.abrupt("return");case 10:if(a.address){t.next=13;break}return e.util.showToast({title:"请填写详细地址",icon:"loading",duration:2e3}),t.abrupt("return");case 13:if(n="","edit"!=e.manageType){t.next=20;break}return t.next=17,e.util.request({url:"/v1/user_address/address/edit/"+e.id,method:"put",data:{gender:e.addressData.gender,name:e.addressData.name,tel:e.addressData.tel,city:e.addressData.city,address:e.addressData.address,isDefault:e.addressData.isDefault}});case 17:n=t.sent,t.next=23;break;case 20:return t.next=22,e.util.request({url:"/v1/user_address/address/add",method:"post",data:{gender:e.addressData.gender,name:e.addressData.name,tel:e.addressData.tel,city:e.addressData.city,address:e.addressData.address,isDefault:e.addressData.isDefault}});case 22:n=t.sent;case 23:if(200==n.code){t.next=26;break}return e.util.showToast({title:n.msg,icon:"loading",duration:2e3}),t.abrupt("return",!1);case 26:e.util.showToast({title:"地址".concat("edit"==e.manageType?"修改":"添加","成功"),icon:"success",duration:1e3}),uni.navigateBack();case 28:case"end":return t.stop()}}),t)})))()}}};t.default=s}).call(this,a("5a52")["default"])},d10c:function(e,t,a){var n=a("4f4c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("83e70166",n,!0,{sourceMap:!1,shadowMode:!1})},d873:function(e,t,a){"use strict";(function(e){var n=a("ee27");a("ac1f"),a("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=n(a("c964")),s={name:"XyCascader",props:{value:{type:[Array,String],default:function(){return[]}},options:{type:Array,default:function(){return[]}},action:{type:String,default:""},disabled:{type:Boolean,default:!1},labelName:{type:String,default:"label"},valueField:{type:String,default:"value"}},data:function(){return{indexData:[0,0,0],optionsList:[],valueCurrent:"",range:[]}},created:function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.valueCurrent=this.value,"string"==typeof this.valueCurrent&&(this.valueCurrent=this.valueCurrent.split(",")),this.optionsList=this.options,e.log("valueCurrent",this.valueCurrent),0!=this.optionsList.length){t.next=9;break}return t.next=7,this.util.request({url:this.action,data:{id:1e5,child:0,maxLevel:3,nameAlias:this.labelName,valueField:this.valueField,current:this.valueCurrent},method:"get"});case 7:a=t.sent,200==a.code&&(this.optionsList=a.data.dataList,0==a.data.indexData.length?this.indexData=[0,0,0]:this.indexData=a.data.indexData);case 9:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),watch:{indexData:{handler:function(e){this.$set(this.range,0,this.optionsList),e.length>1&&this.$set(this.range,1,this.optionsList[e[0]].children),e.length>2&&this.optionsList[e[0]].children.lenght>0&&this.$set(this.range,2,this.optionsList[e[0]].children[e[1]].children),e.length>3&&this.optionsList[e[0]].children[e[1]].children.lenght>0&&this.$set(this.range,3,this.optionsList[e[0]].children[e[1]].children[e[2]].children)},deep:!0}},methods:{getChild:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:t.action,data:{id:e,child:1,maxLevel:3,nameAlias:t.labelName,valueField:t.valueField},method:"get"});case 2:if(n=a.sent,200!=n.code){a.next=7;break}return a.abrupt("return",n.data.dataList);case 7:return a.abrupt("return",!1);case 8:case"end":return a.stop()}}),a)})))()},valueChange:function(t){var a=t.detail.value;e.log(a);for(var n=0;n<a.length;n++)this.$set(this.valueCurrent,n,this.range[n][a[n]][this.valueField]);e.log(this.valueCurrent),this.$emit("input",this.valueCurrent)},handleColumnChange:function(t){var a=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var i,s,r,d,l,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!a.action){n.next=43;break}i=a.indexData,s=t.detail.column,r=t.detail.value,d=a.range[s][r].value,l=a.optionsList,i[s]=r,e.log(i),n.t0=s,n.next=0===n.t0?11:1===n.t0?17:2===n.t0?23:3===n.t0?29:35;break;case 11:if(!l[i[0]].children||0!=l[i[0]].children.length){n.next=15;break}return n.next=14,a.getChild(d);case 14:l[i[0]].children=n.sent;case 15:for(c=1;c<i.length;c++)i[c]=0;return n.abrupt("break",35);case 17:if(!l[i[0]].children[i[1]].children||0!=l[i[0]].children[i[1]].children.length){n.next=21;break}return n.next=20,a.getChild(d);case 20:l[i[0]].children[i[1]].children=n.sent;case 21:for(c=2;c<i.length;c++)i[c]=0;return n.abrupt("break",35);case 23:if(!l[i[0]].children[i[1]].children[i[2]].children||0!=l[i[0]].children[i[1]].children[i[2]].children.length){n.next=27;break}return n.next=26,a.getChild(d);case 26:l[i[0]].children[i[1]].children[i[2]].children=n.sent;case 27:for(c=3;c<i.length;c++)i[c]=0;return n.abrupt("break",35);case 29:if(!l[i[0]].children[i[1]].children[i[2]].children[i[3]].children||0!=l[i[0]].children[i[1]].children[i[2]].children[i[3]].children.length){n.next=33;break}return n.next=32,a.getChild(d);case 32:l[i[0]].children[i[1]].children[i[2]].children[i[3]].children=n.sent;case 33:for(c=4;c<i.length;c++)i[c]=0;return n.abrupt("break",35);case 35:u=i,a.$set(a.range,0,a.optionsList),u.length>1&&a.$set(a.range,1,a.optionsList[u[0]].children),u.length>2&&a.$set(a.range,2,a.optionsList[u[0]].children[u[1]].children),a.indexData.length>3&&a.$set(a.range,3,a.optionsList[u[0]].children[u[1]].children[u[2]].children),a.optionsList=l,a.indexData=i,e.log("indexData",a.indexData);case 43:case"end":return n.stop()}}),n)})))()}}};t.default=s}).call(this,a("5a52")["default"])}}]);