(function(e){function t(t){for(var a,r,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-1f985125":"7276b214","chunk-2698c18b":"b78802a5","chunk-2d0c9b0b":"21fb526e","chunk-2d0e523d":"e3e11cc7","chunk-2d0e9d25":"e89b855f","chunk-2d217526":"c43f8be8","chunk-2d21dfb9":"232a982a","chunk-35ad115e":"7de650cc","chunk-3838d48a":"9045ce57","chunk-474031da":"7e193452","chunk-4a94176e":"8555d68d","chunk-4d136c4f":"8aa10f20","chunk-570bba33":"7532c2b5","chunk-5dcbc4e7":"b002db31","chunk-6bd4539c":"8819af94","chunk-743265da":"c8f86482","chunk-a54c929e":"51100e14","chunk-b9ede32e":"9fdb12ca","chunk-bd3a93a0":"32fa4ed4","chunk-c6b67c10":"a4c3abfd","chunk-c6febb56":"72ff96ca","chunk-cd8d042e":"8c07484e","chunk-f68a4c7e":"3cfc7e40","chunk-fadd312a":"ec76a8e7"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-35ad115e":1,"chunk-474031da":1,"chunk-4a94176e":1,"chunk-bd3a93a0":1,"chunk-c6b67c10":1,"chunk-cd8d042e":1,"chunk-f68a4c7e":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-1f985125":"31d6cfe0","chunk-2698c18b":"31d6cfe0","chunk-2d0c9b0b":"31d6cfe0","chunk-2d0e523d":"31d6cfe0","chunk-2d0e9d25":"31d6cfe0","chunk-2d217526":"31d6cfe0","chunk-2d21dfb9":"31d6cfe0","chunk-35ad115e":"36f6c0de","chunk-3838d48a":"31d6cfe0","chunk-474031da":"a2961c37","chunk-4a94176e":"4966eede","chunk-4d136c4f":"31d6cfe0","chunk-570bba33":"31d6cfe0","chunk-5dcbc4e7":"31d6cfe0","chunk-6bd4539c":"31d6cfe0","chunk-743265da":"31d6cfe0","chunk-a54c929e":"31d6cfe0","chunk-b9ede32e":"31d6cfe0","chunk-bd3a93a0":"18950921","chunk-c6b67c10":"7442334c","chunk-c6febb56":"31d6cfe0","chunk-cd8d042e":"fea62740","chunk-f68a4c7e":"3f82dcc8","chunk-fadd312a":"31d6cfe0"}[e]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],p.parentNode.removeChild(p),n(s)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},"12f5":function(e,t,n){"use strict";var a=n("bc49"),r=n.n(a);r.a},13:function(e,t){},2:function(e,t){},2395:function(e,t,n){},2500:function(e,t,n){var a={"./zh.json":"b579"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="2500"},3:function(e,t){},4:function(e,t){},"4c35":function(e,t,n){"use strict";var a=n("8b3b"),r=n.n(a);r.a},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4");var a=n("5530"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("8bbf")),o=n.n(r),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"all-gray":"aidao"==this.$store.state.app.siteInfo.exTheme},attrs:{id:"app"}},[n("router-view")],1)},i=[],c=(n("96cf"),n("1da1")),u={name:"app",onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.util.getUrlQuery(),t.inviteCode&&this.$store.commit("app/setData",{key:"inviteCode",value:t.inviteCode}),!(Date.parse(new Date)/1e3-this.$store.state.app.updateTime>1800)){e.next=10;break}return e.next=6,this.getSiteInfo();case 6:if(!this.$store.state.user.token||0!=this.$store.state.user.userInfo.id){e.next=9;break}return e.next=9,this.getUserInfo();case 9:this.$store.commit("app/setData",{key:"updateTime",value:Date.parse(new Date)/1e3});case 10:if(this.$store.state.app.siteInfo.id||this.getSiteInfo(),!this.$store.state.user.token||0!=this.$store.state.user.userInfo.id){e.next=14;break}return e.next=14,this.getUserInfo();case 14:if(!(Date.parse(new Date)/1e3-this.$store.state.app.updateTime>600)){e.next=20;break}return e.next=17,this.getSiteInfo();case 17:return e.next=19,this.getUserInfo();case 19:this.$store.commit("app/setData",{key:"updateTime",value:Date.parse(new Date)/1e3});case 20:document.querySelector("meta[name=apple-mobile-web-app-title]").content=this.$store.state.app.siteInfo.title;case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getSiteInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/cloud/index/info",method:"get"});case 2:n=t.sent,"200"==n.code?e.$store.commit("app/setSiteInfo",n.data.siteInfo):e.$Message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/core/user/info",method:"get"});case 2:if(n=t.sent,"200"==n.code){for(r in a=e.$store.state.user.userInfo,n.data.userInfo)""!=n.data.userInfo[r]&&(a[r]=n.data.userInfo[r]);e.$store.commit("user/setUserInfo",a)}else e.$Message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()}}},l=u,d=(n("7c55"),n("2877")),p=Object(d["a"])(l,s,i,!1,null,null,null),f=p.exports,m=(n("4160"),n("d3b7"),n("ac1f"),n("466d"),n("159b"),n("ddb0"),n("85b3")),h=n.n(m);function v(){var e=n("2500"),t={};return e.keys().forEach((function(n){var a=n.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var r=a[1];t[r]=e(n)}})),t}o.a.use(h.a);var g=new h.a({locale:"zh",messages:v()}),b=n("2905");Object(b["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d274");var w=n("2909"),k=n("6389"),y=n.n(k),x=n("0cc7"),_=(n("99af"),[{name:"/user/login",path:"/user/login",meta:{title:"用户登录"},component:function(){return n.e("chunk-2698c18b").then(n.bind(null,"cbba"))}},{name:"/user/register",path:"/user/register",meta:{title:"用户注册"},component:function(){return n.e("chunk-6bd4539c").then(n.bind(null,"620a"))}},{name:"/user/resetPassword",path:"/user/resetPassword",meta:{title:"重置登录密码"},component:function(){return n.e("chunk-2d21dfb9").then(n.bind(null,"d42e"))}},{name:"/user/center",path:"/user/center",meta:{title:"个人中心"},component:function(){return n.e("chunk-474031da").then(n.bind(null,"1146"))}}]),C=[{name:"/user/resetPassword",path:"/user/resetPassword",meta:{title:"重置登录密码"},component:function(){return n.e("chunk-2d0e9d25").then(n.bind(null,"8ebd"))}}],T=[{name:"/reg_email/user/register",path:"/reg_email/user/register",meta:{title:"邮箱注册"},component:function(){return n.e("chunk-3838d48a").then(n.bind(null,"b31e"))}},{name:"/reg_email/user/bind",path:"/reg_email/user/bind",meta:{title:"邮箱绑定"},component:function(){return n.e("chunk-4d136c4f").then(n.bind(null,"e314"))}},{name:"/reg_email/user/change",path:"/reg_email/user/change",meta:{title:"换绑邮箱"},component:function(){return n.e("chunk-1f985125").then(n.bind(null,"29a5"))}},{name:"/reg_email/user/resetPassword",path:"/reg_email/user/resetPassword",meta:{title:"重置密码"},component:function(){return n.e("chunk-570bba33").then(n.bind(null,"d551"))}}],S=[{name:"/reg_mobile/user/register",path:"/reg_mobile/user/register",meta:{title:"手机注册"},component:function(){return n.e("chunk-b9ede32e").then(n.bind(null,"e07c"))}},{name:"/reg_mobile/user/bind",path:"/reg_mobile/user/bind",meta:{title:"绑定手机"},component:function(){return n.e("chunk-743265da").then(n.bind(null,"0853"))}},{name:"/reg_mobile/user/change",path:"/reg_mobile/user/change",meta:{title:"换绑手机"},component:function(){return n.e("chunk-a54c929e").then(n.bind(null,"30d6"))}},{name:"/reg_mobile/user/resetPassword",path:"/reg_mobile/user/resetPassword",meta:{title:"重置密码"},component:function(){return n.e("chunk-c6febb56").then(n.bind(null,"b0fc"))}}],O=[{name:"/paypwd/set",path:"/paypwd/set",meta:{title:"设置支付密码"},component:function(){return n.e("chunk-fadd312a").then(n.bind(null,"f715"))}},{name:"/paypwd/change",path:"/paypwd/change",meta:{title:"重置支付密码"},component:function(){return n.e("chunk-5dcbc4e7").then(n.bind(null,"0f69"))}}],D=[{name:"/gauth/user/bind",path:"/gauth/user/bind",meta:{title:"绑定谷歌验证"},component:function(){return n.e("chunk-35ad115e").then(n.bind(null,"5e45"))}},{name:"/gauth/user/change",path:"/gauth/user/change",meta:{title:"换绑谷歌验证"},component:function(){return n.e("chunk-f68a4c7e").then(n.bind(null,"4570"))}}],I=[{name:"/user_agreement/agreement/info",path:"/agreement/:id",meta:{title:"协议详情"},component:function(){return n.e("chunk-2d0e523d").then(n.bind(null,"92e3"))}}],$=[{name:"/user_invite/invite/share",path:"/user_invite/invite/share",meta:{title:"邀请注册"},component:function(){return n.e("chunk-bd3a93a0").then(n.bind(null,"b16a"))}}],P=[{name:"/ext",path:"/ext",meta:{title:"应用市场"},component:function(){return n.e("chunk-4a94176e").then(n.bind(null,"aecd"))}}],j=[{name:"/icms/post/lists",path:"/:name",meta:{title:"文档列表"},component:function(){return n.e("chunk-c6b67c10").then(n.bind(null,"1c64"))}},{name:"/icms/post/info",path:"/post/:id",meta:{title:"文档详情"},component:function(){return n.e("chunk-2d0c9b0b").then(n.bind(null,"59e6"))}},{name:"/icms/post/my",path:"/icms/post/my",meta:{title:"我的文档"},component:function(){return n.e("chunk-2d217526").then(n.bind(null,"c5db"))}}],A=[{path:"/",name:"home",meta:{title:"首页"},component:function(){return n.e("chunk-cd8d042e").then(n.bind(null,"eea6"))}}];A=A.concat(_),A=A.concat(C),A=A.concat(T),A=A.concat(S),A=A.concat(O),A=A.concat(D),A=A.concat(I),A=A.concat($),A=A.concat(P),A=A.concat(j);var E=A,R=n("5880"),M=n.n(R),N=(n("b0c0"),n("4d63"),n("25f0"),n("3ca3"),n("5319"),n("1276"),n("2b3d"),n("53ca")),L=(n("fb6a"),n("b64b"),n("1c46")),U={spaceId:"5e04598d-1f50-448a-b969-a29dde6cfd6b",hmacmd5:function(e,t){var n=L.createHmac("md5",t),a=n.update(e),r=a.digest("hex");return r},sign:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3w3RhmLnDhC73vR64iPXDg==",n="";Object.keys(e).sort().forEach((function(t){e[t]&&(n=n+"&"+t+"="+e[t])})),n=n.slice(1);var a=U.hmacmd5(n,t);return a},getToken:function(){var e={method:"serverless.auth.user.anonymousAuthorize",params:"{}",spaceId:U.spaceId,timestamp:Date.now()},t=U.sign(e);return new Promise((function(n,a){axios({method:"POST",url:"https://api.bspapp.com/client",data:e,headers:{"x-serverless-sign":t}}).then((function(e){n(e.data)})).catch((function(e){var t=new Object;t.code=0,t.msg=e.message,a(t)}))}))}};U.getPolicy=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.filename,e.next=3,U.getToken();case 3:return a=e.sent,r={method:"serverless.file.resource.generateProximalSign",params:'{"env":"public","filename":"'+n+'.png"}',spaceId:U.spaceId,timestamp:Date.now(),token:a.data.accessToken},o=U.sign(r),e.abrupt("return",new Promise((function(e,t){axios({method:"POST",url:"https://api.bspapp.com/client",data:r,headers:{"x-basement-token":a.data.accessToken,"x-serverless-sign":o}}).then((function(t){t.data.data.token=a.data.accessToken,console.log("getPolicy",t),e(t.data)})).catch((function(e){var n=new Object;n.code=0,n.msg=e.message,t(n)}))})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U.uploadFile=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.filename,t.filePath,a=t.file,r=t.blobInfo,e.next=3,U.getPolicy({filename:n});case 3:return o=e.sent,s=new FormData,s.append("Cache-Control","max-age=2592000"),s.append("Content-Disposition","attachment"),s.append("key",o.data.ossPath),s.append("policy",o.data.policy),s.append("OSSAccessKeyId",o.data.accessKeyId),s.append("Signature",o.data.signature),s.append("success_action_status",200),s.append("host",o.data.host),s.append("id",o.data.id),a?s.append("file",a,n):r&&s.append("file",r.blob(),n),e.abrupt("return",new Promise((function(e,t){axios.post("https://"+o.data.host,s,{headers:{"Content-Type":"multipart/form-data","X-OSS-server-side-encrpytion":"AES256"},transformRequest:function(e){return e}}).then(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!=n.status){t.next=11;break}return t.next=3,U.report({id:o.data.id,token:o.data.token});case 3:if(a=t.sent,1!=a.success){t.next=8;break}e({code:200,data:{url:"https://"+o.data.cdnDomain+"/"+o.data.ossPath}}),t.next=9;break;case 8:return t.abrupt("return",!1);case 9:t.next=15;break;case 11:r=new Object,r.code=0,r.msg=n.statusText,e(r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){var n=new Object;n.code=0,n.msg=error.message,t(n)}))})));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U.report=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,a=t.token,r={method:"serverless.file.resource.report",params:'{"id":"'+n+'"}',spaceId:U.spaceId,timestamp:Date.now(),token:a},o=U.sign(r),e.abrupt("return",new Promise((function(e,t){axios({method:"POST",url:"https://api.bspapp.com/client",data:r,headers:{"x-serverless-sign":o}}).then((function(t){e(t.data)})).catch((function(e){var n=new Object;n.code=0,n.msg=e.message,t(n)}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var z=U,q={};q.chain=n("bbaf"),q.runEnv=function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)&&"wxwork"!=e.match(/wxwork/i)?"weixin-h5":"wxwork"==e.match(/wxwork/i)?"wework-h5":""},q.getUrlQuery=function(){var e=window.location.href,t=e.split("?")[1]?e.split("?")[1].split("&"):[],n={};return t.forEach((function(e){n[e.split("=")[0]]=e.split("=")[1]})),n},q.uploadFile=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,o,s,i,u,l,d,p,f,m,h,v,g,b,w,k,y,x,_,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.driver,a=void 0===n?"default":n,r=t.signUrl,o=t.url,s=void 0===o?"":o,i=t.filePath,u=t.fileExt,void 0===u?"":u,l=t.file,d=t.blobInfo,p=t.name,f=void 0===p?"file":p,m=t.fileType,void 0===m?"image":m,h=t.header,v=void 0===h?{}:h,g=t.formData,b=void 0===g?new FormData:g,t.success,t.fail,t.complete,w={},k=new XMLHttpRequest,k.withCredentials=!1,e.t0=a,e.next="uniCloud"===e.t0?7:"oss"===e.t0||"upload_oss"===e.t0?17:33;break;case 7:if(y="",l?(y=l.name,i=window.URL.createObjectURL(l)):d&&(y=d.filename(),i=window.URL.createObjectURL(d.blob())),!window.uni){e.next=13;break}return e.abrupt("return",new Promise(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z.uploadFile({filePath:i,cloudPath:Date.parse(new Date)+y,onUploadProgress:function(e){Math.round(100*e.loaded/e.total)}});case 2:a=e.sent,r=new Object,r.code=200,r.msg="上传成功",r.data={url:a.fileID},t(r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 13:return x={filePath:i,filename:y},l?x.file=l:d&&(x.blobInfo=d),e.abrupt("return",new Promise(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z.uploadFile(x);case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 16:return e.abrupt("break",36);case 17:return r||(r="/v1/upload_oss/index/sign"),e.next=20,q.request({url:r,method:"get",header:v});case 20:if(w=e.sent,200!=w.code){e.next=30;break}for(C in s=w.data.params.host,k.open("POST",s),_="",l?_=l.name:d&&(_=d.filename()),w.data.params.key=w.data.params.key+Date.parse(new Date)/1e3+_,w.data.params)b.append(C,w.data.params[C]);e.next=32;break;case 30:return q.showToast({title:w.msg,duration:1500}),e.abrupt("return");case 32:return e.abrupt("break",36);case 33:return k.open("POST",s),v.token?k.setRequestHeader("Authorization",v.token):k.setRequestHeader("Authorization",q.getToken()),e.abrupt("break",36);case 36:return l?b.append(f,l,l.name):d&&b.append(f,d.blob(),d.filename()),e.abrupt("return",new Promise((function(e,t){k.onload=function(){var t,n=new Object;if(n.code=200,n.msg="上传成功",200!=k.status)return q.showToast({title:"上传失败"+k.responseText,duration:1500}),!1;switch(a){case"oss":case"upload_oss":n.data={url:s+"/"+w.data.params.key};break;default:if(t=JSON.parse(k.responseText),!t||"string"!=typeof t.data.url)return q.showToast({title:"上传失败"+k.responseText,duration:1500}),!1;n.data=t.data;break}e(n)},k.send(b)})));case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q.request=function(e){var t=e.method,n=void 0===t?"get":t,a=e.url,r=e.data,o=void 0===r?{}:r,s=e.header,i=void 0===s?{}:s,c=(e.dataType,e.success,e.fail,e.complete,{});return"get"==n&&(c=o),new Promise((function(e,t){axios({method:n,url:a,data:o,params:c,headers:i}).then((function(t){e(t.data)})).catch((function(e){var n=new Object;n.code=0,n.msg=e.message,t(n)}))}))},q.toThousands=function(e){return(e||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},q.formatDate=function(e,t){t||(t="yyyy-MM-dd hh:mm");var n="";if("object"==Object(N["a"])(e))n=e;else{if("number"!=typeof e)return e;n=new Date(1e3*e)}/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var r in a)if(new RegExp("(".concat(r,")")).test(t)){var o=a[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?o:q.padLeftZero(o))}return t},q.padLeftZero=function(e){return("00"+e).substr(e.length)},q.setStorageSync=function(e,t){return localStorage.setItem(e,t)},q.getStorageSync=function(e){return localStorage.getItem(e)},q.removeStorageSync=function(e){return localStorage.removeItem(e)},q.clearStorageSync=function(){return localStorage.clear()},q.navigateTo=function(e){"string"==typeof e?(e&&(e=e),e&&"http"==e.substr(0,4)?window.open(e):window.uni?Ie.$Router.push(e):Ie.$router.push(e)):(e.url&&(e.path=e.url),e.path&&"http"==e.path.substr(0,4)?window.open(e.path):window.uni?Ie.$Router.push(e):Ie.$router.push(e))},q.redirectTo=function(e){var t=e.url;Ie.$router.push(t)},q.reLaunch=function(){var e=window.location.href.split("#");location.href=e[0]},q.switchTab=function(e){var t=e.url;Ie.$router.push(t)},q.navigateBack=function(e){e.delta;Ie.$router.go(-1)},q.showToast=function(e){var t=e.title,n=e.icon,a=void 0===n?"loading":n;e.duration;if(Ie.$message)Ie.$message({message:t,type:a});else switch(a){case"loading":Ie.$Message.error(t);break;case"success":Ie.$Message.success(t);break;case"info":Ie.$Message.info(t);break}},q.showModal=function(e){var t=e.title,n=e.content,a=void 0===n?"":n,r=e.success,o=void 0===r?function(){}:r;e.fail,e.complete;Ie.$Modal.confirm({title:t,content:a,onOk:function(){var e={confirm:!0};o(e)},onCancel:function(){var e={cancel:!0};o(e)}})};var V=q;V.title=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e=e?e+"_"+t:t,window.document.title=e},V.getToken=function(){var e,t;return null===(e=vue.$store.state)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.token},V.baseDomain=function(){return window.location.protocol+"//"+window.location.host},V.baseUrl=function(){return V.baseDomain()+"/api/"};var F=V,B={namespaced:!0,state:{version:"0.3.0",runEnv:"",baseUrl:F.baseUrl(),siteInfo:{id:0,title:"XYStarter",logo:"/logo.png",logoTitle:"/logo.png",slogan:"",description:"",support:"技术支持｜XYCloud",copyright:"Copyright © 2018-2019 jry All Rights Reserved",icp:"苏ICP备18067203号",exTheme:"",iconfig:{},appDownurl:""},createTime:Date.parse(new Date)/1e3,updateTime:Date.parse(new Date)/1e3,uploadDriver:"uniCloud",mainNav:[],mainNavData:{},currentNav:"home",inviteCode:""},getters:{},mutations:{setData:function(e,t){e[t.key]=t.value},setSiteInfo:function(e,t){e.siteInfo=t},setMainNav:function(e,t){e.mainNav=t},setMainNavData:function(e,t){e.mainNavData[t.key]?1==t.pageData.page?e.mainNavData[t.key].dataList=t.dataList:e.mainNavData[t.key].dataList=e.mainNavData[t.key].dataList.concat(t.dataList):e.mainNavData[t.key]=t}},actions:{setSiteInfo:function(e,t){var n=e.commit;n("setSiteInfo",t)}}},H={namespaced:!0,state:{token:"",userInfo:{id:0,nickname:"",avatar:"/logo.png",role:[]}},getters:{},mutations:{setData:function(e,t){e[t.key]=t.value},setToken:function(e,t){e.token=t,localStorage.setItem("token",t)},setUserInfo:function(e,t){e.userInfo=t}},actions:{setData:function(e,t){e[t.key]=t.value},setToken:function(e,t){var n=e.commit;n("setToken",t)},setUserInfo:function(e,t){var n=e.commit;n("setUserInfo",t)}}},J=n("811c");o.a.use(M.a);var X=new M.a.Store({state:{},plugins:[Object(J["a"])({storage:window.localStorage})],mutations:{},actions:{},modules:{app:B,user:H}}),K={};x["RouterMount"]||(RouterMount={}),window.uni?(K=Object(x["createRouter"])({h5:{vueRouterDev:!0,paramsToQuery:!1,vueNext:!1,mode:"history",base:"/",linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",scrollBehavior:function(e,t,n){return{x:0,y:0}},fallback:!0},platform:Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"https://jiangruyi.com",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_PLATFORM,routes:Object(w["a"])(E)}),o.a.use(K)):(K=new y.a({routes:E,base:"/",mode:"history"}),o.a.use(y.a)),K.beforeEach((function(e,t,n){var a="";X.state.app.siteInfo.slogan&&(a="_"+X.state.app.siteInfo.slogan),F.title(e.meta.title,X.state.app.siteInfo.title+a),n()})),K.afterEach((function(e,t,n){window.scrollTo(0,0)}));var Y=n("4328"),Q=n.n(Y),Z=n("04b9"),G=n.n(Z);G.a.defaults.headers.common["CloudId"]="0",G.a.defaults.headers.common["Authorization"]=X.state.user.token;var W="application/json";G.a.defaults.headers.post["Content-Type"]=W,G.a.defaults.headers.put["Content-Type"]=W,G.a.defaults.transformRequest=function(e){return"application/x-www-form-urlencoded"==W?Q.a.stringify(e):"application/json"==W?JSON.stringify(e):void 0};var ee={baseURL:F.baseUrl(),timeout:6e4,withCredentials:!1},te=G.a.create(ee);te.interceptors.request.use((function(e){var t=X.state.user.token;return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),te.interceptors.response.use((function(e){if(401==e.data.code&&(X.commit("setToken",""),F.showModal({title:"提示",content:e.data.msg,success:function(e){}})),200!=e.data.code&&e.data.alert){switch(e.data.alert){case"toast":F.showToast({icon:"loading",title:e.data.msg});break;case"modal":F.showModal({title:"提示",content:e.data.msg,success:function(e){}});break}return!1}return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=te,window.axios=te,Object.defineProperties(e.prototype,{axios:{get:function(){return te}},$axios:{get:function(){return te}}})},o.a.use(Plugin);Plugin,n("5f72"),n("1a7d");var ne=n("0960"),ae=n.n(ne);n("3f29");o.a.use(ae.a);var re=n("7603"),oe=n.n(re),se=(n("02c5"),n("e645")),ie=n.n(se),ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-nav-fixed main-nav-dark",class:e.transparentCurrent?"main-nav-transparent":"",attrs:{id:"main-nav-wrap"}},[n("div",{staticClass:"fix-top"}),n("div",{staticClass:"main-nav"},[n("div",{staticClass:"main-nav-inner",class:{container:e.hasContainer}},[n("div",{staticClass:"flex main-nav-flex"},[n("div",{staticClass:"layout-logo p-r-md",on:{click:function(t){return e.navTo("/")}}},[e.$store.state.app.siteInfo.logoTitle?n("img",{staticClass:"logo",attrs:{src:e.$store.state.app.siteInfo.logoTitle}}):e._e(),e.$store.state.app.siteInfo.logoTitle?e._e():n("span",{staticClass:"title text-primary tw7"},[e._v(" "+e._s(e.$store.state.app.siteInfo.title)+" ")]),n("span",{staticClass:"slogn"}),n("i",{staticClass:"hidden-sm-and-up",class:e.iconview,staticStyle:{"font-size":"22px",cursor:"pointer"},on:{click:e.chanView}})]),n("div",{staticClass:"nav-right flex",class:e.menuview},[n("el-menu",{staticClass:"main-menu",attrs:{"default-active":e.$store.state.app.currentNav,mode:"horizontal"},on:{select:e.mainMenuSelect}},[n("el-menu-item",{attrs:{index:"home"}},[e._v(" 首页 ")]),e._l(e.$store.state.app.mainNav,(function(t,a){return[0==t.isHide?n("el-menu-item",{key:a,attrs:{index:a+""}},[e._v(" "+e._s(t.title)+" ")]):e._e()]}))],2),n("div",{staticClass:"flex flex-alignCenter"},[n("div",{staticClass:"m-r-lg m-l"},[n("el-input",{attrs:{size:"medium",placeholder:"请输入搜索关键词","suffix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e.util.getStorageSync("token")?n("el-menu",{attrs:{mode:"horizontal"}},[n("el-submenu",{attrs:{index:"99"}},[n("template",{slot:"title"},[n("el-avatar",{staticClass:"m-r-xs",attrs:{size:30,src:e.$store.state.user.userInfo.avatar}}),e._v(" "+e._s(e.$store.state.user.userInfo.nickname)+" ")],1),n("el-menu-item",{attrs:{index:"99-1"},on:{click:function(t){return e.navTo("/user/center")}}},[e._v("个人中心")]),n("el-menu-item",{attrs:{index:"99-99"},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("注销登录")])],2)],1):[n("el-menu",{attrs:{mode:"horizontal"}},[n("el-menu-item",[n("el-button",{staticClass:"login-btn",attrs:{type:"text",size:"small"},on:{click:function(t){return e.navTo("/user/login")}}},[e._v("登录")]),n("el-button",{staticClass:"register-btn",attrs:{type:"text",size:"small"},on:{click:function(t){return e.navTo("/user/register")}}},[e._v("注册")])],1)],1)]],2)],1)])])])])},ue=[],le={name:"xy-header",props:{hasContainerProp:{default:!0},offsetTop:{default:500},transparent:{default:!1}},data:function(){return{hasContainer:!0,menuview:"hidden-sm-and-down",iconview:["el-icon-s-unfold","hidden-md-and-up"],keyword:"",transparentCurrent:!1}},created:function(){this.hasContainer=this.hasContainerProp,this.transparentCurrent=this.transparent,0==this.$store.state.app.mainNav.length&&this.loadData(),Date.parse(new Date)/1e3-this.$store.state.app.updateTime>120&&(this.loadData(),this.$store.commit("app/setData",{key:"updateTime",value:Date.parse(new Date)/1e3}),this.$store.commit("app/setData",{key:"mainNavData",value:{}}))},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},computed:{},methods:{handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.transparent&&(e>=this.offsetTop?this.transparentCurrent=!1:this.transparentCurrent=!0)},navTo:function(e){this.util.navigateTo(e)},mainMenuSelect:function(e,t){this.$store.commit("app/setData",{key:"currentNav",value:e}),"home"!=e?2==this.$store.state.app.mainNav[e].cateType?window.open(this.$store.state.app.mainNav[e].url):this.util.navigateTo(this.$store.state.app.mainNav[e].name):this.util.navigateTo("/")},chanView:function(){""!=this.menuview?(this.iconview[0]="el-icon-s-fold",this.menuview=""):(this.iconview[0]="el-icon-s-unfold",this.menuview="hidden-sm-and-down")},loadData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/icms/cate/lists",method:"get"});case 2:n=t.sent,200==n.code?e.$store.commit("app/setMainNav",n.data.dataList):e.$Message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},logout:function(){this.$store.dispatch("user/setToken",""),this.$store.dispatch("user/setUserInfo","");axios.delete("/v1/core/user/logout").then((function(e){var t=e.data;"200"==t.code||alert(t.msg)})).catch((function(e){console.log(e)}))}},watch:{}},de=le,pe=(n("12f5"),Object(d["a"])(de,ce,ue,!1,null,"851524ea",null)),fe=pe.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"foot-info"},[n("div",{staticClass:"container"},[n("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{staticClass:"contact-main",attrs:{xs:24,sm:14,md:14}},[n("div",{staticClass:"line1"},[e._v("官方邮箱 "),n("span",{staticClass:"value"},[e._v("ijry@qq.com")])]),n("div",[e._v("官方微信"),n("span",{staticClass:"value"},[e._v("--")])])]),n("el-col",{staticClass:"right",attrs:{xs:24,sm:10,md:10}},[n("div",{staticClass:"nav-list"},[n("router-link",{attrs:{to:"/agreement/用户协议"}},[e._v(" 用户协议 ")]),n("router-link",{attrs:{to:"/agreement/隐私条款"}},[e._v(" 隐私条款 ")]),n("router-link",{attrs:{to:"/post/help"}},[e._v(" 常见问题 ")]),n("router-link",{attrs:{to:"/post/about"}},[e._v(" 关于我们 ")])],1)])],1)],1)]),n("div",{staticClass:"footer-bottom"},[n("div",{staticClass:"container"},[n("el-row",{staticClass:"inner",attrs:{type:"flex",justify:"center",align:"middle"}},[n("div",[e._v(" "+e._s(e.$store.state.app.siteInfo.copyright)+" "),e.$store.state.app.siteInfo.icp?n("a",{staticClass:"m-l",attrs:{target:"_blank",href:"http://www.beian.miit.gov.cn"}},[e._v(e._s(e.$store.state.app.siteInfo.icp))]):e._e()])])],1)])])},he=[],ve={name:"xy-footer",data:function(){return{}},created:function(){},mounted:function(){},computed:{},methods:{},watch:{}},ge=ve,be=(n("b514"),Object(d["a"])(ge,me,he,!1,null,"a0189fa2",null)),we=be.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"subnav-wrap"}},[n("div",{staticClass:"subnav bg-white"},[n("div",{staticClass:"container"},[n("div",{staticClass:"subnav-inner flex"},[e._t("left",[n("div",{staticClass:"left"},[e.title?n("span",{staticClass:"title"},[e._v(" "+e._s(e.title)+" ")]):e._e(),e._t("menu",[n("div",{staticClass:"menu"},[n("el-menu",{staticClass:"sub-menu",attrs:{"default-active":e.value+"",mode:"horizontal"},on:{select:e.menuSelect}},e._l(e.navList,(function(t,a){return n("el-menu-item",{key:t.index,class:e.value==t.index?"active":"",attrs:{index:t.index?t.index:a+""}},[e._v(" "+e._s(t.title)+" ")])})),1),n("div",{staticClass:"flex"})],1)])],2)]),e._t("right")],2)])])])},ye=[],xe=(n("a9e3"),{name:"subnav",props:{hasContainerProp:{default:!0},title:{type:String,default:""},navList:{type:Array,default:function(){return[]}},value:{type:[String,Number],default:""}},data:function(){return{}},created:function(){},computed:{},methods:{menuSelect:function(e,t){this.$emit("input",e),this.$emit("change",e)}},watch:{}}),_e=xe,Ce=(n("4c35"),Object(d["a"])(_e,ke,ye,!1,null,"3e21c2a9",null)),Te=Ce.exports,Se=n("a4e1"),Oe=n.n(Se);o.a.prototype.util=F,o.a.config.productionTip=!1,o.a.filter("formatTime",(function(e,t){return F.formatDate(e,t)})),o.a.filter("toThousands",(function(e){return F.toThousands(e)})),o.a.use(oe.a),o.a.use(ie.a),o.a.component("xy-header",fe),o.a.component("xy-footer",we),o.a.component("xy-subnav",Te),window.uni||(o.a.use(Oe.a),o.a.use(VueAMap),VueAMap.initAMapApiLoader({key:"124df699d03419df04cd005d139dbf57",plugin:["AMap.Autocomplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.MapType","AMap.Geolocation","AMap.Geocoder","AMap.PolyEditor","AMap.CircleEditor"],v:"1.4.4"})),f.mpType="app";var De=new o.a(Object(a["a"])({router:K,store:X,i18n:g},f));window.uni?Object(x["RouterMount"])(De,K,"#app"):De.$mount("#app");var Ie=t["default"]=De},5880:function(e,t){e.exports=Vuex},"5f72":function(e,t){e.exports=Element},6:function(e,t){},6389:function(e,t){e.exports=VueRouter},7:function(e,t){},"7c55":function(e,t,n){"use strict";var a=n("2395"),r=n.n(a);r.a},8:function(e,t){},"85b3":function(e,t){e.exports=VueI18n},"8b3b":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},9:function(e,t){},b514:function(e,t,n){"use strict";var a=n("ec5c"),r=n.n(a);r.a},b579:function(e){e.exports=JSON.parse('{"message":"hello i18n !!"}')},bc49:function(e,t,n){},d274:function(e,t){var n=16;function a(){var e=1;e=document.documentElement.clientWidth/1920/.8,document.documentElement.style.fontSize=n*Math.min(e,1)+"px"}a(),window.onresize=function(){a()}},ec5c:function(e,t,n){}});