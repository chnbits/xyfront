(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manifest"],{"02be":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{staticClass:"backOperation"},[a("a",{attrs:{href:"#"},on:{click:function(t){return e.$router.back(-1)}}},[e._v(" 返回上一级 "),a("span",{staticStyle:{display:"inline-block","margin-left":"5px"}},[e._v(">>")])]),a("span"),a("p",[e._v("账户设置 > 充值 > "+e._s(e.payTypeList[e.payType].name)+"支付")])]),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"payleft"},[a("h4",[e._v("请打开"+e._s(e.payTypeList[e.payType].name)+"app进行扫码支付")]),a("p",[e._v(" 充值金额: "),a("span",[e._v("¥")]),a("span",{staticClass:"money"},[e._v(e._s(e.money))])]),a("p",[e._v(" 订单号： "),a("span",{staticClass:"order"},[e._v(e._s(e.orderNum))])]),a("div",{staticClass:"erweimabox"},[a("div",[a("xy-qrcode",{staticClass:"qrcode",style:{opacity:e.timeout?.3:1},attrs:{value:e.payString,options:{width:190,margin:0}}})],1),a("div",{staticClass:"wenzi flex space-bwtween"},[e._m(0),a("div",[a("span",[e._v("打开手机"+e._s(e.payTypeList[e.payType].name))]),a("span",[e._v("扫一扫进行付款")])])])]),a("div",{staticClass:"successcreated flex space-between1"},[a("span",{staticClass:"xyicon xyicon-check3 text-primary"}),a("div",[a("p",[a("span",[e._v(e._s(e.$store.state.user.userInfo.nickname))]),a("span",[e._v("已成功创建订单")])]),a("p",[e._v("请尽快在手机"+e._s(e.payTypeList[e.payType].name)+"上完成付款")])])])]),a("div",{staticClass:"middle"},[a("img",{attrs:{src:e.payTypeList[e.payType].img,alt:""}})])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-scan text-primary"})])}],r=a("147d"),n={name:"Wxpay",components:{"xy-qrcode":r["a"]},data:function(){return{payType:"",payTypeList:{alipay:{name:"支付宝",img:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/331b4005-3a99-45e9-adda-880a2d56656f.png"},wxpay:{name:"微信",img:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/e09f305d-52b5-4ccc-a2ee-2f3be3dc7186.png"}},orderNum:686457867545677,money:"0",payString:"https://uniadmin.jiangruyi.com"}},created:function(){var e=this.util.getUrlQuery();this.payType=e.payType,this.orderNum=e.tradeNo,this.payString=decodeURIComponent(e.payString),this.money=e.realMoney},filters:{orderNumLize:function(e){return e?(e=e.substr(0,2)+"******"+e.substr(11),e):""}},methods:{getPayResult:function(){}}},o=n,l=(a("f907"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"4fd8e25c",null);t["default"]=c.exports},"05e7":function(e,t,a){"use strict";a("fecd")},"0700":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"min-height":"300px"},attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("热门")])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"case-list",staticStyle:{"min-height":"300px"},attrs:{"element-loading-text":"拼命加载中"}},e._l(e.dataListHot,(function(t,i){return a("div",{key:i,staticClass:"item p-b-xs border-bottom_1px"},[a("div",{staticClass:"bg-white"},[a("div",{staticClass:"title ts-14",on:{click:function(a){return e.util.navigateTo({url:"/ask/"+t.id})}}},[e._v(e._s(t.title))]),a("div",{staticClass:"info flex space-between text-gray ts-12"},[a("div",[e._v(e._s(t.userInfo.nickname))]),a("div",[e._v(e._s(t.viewCount)+"次浏览")])]),a("div",{staticClass:"subtitle text-gray ts-12"},[e._v(e._s(t.subtitle))])])])})),0)])],1)},s=[],r=a("1da1"),n=(a("96cf"),{name:"hotAsk",data:function(){return{loading:!1,dataListNew:[],dataListHot:[]}},props:{cateId:0},created:function(){this.loadHot()},watch:{cateId:function(e){this.loadHot()}},methods:{loadHot:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.cateId){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.util.request({url:"/v1/icms/post/lists/"+e.cateId,data:{siteRec:"hot"},method:"get"});case 5:a=t.sent,200==a.code?e.dataListHot=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("6127"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"e49b0ff8",null);t["a"]=c.exports},"0853":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"登录密码",description:""}}),a("el-step",{attrs:{title:"验证新手机",description:""}}),a("el-step",{attrs:{title:"绑定成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"0px"}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.verifyPassword}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"mobile",label:"请输入手机号"}},[a("el-input",{attrs:{size:"medium",type:"text",prefix:"ios-at-outline",placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onCountrySelect}})],1)],2)],1),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/sms/verify/send",type:"手机号",account:e.form.mobile,title:"手机绑定"},on:{verifysuccess:e.getVerifyToken}})],1)],1)]),e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{prop:"emailVerify"}},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"手机绑定"},on:{verifysuccess:e.getEmailVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确定 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到短信验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实手机是否已欠费停机，或者屏蔽了系统短信。"),a("br"),e._v(" 3、如果手机已丢失或停用， 请选择其他验证方式 。"),a("br"),e._v(" 4、您也可以尝试将SIM卡移动到另一部手机，然后重试。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("绑定手机号成功。")])])}],r=a("1da1"),n=(a("b0c0"),a("96cf"),a("160b")),o=a("3a69"),l=a("4167"),c=a.n(l),u={mixins:[o["default"]],components:{XySendVerify:n["a"],VueCountryCode:c.a},data:function(){return{active:1,verifyList:[],loading:!1,form:{countryCode:"+86",mobile:"",password:"",verify:"",token:"",email:"",emailVerify:"",emailToken:"",gauth:""},rule:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{verifyPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.doVerifyPassword();case 2:a=t.sent,"200"==a.code&&e.active++;case 4:case"end":return t.stop()}}),t)})))()},onCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.form.countryCode="+"+t},getVerifyToken:function(e){this.form.token=e.token},getEmailVerifyToken:function(){this.form.emailToken=res.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/reg_mobile/user/bind",method:"get"});case 2:a=t.sent,"200"==a.code?e.verifyList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_mobile/user/bind",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},d=u,m=(a("4f54"),a("2877")),p=Object(m["a"])(d,i,s,!1,null,"2776e01d",null);t["default"]=p.exports},"0ad3":function(e,t,a){},"0b0b":function(e,t,a){"use strict";a("23f6")},"0c84":function(e,t,a){},"0d5b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("div",{staticClass:"top-tip"},[e._v(" 为了您的帐号安全，在修改账号密码前，您需要先验证登录邮箱或绑定手机号或密码验证。 ")]),a("div",{staticClass:"title"},[e._v(" 选择验证方式: ")]),a("div",{staticClass:"flex flex-wrap"},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?a("div",{staticClass:"choose-box"},[a("div",{staticClass:"title"},[e._v("邮箱验证")]),a("div",{staticClass:"subtitle"},[e._v("我们将发送验证码到您的邮箱进行验证")]),a("router-link",{attrs:{to:"/reg_email/user/editPassword"}},[a("el-button",{staticClass:"primary-linear",attrs:{type:"primary",size:"medium",round:""}},[e._v("立即验证")])],1)],1):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?a("div",{staticClass:"choose-box"},[a("div",{staticClass:"title"},[e._v("手机验证")]),a("div",{staticClass:"subtitle"},[e._v("如手机可以接收短信，可选择此验证方法")]),a("router-link",{attrs:{to:"/reg_mobile/user/editPassword"}},[a("el-button",{staticClass:"primary-linear",attrs:{type:"primary",size:"medium",round:""}},[e._v("立即验证")])],1)],1):e._e(),a("div",{staticClass:"choose-box"},[a("div",{staticClass:"title"},[e._v("密码验证")]),a("div",{staticClass:"subtitle"},[e._v("输入当前密码进行验证")]),a("router-link",{attrs:{to:"/reg_username/user/editPassword"}},[a("el-button",{staticClass:"primary-linear",attrs:{type:"primary",size:"medium",round:""}},[e._v("立即验证")])],1)],1)])])]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到短信验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实手机是否已欠费停机，或者屏蔽了系统短信。"),a("br"),e._v(" 3、如果手机已丢失或停用， 请选择其他验证方式 。"),a("br"),e._v(" 4、您也可以尝试将SIM卡移动到另一部手机，然后重试。"),a("br")])])],1)])},s=[],r={data:function(){return{}},created:function(){},watch:{},methods:{}},n=r,o=(a("3680"),a("2877")),l=Object(o["a"])(n,i,s,!1,null,"039e5f7e",null);t["default"]=l.exports},"0d90":function(e,t,a){"use strict";a("d5fb")},"0f69":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"8%"}},[a("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 重置资金密码 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"paypwd"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位支付密码"},model:{value:e.form.paypwd,callback:function(t){e.$set(e.form,"paypwd",t)},expression:"form.paypwd"}})],1),e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"重置资金密码"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"重置资金密码"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确认 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{verifyList:[],loading:!1,form:{paypwd:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{paypwd:[{required:!0,message:"请填写支付密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/paypwd/pwd/change",method:"get"});case 2:a=t.sent,"200"==a.code?e.verifyList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/paypwd/pwd/change",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateBack()):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"7a5f8772",null);t["default"]=u.exports},1009:function(e,t,a){},"10ef":function(e,t,a){},1107:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loadedScript?a("Captcha",{attrs:{id:e.id,scene:e.capthaOptions.scene,type:e.capthaOptions.type,parm:e.capthaOptions.options,url:e.capthaOptions.url},on:{callback:e.callback,"!click":function(t){return e.doClick.apply(null,arguments)}}},[e._t("default",(function(){return[a("input",{attrs:{id:e.id,type:"button",value:"点击验证"}})]}))],2):e._e()},s=[],r=a("1da1"),n=(a("d3b7"),a("96cf"),{name:"XyCaptha",props:{id:{type:String,default:"Captcha"},scene:{type:String,default:"common"},type:{type:String,default:""},url:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{loadedScript:!1,capthaOptions:{scene:"common",type:"",url:"",options:{}}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadScript();case 2:Vue.component("Captcha",window["vue-social-captcha"].default),e.loadedScript=!0;case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){this.type?this.capthaOptions=Object.assign(this.capthaOptions,this.$props):this.capthaOptions=Object.assign(this.capthaOptions,this.util.getCapthaOptions())},methods:{callback:function(e,t){switch(e){case 1:this.$emit("success",t);break;case 0:if(1!=t.CaptchaCode)return void this.$emit("success",t);this.$emit("success",t);break;default:break}},doClick:function(e){alert(),e.stopPropagation(),this.capthaOptions.type||this.$emit("success")},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdn.jsdelivr.net/gh/QQOQ/vue-social-captcha/dist/vue-social-captcha.umd.js").then((function(){t()}))}))}}}),o=n,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"d5c3ebb8",null);t["a"]=c.exports},1146:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("el-row",{staticClass:"user-info m-b flex flex-wrap",attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{attrs:{xs:12,sm:4}},[a("div",{staticClass:"avatar-box flex flex-alignCenter"},[a("div",[a("img",{staticClass:"avatar",attrs:{src:e.$store.state.user.userInfo.avatar,alt:"avatar"}})]),a("div",[a("div",{staticClass:"nickname"},[e._v(e._s(e.$store.state.user.userInfo.nickname))]),a("div",{staticClass:"uid"},[e._v("UID: "+e._s(e.$store.state.user.userInfo.id))])])])]),a("el-col",{staticClass:"count-list flex",attrs:{xs:12,sm:5}},[a("div",{staticClass:"item"},[a("div",{staticClass:"title"},[e._v("粉丝")]),a("div",{staticClass:"value"},[e._v("0")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"title"},[e._v("关注")]),a("div",{staticClass:"value"},[e._v("0")])])])],1),a("userLoginHoistory")],1)])},s=[],r=a("1da1"),n=(a("96cf"),a("52b3")),o={components:{userLoginHoistory:n["default"]},data:function(){return{}},created:function(){},methods:{loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/core/user/center",data:{},method:"get"});case 2:a=t.sent,200==a.code||e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("81d7"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"6ca57285",null);t["default"]=u.exports},"114b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-list"},[e.listData.alertList&&e.listData.alertList.top?e._l(e.listData.alertList.top,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:e._s(t.desc)}})])})):e._e(),[e.listData.countList?a("el-row",{attrs:{type:"flex",justify:"start",align:"top"}},e._l(e.listData.countList,(function(t,i){return a("el-col",{key:i,attrs:{xs:12,xl:t.item.xl?t.item.xl:6,xxl:4}},[a("el-row",{staticClass:"count-item",style:{backgroundColor:t.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("el-col",{staticClass:"left"},[a("i",{staticClass:"icon",class:t.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.item.title,expression:"it.item.title"}]},[e._v(e._s(t.item.title))])]),a("el-col",{staticClass:"right",style:{backgroundColor:t.item.bgColorRight||"#fff",color:t.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[e._v(e._s(t.current.value))]),a("span",{staticClass:"suffix"},[e._v(e._s(t.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.value,expression:"it.content.value"}],staticClass:"value"},[e._v(e._s(t.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.list,expression:"it.content.list"}],staticClass:"list"},e._l(t.content.list,(function(t,i){return a("div",{key:i,staticClass:"cell"},[e._v(" "+e._s(t.title)+"："+e._s(t.value)+" ")])})),0)])])],1)],1)})),1):e._e(),e._l(e.listData.topButtonList,(function(t,i){return[a("transition",{key:"top_modal_"+i,attrs:{name:"el-zoom-in-top"}},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"top_modal_"+t.name,refInFor:!0,attrs:{"close-on-click-modal":!!t.pageData.hasOwnProperty("modalClosable")&&t.pageData.modalClosable,"append-to-body":!0,visible:t.pageData.show,width:t.pageData.width||"800px",title:t.pageData.title},on:{open:e.dialogOpen,close:e.dialogClose,"update:visible":function(a){return e.$set(t.pageData,"show",a)}}},["form"==t.pageData.modalType?[a("XyBuilderForm",{ref:"top_form_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}})]:"list"==t.pageData.modalType?[a("XyBuilderList",{ref:"top_list_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev}})]:"remote"==t.pageData.modalType?[a("XyBuilderRemote",{ref:"top_remote_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,outUrl:t.pageData.outUrl,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}})]:e._e()],2)],1)]})),a("div",{staticClass:"tool-box",style:{display:e.listData.filterItems&&e.listData.filterItems.length>2?"block":"flex",justifyContent:"space-between"}},[e._l(e.listData.topButtonList,(function(t,i){return a("div",{key:"button"+i,staticClass:"top-button-list"},["print"==t.pageData.modalType?a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#table-box",expression:"'#table-box'"}],attrs:{type:t.style.type||"default",size:t.style.size||"small"}},[e._v(" "+e._s(t.title)+" ")]):a("el-button",{staticStyle:{"margin-bottom":"10px","margin-right":"10px"},attrs:{"empty-text":"当前没有数据",type:t.style.type||"default",size:t.style.size||"small",icon:t.style.icon},on:{click:function(t){return e.topButtonModal(i)}}},[e._v(" "+e._s(t.title)+" ")])],1)})),e.listData.filterItems&&e.listData.filterItems.length>0?a("div",{staticClass:"filter-list flex-1 flex",style:{justifyContent:e.listData.filterItems&&e.listData.filterItems.length>2?"flex-start":"flex-end"},attrs:{gutter:16}},[a("el-form",{ref:"formFilter",attrs:{"label-position":"left","label-width":"80px",inline:!0,size:"small",model:e.filterValues}},[e._l(e.listData.filterItems,(function(t,i){return[a("el-form-item",{key:i,staticClass:"filter-item",attrs:{label:t.title+":"}},["text"==t.type?[a("el-input",{attrs:{type:"text",placeholder:t.extra.placeholder},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.loadData())}},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"select"==t.type?[a("el-select",{attrs:{clearable:"",filterable:""},on:{"on-change":function(t){return e.loadData()}},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}},e._l(t.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==t.type?[a("el-radio-group",{model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}},e._l(t.extra.options,(function(t,i,s){return a("el-radio",{key:s,attrs:{label:t.value}},[a("span",[e._v(e._s(t.title))])])})),1)]:"checkbox"==t.type?[a("el-checkbox-group",{model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}},e._l(t.extra.options,(function(t,i,s){return a("el-checkbox",{key:s,attrs:{label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"datepicker"==t.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"timepicker"==t.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间","value-format":t.extra.format||"HH:mm:ss"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"timerangepicker"==t.type?[a("el-time-select",{attrs:{type:"timerange","is-range":"",placeholder:"选择时间区间","value-format":t.extra.format||"HH:mm:ss"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"datetimepicker"==t.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"daterangepicker"==t.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:"datetimerangepicker"==t.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.filterValues[t.name],callback:function(a){e.$set(e.filterValues,t.name,a)},expression:"filterValues[item.name]"}})]:e._e()],2)]})),[a("el-form-item",{staticClass:"filter-item ",attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData()}}},[e._v("查询")]),e.listData.filterExtra&&e.listData.filterExtra.exportBtn?e._l(e.listData.filterExtra.exportBtn,(function(t,i){return a("el-button",{key:i,staticClass:"m-l-xs",attrs:{type:t.type||"primary"},on:{click:function(t){return e.handleFilterExport(i)}}},[e._v(" "+e._s(t.title||"导出")+" ")])})):e._e()],2)]],2)],1):e._e()],2),e.listData.config.tableTitle?a("div",{staticClass:"m-b-sm table-title text-center",staticStyle:{"font-family":"SimSun"}},e._l(e.listData.config.tableTitle,(function(t,i){return a("div",{key:i,staticClass:"ts-30",style:{width:t.width}},[e._v(" "+e._s(t.value)+" ")])})),0):e._e(),e.listData.config.tableBefore?a("div",{staticClass:"m-b-sm table-title text-center flex space-around",staticStyle:{"font-family":"SimSun"}},e._l(e.listData.config.tableBefore,(function(t,i){return a("div",{key:i,staticClass:"ts-14"},[a("span",[e._v(e._s(t.title)+"：")]),a("span",[e._v(e._s(t.value))])])})),0):e._e(),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"table-box",style:{minHeight:e.loading?"100px":"0"},attrs:{id:"table-box","element-loading-text":"拼命加载中"}},[e.listData.config.listAsTiemline||e.loading||!e.ready?e._e():a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:e.listData.dataList,"row-key":"id","srow-key":e.listData.dataListParams?e.listData.dataListParams.expandKey:"id",border:"",stripe:"","tree-props":{children:"children",hasChildren:"hasChildren"},"default-expand-all":!(!e.listData.config||!e.listData.config.listExpandAll)&&e.listData.config.listExpandAll},on:{"cell-click":e.cellClick,select:e.selectRow,"selection-change":e.handleSelectionChange,"select-all":e.selectAll}},[e.listData.dataListParams&&e.listData.dataListParams.selectable?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),e._l(e.listData.columns,(function(t,i,s){return[t.children&&0!=t.children.length?[a("el-table-column",{key:s,attrs:{label:t.title}},[e._l(t.children,(function(t,i,s){return[t.children&&t.children.length>0?[a("el-table-column",{key:s,attrs:{label:t.title}},[e._l(t.children,(function(e,t,i){return[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"}},[void 0],2)]}))],2)]:[a("el-table-column",{key:s,attrs:{prop:t.name,label:t.title,width:t.extra.width,"min-width":t.extra.minWidth||"50px"},scopedSlots:e._u([{key:"default",fn:function(i){return[a("table-column",{key:s,attrs:{myscope:i,mycolitem:t,header:e.header,pitem:e.pitem,listData:e.listData,currentItem:e.currentItem}})]}}],null,!0)})]]}))],2)]:[a("el-table-column",{key:s,attrs:{type:"id"==t.extra.type?"index":"default",fixed:"fui"!=e.$store.state.menu.adminTheme&&"rightButtonList"==t.extra.type&&"right",prop:t.name,label:t.title,width:t.extra.width?t.extra.width:void 0,"min-width":t.extra.minWidth&&"rightButtonList"!=t.extra.type?t.extra.minWidth:void 0},scopedSlots:e._u([{key:"default",fn:function(i){return[a("table-column",{attrs:{myscope:i,mycolitem:t,header:e.header,pitem:e.pitem,listData:e.listData,currentItem:e.currentItem}})]}}],null,!0)})]]}))],2),e.listData.config.listAsTiemline?a("div",[a("el-timeline",e._l(e.listData.dataList,(function(t,i){return a("el-timeline-item",{key:i,attrs:{timestamp:t[e.listData.config.listAsTiemline?e.listData.config.listAsTiemline:"createTime"],placement:"top"}},[a("el-card",[t.title?a("h4",[e._v(e._s(t.title))]):e._e(),e._l(e.listData.columns,(function(i,s){return a("div",{key:s},[i.name!=e.listData.config.listAsTiemline?a("p",["tag"==i.extra.type?[i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))]?[a("span",[e._v(e._s(i.title)+"：")]),a("el-tag",{attrs:{hit:!1,size:"mini",effect:i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].effect||"dark",type:i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].type||"",color:i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].color||"default"}},[e._v(" "+e._s(i.extra.options[e.getArrayIndex(i.extra.options,e.getVal({row:t},i))].title||e.getVal({row:t},i))+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[e._v(" "+e._s(t[i.name])+" ")])]]:"rightButtonList"==i.extra.type?[a("el-table-column",{key:e.colkey,attrs:{fixed:(!e.$store.state.menu||"fui"!=e.$store.state.menu.adminTheme)&&"right",prop:i.name,label:i.title,width:i.extra.width}},[[a("div",[a("span",[e._v(e._s(i.title)+"：")]),e._l(e.listData.rightButtonList,(function(s,r){return[t[i.name]?[t[i.name].includes(s.name)?[a("a",{key:"rbutton"+r,class:"default"==s.style.type?"":"text-"+s.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:s.style.type,size:s.style.size,icon:s.style.icon},on:{click:function(a){return e.rightButtonModal(r,{row:t})}}},[e._v(" "+e._s(s.title)+" ")])]:e._e()]:[e.showByCondition(s,t)?a("a",{key:"rbutton"+r,class:"default"==s.style.type?"":"text-"+s.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:s.style.type,size:s.style.size,icon:s.style.icon},on:{click:function(a){return e.rightButtonModal(r,{row:t})}}},[e._v(" "+e._s(s.title)+" ")]):e._e()]]}))],2)]],2)]:[a("span",[e._v(e._s(i.title)+"：")]),e._v(e._s(t[i.name])+" ")]],2):e._e()])}))],2)],1)})),1)],1):e._e()],1),a("div",{staticClass:"flex space-between flex-alignCenter"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.listData.dataPage.total>0,expression:"listData.dataPage.total > 0"}],staticClass:"text-left m-t-sm m-b-sm",attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-size":e.limit,"current-page":e.page,total:e.listData.dataPage.total},on:{"current-change":e.pageChange,"size-change":e.limitChange,"update:pageSize":function(t){e.limit=t},"update:page-size":function(t){e.limit=t},"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}}),a("div",{staticClass:"p-l-lg p-r-lg"},[e.$store.state.menu&&"fui"==e.$store.state.menu.adminTheme?a("dv-decoration-2",{staticStyle:{width:"50%",height:"3px"}}):e._e()],1)],1),a("div",{staticClass:"dialog-pool"},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.currentItem.pageData.show,width:e.currentItem.pageData.width||"900",title:e.currentItem.pageData.title},on:{open:e.dialogOpen,close:e.dialogClose,"update:visible":function(t){return e.$set(e.currentItem.pageData,"show",t)}}},[e.currentItem.pageData.show?["list"==e.currentItem.pageData.modalType?a("XyBuilderList",{ref:"dialog-pool-list",attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem,showDev:e.showDev}}):"form"==e.currentItem.pageData.modalType?a("XyBuilderForm",{ref:"dialog-pool-form",attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem,showDev:e.showDev}}):"htmls"==e.currentItem.pageData.modalType?a("div",e._l(e.currentItem.pageData.predata,(function(t,i){return a("div",{key:i,domProps:{innerHTML:e._s(t)}})})),0):"table"==e.currentItem.pageData.modalType?a("div",[a("el-table",{attrs:{data:e.currentItem.pageData.predata.data,border:"",stripe:""}},e._l(e.currentItem.pageData.predata.columns,(function(e){return a("el-table-column",{key:e.name,attrs:{prop:e.name,label:e.title,width:e.width}})})),1)],1):e._e()]:e._e()],2)],1),e._l(e.listData.rightButtonList,(function(t,i){return a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],key:"right_modal_"+i,ref:"right_modal_"+t.name,refInFor:!0,attrs:{"close-on-click-modal":!0===t.pageData.modalClosable,"append-to-body":!0,visible:t.pageData.show,width:t.pageData.width||"700",title:t.pageData.title},on:{open:e.dialogOpen,close:e.dialogClose,"update:visible":function(a){return e.$set(t.pageData,"show",a)}}},["form"==t.pageData.modalType?[t.pageData.show?a("XyBuilderForm",{ref:"right_form_"+i,refInFor:!0,attrs:{api:t.pageData.apiBlank,show:t.pageData.show,header:e.header,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}}):e._e()]:"list"==t.pageData.modalType?[a("XyBuilderList",{ref:"right_list_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:"info"==t.pageData.modalType?[a("XyBuilderInfo",{ref:"right_info_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:"tab"==t.pageData.modalType?[a("XyBuilderTab",{ref:"right_info_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t}})]:"stack"==t.pageData.modalType?[a("XyBuilderStack",{ref:"right_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:"remote"==t.pageData.modalType?[a("XyBuilderRemote",{ref:"right_remote_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,outUrl:t.pageData.outUrl,show:t.pageData.show,pitem:t,showDev:e.showDev},on:{close:function(a){return e.closeModel(t,a)}}})]:"col"==t.pageData.modalType?[a("XyBuilderCol",{ref:"right_remote_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,pitem:t,showDev:e.showDev}})]:e._e()],2)})),1==this.showActions?a("div",[a("el-divider"),a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submit()}}},[e._v(" 确认选择 ")]),a("el-button",{attrs:{type:"text",size:"default"},on:{click:function(t){return e.cancel()}}},[e._v(" 取消操作 ")])],1):e._e()],e.listData.alertList&&e.listData.alertList.bottom?[a("div",e._l(e.listData.alertList.bottom,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:e._s(t.desc)}})])})),1)]:e._e()],2)},s=[],r=a("5530"),n=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("a15b"),a("4328")),l=a.n(o),c={name:"check",data:function(){return{hasCheckAll:!1,currentSelected:-1,currentSelecteds:[]}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{selectRow:function(e,t){var a,i,s,r;"radio"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)?(this.$refs.dataTable.clearSelection(),this.$refs.dataTable.toggleRowSelection(t,!0),this.currentSelected=t.id):"checkbox"==(null===(s=this.listData)||void 0===s||null===(r=s.dataListParams)||void 0===r?void 0:r.selectType)&&t.children&&this.checkChildRows(t.children)},handleSelectionChange:function(e){var t,a;if("checkbox"==(null===(t=this.listData)||void 0===t||null===(a=t.dataListParams)||void 0===a?void 0:a.selectType)){var i=[];e.forEach((function(e){i.push(e.id)})),this.currentSelecteds=i}},selectAll:function(){var e,t,a,i;"radio"==(null===(e=this.listData)||void 0===e||null===(t=e.dataListParams)||void 0===t?void 0:t.selectType)?this.$refs.dataTable.clearSelection():"checkbox"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)&&(this.hasCheckAll?(this.checkChildRows(this.listData.dataList,!1),this.hasCheckAll=!1):(this.checkChildRows(this.listData.dataList),this.hasCheckAll=!0))},checkChildRows:function(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){t.$refs.dataTable.toggleRowSelection(e,a),e.children&&t.checkChildRows(e.children,a)}))},checkRows:function(e){var t=this;e.forEach((function(e){t.currentSelecteds&&t.currentSelecteds.indexOf(e.id)>=0&&t.$refs.dataTable.toggleRowSelection(e,!0),e.children&&t.checkRows(e.children)}))},submit:function(){var e,t;"checkbox"==(null===(e=this.listData)||void 0===e||null===(t=e.dataListParams)||void 0===t?void 0:t.selectType)?this.$emit("input",this.currentSelecteds):this.$emit("input",this.currentSelected),this.$emit("close-model")}}},u=(a("b0c0"),{name:"inlineEdit",data:function(){return{editFaild:[]}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{cellChange:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s,r,n,o,l,c,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(null!==t&&void 0!==t&&null!==(s=t.extra)&&void 0!==s&&s.url){i.next=3;break}return a.util.showToast({title:"未设置修改接口",icon:"error",duration:2e3}),i.abrupt("return",!1);case 3:return i.next=5,a.util.request({url:null===t||void 0===t||null===(r=t.extra)||void 0===r?void 0:r.url,method:"PUT",data:{table:null===(n=a.listData)||void 0===n||null===(o=n.dataListParams)||void 0===o?void 0:o.tableName,field:t.name,newval:e.row[t.name],id:e.row.id},header:{CloudId:null===(l=a.header)||void 0===l?void 0:l.cloudId,Eid:null===(c=a.header)||void 0===c?void 0:c.eid}});case 5:u=i.sent,200==u.code?(a.util.showToast({title:u.msg,icon:"success",duration:1e3}),a.current.row={},a.current.column={}):a.util.showToast({title:u.msg,icon:"error",duration:2e3});case 8:case"end":return i.stop()}}),i)})))()},changeCheckbox:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.column.extra.url?e.column.extra.url:"/v1/admin/core/index/editField",(null===(i=t.header)||void 0===i?void 0:i.cloudId)>0&&(o=e.column.extra.url?e.column.extra.url:"/v1/iadmin/core/index/editField"),(null===(s=t.header)||void 0===s?void 0:s.Eid)>0&&(o=e.column.extra.url?e.column.extra.url:"/v1/eadmin/core/index/editField"),a.next=6,t.util.request({url:o,method:"PUT",data:{table:t.listData.dataListParams.tableName,field:e.column.name,newval:scope.row[e.column.name],id:scope.row.id},header:{CloudId:null===(r=t.header)||void 0===r?void 0:r.cloudId,Eid:null===(n=t.header)||void 0===n?void 0:n.eid}});case 6:l=a.sent,200==l.code?t.$Message.success(l.msg):t.$Message.error(l.msg);case 8:case"end":return a.stop()}}),a)})))()},changeSwitch:function(e,t,a){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var r,n,o,l,c,u,d,m,p;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(i.listData.dataListParams.tableName){s.next=3;break}return i.util.showToast({title:"未设置表名",icon:"error",duration:2e3}),s.abrupt("return",!1);case 3:return u=(null===a||void 0===a||null===(r=a.extra)||void 0===r?void 0:r.url)||"/v1/admin/core/index/editField",(null===(n=i.header)||void 0===n?void 0:n.cloudId)>0&&(u=(null===a||void 0===a||null===(d=a.extra)||void 0===d?void 0:d.url)||"/v1/iadmin/core/index/editField"),(null===(o=i.header)||void 0===o?void 0:o.Eid)>0&&(u=(null===a||void 0===a||null===(m=a.extra)||void 0===m?void 0:m.url)||"/v1/eadmin/core/index/editField"),i.listData.dataList[t.$index][a.name+"_loading"]=!0,s.next=9,i.util.request({url:u,method:"PUT",data:{table:i.listData.dataListParams.tableName,field:a.name,newval:e,id:t.row.id},header:{CloudId:null===(l=i.header)||void 0===l?void 0:l.cloudId,Eid:null===(c=i.header)||void 0===c?void 0:c.eid}});case 9:p=s.sent,200==p.code?i.util.showToast({title:p.msg,icon:"success",duration:1e3}):i.util.showToast({title:p.msg,icon:"error",duration:2e3});case 11:case"end":return s.stop()}}),s)})))()}}}),d=a("6475"),m=a("b85c"),p=(a("ac1f"),a("1276"),a("c740"),a("caad"),a("2532"),{name:"table-column-methods",data:function(){return{}},created:function(){},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getVal:function(e,t){if(-1==t.name.indexOf("."))return e.row[t.name];var a=t.name.split(".");switch(a.length){case 2:return e.row[a[0]][a[1]];case 3:return e.row[a[0]][a[1]][a[2]];case 4:return e.row[a[0]][a[1]][a[2]][a[3]]}},getArrayIndex:function(e,t){var a=e.findIndex((function(e){return e.value===t}));return a},showByCondition:function(e,t){if(!e.pageData.hasOwnProperty("condition"))return!0;var a,i=Object(m["a"])(e.pageData.condition);try{for(i.s();!(a=i.n()).done;){var s=a.value;switch(s[1]){case"=":if(t[s[0]]!==s[2])return!1;break;case">":if(!(t[s[0]]>s[2]))return!1;break;case">=":if(!(t[s[0]]>=s[2]))return!1;break;case"<":if(!(t[s[0]]<s[2]))return!1;break;case"<=":if(!(t[s[0]]<=s[2]))return!1;break;case"in":if(!s[2].includes(t[s[0]]))return!1;break;case"has":if(!t[s[0]].includes(s[2]))return!1;break}}}catch(r){i.e(r)}finally{i.f()}return!0}}}),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-list-table-column inline-block"},["html"==e.mycolitem.extra.type?[a("div",{domProps:{innerHTML:e._s(e.myscope.row[e.mycolitem.name])}})]:"id"==e.mycolitem.extra.type?[a("el-popover",{attrs:{placement:"top-start",title:"ID",width:"200",trigger:"hover",content:e.getVal(e.myscope,e.mycolitem)}},[a("span",{staticClass:"cursor-pointer",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.myscope.$index+1+(e.listData.dataPage.page-1)*e.listData.dataPage.limit))])])]:"group"==e.mycolitem.extra.type?e._l(e.mycolitem.extra.extend.fields,(function(t,i){return a("div",{key:i,staticClass:"group-mycolitem"},[a("div",{staticClass:"title"},[e._v(" "+e._s(t[1])+" : ")]),a("div",{staticClass:"value"},[e._v(" "+e._s(e.myscope.row[t[0]])+" ")])])})):"checkbox1"==e.mycolitem.extra.type?[a("el-checkbox-group",{on:{"on-change":function(t){return e.changeCheckbox(e.myscope)}},model:{value:e.myscope.row[e.mycolitem.name],callback:function(t){e.$set(e.myscope.row,e.mycolitem.name,t)},expression:"myscope.row[mycolitem.name]"}},e._l(e.mycolitem.extra.options,(function(t,i,s){return a("el-checkbox",{key:s,attrs:{disabled:!!e.mycolitem.extra.disabled&&e.mycolitem.extra.disabled,label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"switch"==e.mycolitem.extra.type?[a("el-switch",{attrs:{size:"mini","av-loading":"listData.dataList[myscope.$index][mycolitem.name + '_loading']","active-text1":e.mycolitem.extra.options[1].title,"inactive-text1":e.mycolitem.extra.options[0].title,"active-color":"#86c042","inactive-color":"#ddd","active-value":e.mycolitem.extra.options[1].value,"inactive-value":e.mycolitem.extra.options[0].value},on:{change:function(t){return e.changeSwitch(t,e.myscope,e.mycolitem)}},model:{value:e.myscope.row[e.mycolitem.name],callback:function(t){e.$set(e.myscope.row,e.mycolitem.name,t)},expression:"myscope.row[mycolitem.name]"}})]:"image"==e.mycolitem.extra.type?[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.getVal(e.myscope,e.mycolitem)||e.CDN_URL+"/noimage.png",width:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.width?e.mycolitem.extra.extend.width:"",height:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.height?e.mycolitem.extra.extend.height:"35"}})]:"images"==e.mycolitem.extra.type?e._l(e.getVal(e.myscope,e.mycolitem),(function(t){return a("img",{key:t,staticStyle:{"vertical-align":"middle","margin-right":"2px"},attrs:{src:t.url||e.CDN_URL+"/noimage.png",width:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.width?e.mycolitem.extra.extend.width:"",height:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.height?e.mycolitem.extra.extend.height:"35"}})})):"audio"==e.mycolitem.extra.type?[a("audio",{staticStyle:{"vertical-align":"middle",width:"150px",height:"30px"},attrs:{controls:"controls",preload:"none"}},[a("source",{attrs:{src:e.getVal(e.myscope,e.mycolitem)}}),e._v(" Your browser does not support the audio element. ")])]:"rate"==e.mycolitem.extra.type?[a("el-rate",{staticStyle:{"vertical-align":"middle"},attrs:{"allow-half":"",disabled:"","show-text":!1,value:e.getVal(e.myscope,e.mycolitem)}})]:"progress"==e.mycolitem.extra.type?[e.mycolitem.extra.extend?a("el-progress",{staticStyle:{"vertical-align":"middle"},attrs:{type:e.mycolitem.extra.extend.type||"line",percentage:e.getVal(e.myscope,e.mycolitem),status:e.mycolitem.extra.extend&&e.mycolitem.extra.extend.status||"","text-inside":!0,"stroke-width":12}},[e.mycolitem.extra.extend.hideIcon?[e._v(" "+e._s(e.getVal(e.myscope,e.mycolitem))+"% ")]:e._e()],2):e._e()]:"tags"==e.mycolitem.extra.type?["string"==typeof e.mycolitem.name?[e._l(e.getVal(e.myscope,e.mycolitem),(function(t,i){return[e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)]?[a("el-tag",{key:i,attrs:{size:"mini",hit:!1,effect:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].effect||"dark",type:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].type||"",color:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].color||"default"}},[e._v(" "+e._s(e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,t)].title||t)+" ")])]:[a("el-tag",{key:i,attrs:{size:"mini",hit:!1}},[e._v(" "+e._s(t)+" ")])]]}))]:e._e()]:"tag"==e.mycolitem.extra.type?[e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))]?[a("el-tag",{attrs:{hit:!1,size:"mini",effect:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].effect||"dark",type:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].type||"",color:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].color||"default"}},[e._v(" "+e._s(e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].title||e.getVal(e.myscope,e.mycolitem))+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[e._v(" "+e._s(e.myscope.row[e.mycolitem.name])+" ")])]]:"password"==e.mycolitem.extra.type?[e.mycolitem.extra.show?[e._v(" "+e._s(e.getVal(e.myscope,e.mycolitem))+" ")]:[e._v("******")],a("i",{attrs:{type:"el-icon-view"},on:{click:function(t){e.mycolitem.extra.show=!e.mycolitem.extra.show}}})]:"url"==e.mycolitem.extra.type?[a("a",{attrs:{target:"_blank",href:e.getVal(e.myscope,e.mycolitem)}},[e.mycolitem.extra.title?[e._v(" "+e._s(e.mycolitem.extra.title)+" ")]:[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))]],2)]:"qrcode"==e.mycolitem.extra.type?[e.mycolitem.extra.title?[e._v(" "+e._s(e.mycolitem.extra.title)+" ")]:[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))],a("el-popover",{attrs:{placement:"top-start",title:"扫码下载",width:"120px",trigger:"hover"}},[a("div",{staticClass:"flex flex-alignCenter flex-center",staticStyle:{width:"120px",height:"120px",background:"#fff"}},[a("xy-qrcode",{staticClass:"qrcode",style:{opacity:1},attrs:{value:e.getVal(e.myscope,e.mycolitem),options:{width:120,margin:3}}})],1),a("span",{staticClass:"cursor-pointer xyicon xyicon-qrcode",staticStyle:{"margin-left":"3px"},attrs:{slot:"reference"},slot:"reference"})])]:"time"==e.mycolitem.extra.type?[e._v(" "+e._s(e.util.timeFormat(e.myscope.row[e.mycolitem.name],e.mycolitem.extra.extend.format||""))+" ")]:"label"==e.mycolitem.extra.type?[a("span",{style:{color:e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].color||""}},[e._v(" "+e._s(e.mycolitem.extra.options[e.getArrayIndex(e.mycolitem.extra.options,e.getVal(e.myscope,e.mycolitem))].title||e.getVal(e.myscope,e.mycolitem))+" ")])]:"link"==e.mycolitem.extra.type?[a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.goPage(e.mycolitem,e.myscope)}}},[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))])]:"multitext"==e.mycolitem.extra.type?[a("el-popover",{attrs:{placement:"top-start",title:"详情",width:"500",trigger:"hover",content:e.getVal(e.myscope,e.mycolitem)}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("查看")])])]:"json"==e.mycolitem.extra.type?e._l(e.getVal(e.myscope,e.mycolitem),(function(t,i){return a("div",{key:i,staticClass:"flex space-between border-bottom_1px"},e._l(e.mycolitem.extra.options,(function(i,s){return a("div",{key:s},[e._v(" "+e._s(t[i.name])+" ")])})),0)})):"rightButtonList"==e.mycolitem.extra.type?[a("div",{staticClass:"hidden-sm-and-up"},[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link text-primary"},[e._v(" 操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.listData.rightButtonList,(function(t,i){return[e.myscope.row[e.mycolitem.name]?[e.myscope.row[e.mycolitem.name].includes(t.name)?[a("el-dropdown-item",{key:"rbutton"+i,class:"default"==t.style.type?"":"text-"+t.style.type,nativeOn:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")])]:e._e()]:[e.showByCondition(t,e.myscope.row)?a("el-dropdown-item",{key:"rbutton"+i,class:"default"==t.style.type?"":"text-"+t.style.type,nativeOn:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")]):e._e()]]}))],2)],1)],1),a("div",{staticClass:"hidden-xs-only"},[e._l(e.listData.rightButtonList,(function(t,i){return[e.myscope.row[e.mycolitem.name]?[e.myscope.row[e.mycolitem.name].includes(t.name)?[a("a",{key:"rbutton"+i,class:"default"==t.style.type?"":"text-"+t.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:t.style.type,size:t.style.size,icon:t.style.icon},on:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")])]:e._e()]:[e.showByCondition(t,e.myscope.row)?a("a",{key:"rbutton"+i,class:"default"==t.style.type?"":"text-"+t.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:t.style.type,size:t.style.size,icon:t.style.icon},on:{click:function(t){return e.rightButtonModal(i,e.myscope)}}},[e._v(" "+e._s(t.title)+" ")]):e._e()]]}))],2)]:[e.mycolitem.extra.celledit&&e.myscope.row.id==e.current.row.id&&e.mycolitem.name==e.current.column.property?a("el-input",{attrs:{size:"small"},on:{change:function(t){return e.cellChange(e.myscope,e.mycolitem)}},model:{value:e.myscope.row[e.mycolitem.name],callback:function(t){e.$set(e.myscope.row,e.mycolitem.name,t)},expression:"myscope.row[mycolitem.name]"}}):a("span",[e._v(e._s(e.getVal(e.myscope,e.mycolitem)))])]],2)},h=[],v=a("147d"),g={name:"TableColumn",mixins:[d["a"],u,p],components:{XyQrcode:v["a"]},props:{header:{type:Object,default:function(){return{cloudId:0,eid:0}}},listData:{type:Object,default:function(){return{}}},currentItem:{type:Object,default:function(){return{pageData:{pageType:"modal",apiBlank:"",show:!1}}}},pitem:{type:Object,default:function(){return{}}},mycolitem:{type:Object,default:function(){return{}}},myscope:{type:Object,default:function(){return{}}}},data:function(){return{CDN_URL:Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_CDN_URL}},watch:{},created:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{}},y=g,b=a("2877"),x=Object(b["a"])(y,f,h,!1,null,null,null),w=x.exports,_={name:"XyBuilderList",mixins:[c,u,d["a"],p],props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},show:!1,predata:"",value:0,config:{type:Object,default:function(){return{}}},pitem:{type:Object,default:function(){return{}}},showActions:!1,showDev:!1},components:{"table-column":w},data:function(){return{ready:!1,current:{row:{},column:{}},loading:!1,page:1,limit:10,filterValues:{},listData:{alertList:{},dataList:[],dataListParams:[],topButtonList:[],rightButtonList:[],columns:[],dataPage:{total:0,limit:10,page:1},filterItems:[],filterValues:[],filterExtra:{},countList:[],config:{listExpandAll:!1,modalDefaultWidth:800}},currentItem:{pageData:{pageType:"modal",modalTye:"",apiBlank:"",show:!1,title:"",predata:""}}}},watch:{show:function(e){1==e&&this.loadData("",!0)}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderForm=function(){return Promise.resolve().then(a.bind(null,"4d99"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"396d"))},this.$options.components.XyBuilderRemote=function(){return Promise.resolve().then(a.bind(null,"6d59"))},this.$options.components.XyBuilderCol=function(){return a.e("manifest").then(a.bind(null,"bea2"))}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.predata?e.readyProcess(e.predata):e.loadData(),e.limit=e.listData.dataPage.limit;case 2:case"end":return t.stop()}}),t)})))()},methods:{cellClick:function(e,t,a,i){this.current.row=e,this.current.column=t},readyProcess:function(e){var t,a,i,s,n=this,o=this.util.builderutil.readyList({value:this.value,config:this.config,listData:e,filterValues:this.filterValues},this.$store.state.app.apiInfo);this.config=Object(r["a"])({},o.config),this.listData=Object(r["a"])({},o.listData),this.filterValues=Object(r["a"])({},o.filterValues),this.ready=!0,"checkbox"==(null===(t=this.listData)||void 0===t||null===(a=t.dataListParams)||void 0===a?void 0:a.selectType)?this.currentSelecteds=this.value:"radio"==(null===(i=this.listData)||void 0===i||null===(s=i.dataListParams)||void 0===s?void 0:s.selectType)&&(this.currentSelected=this.value),this.$nextTick((function(){var e,t,a,i;"checkbox"==(null===(e=n.listData)||void 0===e||null===(t=e.dataListParams)||void 0===t?void 0:t.selectType)?n.checkRows(n.listData.dataList):"radio"==(null===(a=n.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)&&n.listData.dataList.forEach((function(e){n.currentSelected==e.id&&n.$refs.dataTable.toggleRowSelection(e,!0)}))}))},cancel:function(){this.$emit("close-model")},getFilterParams:function(){var e={page:this.page,limit:this.limit};if(this.filterValues){var t=this.filterValues;if(this.listData.filterItems.length>0)for(var a in t)t.hasOwnProperty(a)&&null!==t[a]&&(t[a].constructor&&t[a].constructor===Array?e[a]=t[a].join(","):""!==t[a]&&(e[a]=t[a]))}return e},handleFilterExport:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=l.a.stringify(t.getFilterParams()),n=t.$store.state.app.api.apiBase+t.listData.filterExtra.exportBtn[e].api+"?cloudId="+(null===(i=t.header)||void 0===i?void 0:i.cloudId)+"&token="+(null===(s=t.header)||void 0===s?void 0:s.token)+"&"+r,window.open(n);case 3:case"end":return a.stop()}}),a)})))()},pageChange:function(e){this.page=e,this.loadData()},limitChange:function(e){this.page=1,this.limit=e,this.loadData()},closeModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.pageData.show=!1;var a=this;this.$nextTick((function(){!e.pageData.noRefresh&&t&&a.loadData()}))},loadData:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",s=e.length>1&&void 0!==e[1]&&e[1],""!=i&&(t.api=i),t.loading=!0,t.ready=!1,r={},s||(r=t.getFilterParams()),!t.api){a.next=12;break}return a.next=10,t.util.request({url:t.api,method:"get",data:r,header:t.header});case 10:n=a.sent,"200"==n.code?t.readyProcess(n.data.listData):t.util.showToast({title:n.msg,icon:"error",duration:2e3});case 12:t.loading=!1;case 13:case"end":return a.stop()}}),a)})))()},dialogOpen:function(){if(this.$store.state.app.uiAudio){var e=new Audio;e.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_OPEN,e.play()}},dialogClose:function(){if(this.$store.state.app.uiAudio){var e=new Audio;e.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_CLOSE,e.play()}}}},k=_,C=(a("53b2"),Object(b["a"])(k,i,s,!1,null,"506eea92",null));t["default"]=C.exports},1339:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.initData.showInput?a("el-input",{attrs:{placeholder:"请输入"},on:{change:e.onChange},model:{value:e.content2,callback:function(t){e.content2=t},expression:"content2"}}):a("el-cascader",{attrs:{size:e.size,disabled:e.initData.disabled,options:e.initData.options,props:e.myprops},on:{change:e.onChange},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},s=[],r=a("5530"),n=a("1da1"),o=(a("96cf"),a("d3b7"),a("159b"),{name:"XyCascader",props:{size:{type:String,default:""},item:{type:Object,default:function(){return{extra:{}}}},value:{type:[Array,String],default:[]},init:{type:Object,default:function(){return{}}},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{initData:{disabled:!1,options:[],action:"",lazy:!1,multiple:!1,labelField:"label",valueField:"value",nodeKey:"value",deep:1,showInput:!1,leaf:"leaf",maxLevel:3},content:"",content2:"",myprops:{}}},watch:{"init.showInput":{handler:function(e){this.initData=Object.assign(this.initData,this.init)},deep:!0},value:function(e){0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.content=[]}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.initData=Object.assign(this.initData,this.init,this.item.extra),0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.content=[],0!=this.initData.options.length||!this.initData.lazy){e.next=7;break}return e.next=5,this.getNode({});case 5:t=e.sent,this.initData.options=t;case 7:a=this,this.myprops={leaf:a.initData.leaf,multiple:a.initData.multiple,label:a.initData.labelField,value:a.initData.valueField,lazy:a.initData.lazy,lazyLoad:function(e,t){e.level;setTimeout(Object(n["a"])(regeneratorRuntime.mark((function i(){var s,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={},s[a.initData.nodeKey]=e.data[a.initData.nodeKey],i.next=4,a.getNode(s);case 4:r=i.sent,e.level==a.initData.maxLevel-1&&r.forEach((function(e){e[a.initData.leaf]=!0})),t(r);case 7:case"end":return i.stop()}}),i)}))),2e3)}};case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{onChange:function(){this.initData.showInput?this.$emit("input",this.content2):this.$emit("input",this.content)},getNode:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:t.initData.action,data:Object(r["a"])({deep:t.initData.deep},e),method:"get"});case 2:if(i=a.sent,200!=i.code){a.next=7;break}return a.abrupt("return",i.data.dataList);case 7:self.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 8:case"end":return a.stop()}}),a)})))()}}}),l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"50e287ac",null);t["a"]=u.exports},"147d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("figure",{staticClass:"qrcode-box"},[e.loadedScript?a("qrcode",{attrs:{value:e.value,options:Object.assign({},{errorCorrectionLevel:"Q"},e.options)}}):e._e(),e.logo?a("img",{staticClass:"qrcode__image",attrs:{src:e.logo}}):e._e()],1)},s=[],r=a("1da1"),n=(a("96cf"),a("b0c0"),a("d3b7"),{name:"xyQrcode",props:{value:{type:[String],default:""},logo:{type:[String],default:""},options:{type:Object,default:function(){return{width:118,margin:1}}}},data:function(){return{loadedScript:!1}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:Vue.component(VueQrcode.name,VueQrcode),this.loadedScript=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdn.jsdelivr.net/gh/fengyuanchen/vue-qrcode/dist/vue-qrcode.min.js").then((function(){t()}))}))}}}),o=n,l=(a("2d5f"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"1f08a5d6",null);t["a"]=c.exports},"160b":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("xy-captha",{attrs:{id:e.CaptchaId},on:{success:e.captchaSuccess}},[a("span",{staticClass:"send-verify p-l-xs p-r-xs lh-1 cursor-pointer",attrs:{id:e.CaptchaId,type:"text"}},[a("span",{on:{click:e.doClick}},[e._v(e._s(e.label))])])])},s=[],r=a("1da1"),n=(a("96cf"),a("a9e3"),a("1107")),o={components:{XyCaptha:n["a"]},name:"xySendVerify",props:{verifyUser:{type:[Boolean,Number],default:!1},noNeedAccount:{type:Boolean,default:!1},account:{type:String,default:""},title:{type:String,default:""},url:{type:String,default:"/v1/sms/verify/send"},type:{type:String,default:"手机号"},time:{type:Number,default:30},capthaOptions:Object},data:function(){return{CaptchaId:"Captcha"+this.util.guid(),label:"发送验证码",timeLeft:0,capthaOptionsData:{}}},created:function(){},methods:{captchaSuccess:function(){},doClick:function(e){this.timeLeft>0&&e.stopPropagation(),this.account||this.noNeedAccount||(this.util.showToast({title:"请输入"+this.type,icon:"loading",duration:1e3}),e.stopPropagation())},sendVerify:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.timeLeft>0)){t.next=2;break}return t.abrupt("return");case 2:if(e.account||e.noNeedAccount){t.next=5;break}return e.util.showToast({title:"请输入"+e.type,icon:"loading",duration:1e3}),t.abrupt("return",!1);case 5:return e.timeLeft=e.time,e.label="剩余"+e.timeLeft+"s",a=setInterval((function(){e.timeLeft--,e.timeLeft<=0?(e.label="发送验证码",e.timeLeft=0,clearInterval(a)):e.label="剩余"+e.timeLeft+"s"}),1e3),i={},i="手机号"==e.type?{mobile:e.account,title:e.title}:{email:e.account,title:e.title},i.verifyUser=e.verifyUser,t.next=13,e.util.request({url:e.url,data:i,method:"post"});case 13:s=t.sent,"200"==s.code?(e.util.showToast({title:s.msg,icon:"success",duration:1e3}),e.$emit("verifysuccess",s.data)):e.util.showToast({title:s.msg,icon:"loading",duration:2e3});case 15:case"end":return t.stop()}}),t)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"4bff8646",null);t["a"]=u.exports},"16f9":function(e,t,a){},1899:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"验证密码",description:""}}),a("el-step",{attrs:{title:"输入新密码",description:""}}),a("el-step",{attrs:{title:"修改成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"0px"}},[a("div",{staticClass:"m-b-md ts-12 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("请输入您的登录密码:")]),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"输入登录密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.verifyPassword}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"newPassword",label:"输入新的密码"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"输入新的密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),a("el-form-item",{attrs:{prop:"rePassword",label:"再次输入"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"再次输入"},model:{value:e.form.rePassword,callback:function(t){e.$set(e.form,"rePassword",t)},expression:"form.rePassword"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("忘记密码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、请先重置密码，然后重试。"),a("br"),e._v(" 2、您也可以选择其它验证方式修改密码。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("修改登录密码成功，请您牢记密码。")])])}],r=a("1da1"),n=(a("96cf"),a("160b")),o=a("3a69"),l={mixins:[o["default"]],components:{XySendVerify:n["a"]},data:function(){return{active:1,loading:!1,form:{oldPassword:"",newPassword:"",rePassword:""},rule:{oldPassword:[{required:!0,message:"请填写当前密码",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],rePassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}},created:function(){},methods:{verifyPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.doVerifyPassword();case 2:a=t.sent,"200"==a.code&&e.active++;case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.oldPassword=e.password,e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=6,e.util.request({url:"/v1/reg_username/user/restPassword",data:e.form,method:"put"});case 6:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("46b2"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"23c72c14",null);t["default"]=d.exports},"190a":function(e,t,a){},"1c34":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payCategorywrap"},[a("div",{staticClass:"breadCrumb"},[a("ul",[a("li",{staticClass:"breakBtn",on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回>>")]),a("li",[e._v("账户总览>")]),a("li",[e._v("充值")])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"payCategory",attrs:{"element-loading-text":"充值订单创建中"}},[a("div",{staticClass:"tabTitle"},[a("ul",[a("li",{staticClass:"cursor-pointer",class:{tabActive:1==e.tabIndex},on:{click:function(t){return e.toggleTab(1)}}},[e._v("个人充值")]),a("li",{staticClass:"cursor-pointer",class:{tabActive:2==e.tabIndex},on:{click:function(t){return e.toggleTab(2)}}},[e._v("对公账户")])])]),a("div",{staticClass:"tabPanel"},[1==e.tabIndex?a("div",{staticClass:"perPanel"},[a("div",{staticClass:"pay-account-info"},[a("p",{staticClass:"account-name"},[e._v("充值账户:")]),a("p",{staticClass:"account-info"},[e._v(e._s(e.$store.state.user.userInfo.nickname)+"（id:"+e._s(e.$store.state.user.userInfo.id)+"）")])]),a("div",{staticClass:"pay-account-info"},[a("p",{staticClass:"account-name"},[e._v("当前余额:")]),a("p",{staticClass:"account-info"},[e._v(" ¥ "),a("span",[e._v(e._s(e.balance))])])]),a("div",{staticClass:"pay-account-info"},[a("p",{staticClass:"account-name"},[e._v("充值余额:")]),a("el-input",{staticClass:"pay-number",attrs:{type:"number",placeholder:"¥"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),a("div",{staticClass:"pay-account-info"},[a("p",{staticClass:"account-name"},[e._v("支付方式:")]),e._l(e.payMethodArr,(function(t,i){return a("div",{key:i,staticClass:"payWay",class:{payWayBorderActive:t.payType==e.payType},on:{click:function(a){e.payType=t.payType}}},[a("img",{attrs:{src:t.payMethodImg,alt:""}}),a("p",[e._v(e._s(t.payName))]),t.check?a("span"):e._e()])}))],2),a("div",{staticClass:"bankOption"},["bankpay"==e.payType?a("div",e._l(e.bankList,(function(t,i){return a("div",{key:i,staticClass:"perBank",class:{borderActive:i==e.payTypeSubIndex},on:{click:function(t){e.payTypeSubIndex=i}}},[a("img",{attrs:{src:t.logo,alt:""}}),t.check?a("span",{staticClass:"checkIcon"}):e._e()])})),0):e._e(),a("p",{staticClass:"deal"},[a("el-checkbox",{model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}}),e._v(" 充值余额提示： 账户余额可用来购买"+e._s(e.$store.state.app.siteInfo.title)+"所有的产品服务。目前暂时不支持余额提现功能。 ")],1),a("button",{staticClass:"submitBtn cursor-pointer",on:{click:e.submit}},[e._v(" 立即充值 ")]),a("a",{staticClass:"target",attrs:{href:"",target:"_blank"}})])]):e._e(),2==e.tabIndex?a("div",{staticClass:"perPanel"},[e._m(0),e._m(1)]):e._e()])]),e.switchAlert?a("div",{staticClass:"full-scroll",on:{click:function(t){return e.clientClose(t)}}},[a("div",{staticClass:"alert-box"},[a("div",{staticClass:"close-btn",on:{click:function(t){return e.closeAlert()}}},[a("a",{attrs:{href:"JavaScript:void(1);"}},[e._v("×")])]),a("h3",[e._v("充值")]),a("div",{staticClass:"payMoneyBox"},[a("div",{staticClass:"payNumber"},[a("p",{staticClass:"payLabel"},[e._v("充值方式：")]),a("div",{staticClass:"payMode"},[a("p",[e._v(e._s(e.payType))])])]),a("div",{staticClass:"payNumber"},[a("p",{staticClass:"payLabel"},[e._v("充值金额：")]),a("p",{staticClass:"payMoneyNumber"},[e._v(" ¥ "),a("span",[e._v(e._s(e.orderSets.realMoney))])])])]),e._m(2),a("div",{staticClass:"btn-group"},[a("div",{staticClass:"alert-sub-btn",on:{click:function(t){return e.closeAlert()}}},[a("a",{attrs:{href:"javascript:void(1);"}},[e._v("确认")])]),a("div",{staticClass:"alert-issue-btn",on:{click:function(t){return e.closeAlert()}}},[a("a",{attrs:{href:"javascript:void(1);"}},[e._v("充值失败遇到问题")])])])])]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"accountPayTip"},[a("p",{staticClass:"tipOne"},[a("span",{staticClass:"iconfont iconyiwen"}),e._v("为了您的合法权益，转账时请备注您的乐帆云账号。 ")]),a("p",{staticClass:"payTipText"},[e._v('如银行不支持"@"符号输入，请使用中文“艾特”替代。eg：mail@qiniu.com；mail艾特qiniu.com。')]),a("p",{staticClass:"payTipText"},[e._v("银行转账会需要至少 3 个工作日到账，期间请耐心等待，如遇到问题可以联系销售或者技术支持")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"companeyInfo"},[a("li",[a("p",[e._v(" 开户行： "),a("span",[e._v("哈弗开会了卡和的银行")])])]),a("li",[a("p",[e._v(" 开户行： "),a("span",[e._v("哈弗开会了卡和的银行")])])]),a("li",[a("p",[e._v(" 开户行： "),a("span",[e._v("哈弗开会了卡和的银行")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payTip"},[a("p",[e._v("支付遇到问题？")]),a("ul",[a("li",[a("span"),e._v(" 请先确认第三方支付网站是否交易完成。 ")]),a("li",[a("span"),e._v(" 建议使用第三方网站支持的浏览器进行支付。 ")]),a("li",[a("span"),e._v(" 暂时不能使用信用卡支付功能。 ")]),a("li",[a("span"),e._v(" 第三方支付网站显示交易成功，但账户中没有充值流水，请发起工单将问题提交给我们 ")])])])}],r=a("1da1"),n=(a("b0c0"),a("96cf"),{name:"Recharge",components:{},data:function(){var e,t,a;return{loading:!1,agree:!1,balance:null===(e=this.$store.state.user.userInfo)||void 0===e||null===(t=e.moduleExtend)||void 0===t||null===(a=t.user_score[1])||void 0===a?void 0:a.balance,scoreList:[],form:{money:.01},payType:"alipay",payTypeSubIndex:0,orderInfo:[],orderSets:{totalMoney:0,realMoney:0},tradeNo:"",tabIndex:1,payMethodArr:[{payName:"支付宝",payType:"alipay",payMethodImg:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/c2220767-a9c5-46d3-910a-b9a6d5ee26e7.png",check:!0},{payName:"微信",payType:"wxpay",payMethodImg:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/4b7081e3-0e42-48a2-bb02-18e537c3d4a1.png",check:!1},{payName:"银行卡",payType:"bankpay",payMethodImg:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/d8e1a7ba-a23d-4841-9f8c-a299c725d778.png",check:!1}],bankList:[{name:"中国银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/376ae143-b854-4561-bdf2-054307feb2f8.png"},{name:"中国建设银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/c509efe8-7d7d-4978-b320-f3a3379c0a7a.png"},{name:"中国工商银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/b7e4d3d4-e2dc-49b1-9f00-658395707ed7.png"},{name:"中国农业银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/52c6331d-67bd-453d-8e36-2d2fcf1801a8.png"},{name:"浦发银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/40324d5e-d32b-4d8a-a533-1d965c35c635.png"},{name:"中国民生银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/5cfb94b5-0505-4e8f-869f-fd96917ba75c.png"},{name:"中国邮政",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/20471e07-9e14-4313-acd9-b078b2eca850.png"},{name:"交通银行",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/41d2f715-bc62-44cc-b243-41a26626ec64.png"}]}},created:function(){this.loadBalance()},methods:{loadBalance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_score/score/my",data:{typeId:1},method:"get"});case 2:a=t.sent,200==a.code?(e.scoreList=a.data.dataList,e.balance=e.scoreList[0].balance):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},clientClose:function(e){var t=document.querySelector(".alert-box");t&&(t.contains(e.target)||this.$store.commit("accountSet/switchPayAlert",!1))},toggleTab:function(e){this.tabIndex=e},getPayResult:function(){},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.agree){t.next=3;break}return e.util.showToast({title:"请勾选提示表示同意",icon:"loading",duration:3e3}),t.abrupt("return",!1);case 3:return e.loading=!0,t.next=6,e.util.request({url:"/v1/order/order/create",data:{orderInfo:[{spuId:1,skuId:0,amount:e.form.money/1,extra:{typeId:1}}],extra:{module:"user_score",service:"score"}},method:"post"});case 6:if(a=t.sent,200!=a.code){t.next=12;break}e.orderInfo=a.data.orderInfo,e.orderSets=a.data.orderSets,t.next=15;break;case 12:return e.loading=!1,e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),t.abrupt("return");case 15:return t.next=17,e.util.request({url:"/v1/order/order/submit",data:{orderInfo:e.orderInfo,extra:{module:"user_score",service:"score"}},method:"post"});case 17:if(i=t.sent,200!=i.code){t.next=22;break}e.tradeNo=i.data.tradeNo,t.next=25;break;case 22:return e.loading=!1,e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),t.abrupt("return");case 25:return t.next=27,e.util.request({url:"/v1/pay/order/dopay",data:{tradeNo:e.tradeNo,payType:e.payType,payPlatform:"pc",payTypeSub:e.bankList[e.payTypeSubIndex].name},method:"post"});case 27:s=t.sent,200==s.code?(e.loading=!1,e.$store.state.accountSet.payAlert=!0,s.data.isRedirect?window.open(s.data.payString,"_blank"):window.open("/user_score/score/pay?realMoney="+e.orderSets.realMoney+"&payType="+e.payType+"&tradeNo="+e.tradeNo+"&payString="+s.data.payString,"_blank")):(e.loading=!1,e.util.showToast({title:s.msg,icon:"loading",duration:3e3}));case 29:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("5067"),a("0b0b"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"1ab737ac",null);t["default"]=c.exports},"1c64":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},["iframe"==e.$store.state.app.mainNav[e.$store.state.app.currentNav].listsTpl?a("div",{staticStyle:{position:"absolute",top:"50px",bottom:"0",left:"0",right:"0"}},[a("iframe",{staticStyle:{border:"0",width:"100%",height:"100%"},attrs:{src:e.$store.state.app.mainNav[e.$store.state.app.currentNav].url}})]):e._e(),a("div",{staticClass:"container p-t"},[e.$store.state.app.mainNav[e.$store.state.app.currentNav].bannerName?a("div",{staticClass:"sub-header text-center m-t-md m-b-md"},[a("div",{staticClass:"ts-26 tw5 m-b"},[e._v(e._s(e.$store.state.app.mainNav[e.$store.state.app.currentNav].bannerName))]),a("div",{staticClass:"text-gray ts-22 tw3"},[e._v(e._s(e.$store.state.app.mainNav[e.$store.state.app.currentNav].subtitle))])]):e._e(),"page"==e.$store.state.app.mainNav[e.$store.state.app.currentNav].listsTpl?[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{shadow:"none","element-loading-text":"拼命加载中"}},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"ts-16",domProps:{innerHTML:e._s(e.content)}})])]:"case"==e.$store.state.app.mainNav[e.$store.state.app.currentNav].listsTpl?a("div",[a("lists-case",{attrs:{loading:e.loading,list:e.dataList}})],1):"ask"==e.$store.state.app.mainNav[e.$store.state.app.currentNav].listsTpl?a("div",[a("lists-ask",{attrs:{loading:e.loading,list:e.dataList,cateId:e.$store.state.app.mainNav[e.$store.state.app.currentNav].id},on:{"refresh-ist":e.loadlists}})],1):e._e()],2)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("ac1f"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"case-list"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"flex flex-wrap",staticStyle:{"min-height":"300px"},attrs:{type:"flex",justify:"center",align:"middle","element-loading-text":"拼命加载中"}},e._l(e.dataList,(function(t,i){return a("el-col",{key:i,staticClass:"item",attrs:{xs:24,sm:12,md:8,lg:8}},[a("div",{staticClass:"image"},[a("img",{attrs:{src:t.cover,alt:t.title}})]),a("div",{staticClass:"p-a bg-white"},[a("div",{staticClass:"title ts-16"},[e._v(e._s(t.title))]),a("div",{staticClass:"info flex space-between text-gray ts-12"},[a("div",[e._v(e._s(t.userInfo.nickname))]),a("div",[e._v(e._s(t.viewCount)+"次浏览")])]),a("div",{staticClass:"subtitle text-gray ts-12"},[e._v(e._s(t.subtitle))])])])})),1)],1)])}),o=[],l={name:"listsCase",data:function(){return{dataList:[]}},props:{loading:!1,list:{type:Array,default:function(){return[]}}},created:function(){this.dataList=this.list},watch:{list:function(){this.dataList=this.list}},methods:{}},c=l,u=(a("d95c"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"dc1c848a",null),m=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"flex flex-wrap",attrs:{type:"flex",gutter:20}},[a("el-col",{staticClass:"m-b-sm",attrs:{xs:24,lg:17}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("最新")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.item.pageData.show=!0}}},[e._v("发布帖子")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"case-list",staticStyle:{"min-height":"300px"},attrs:{"element-loading-text":"拼命加载中"}},e._l(e.dataList,(function(t,i){return a("div",{key:i,staticClass:"item flex flex-alignCenter border-bottom_1px"},[a("div",{staticClass:"m-r text-center bg-indo"},[a("el-alert",{staticClass:"p-a-xs",attrs:{closable:!1,type:"info"}},[a("div",{staticClass:"ts-14"},[e._v(e._s(t.commentCount))]),a("div",{staticClass:"text-gray ts-12"},[e._v("回复")])])],1),a("div",{staticClass:"m-r text-center text-gray"},[a("div",{staticClass:"ts-18"},[e._v(e._s(t.viewCount))]),a("div",{staticClass:" ts-12"},[e._v("浏览")])]),a("div",{staticClass:"bg-white flex-1"},[a("div",{staticClass:"title ts-16",on:{click:function(a){return e.util.navigateTo({url:"/ask/"+t.id})}}},[e._v(e._s(t.title))]),a("div",{staticClass:"info flex space-between text-gray ts-12"},[a("div",[e._v(e._s(t.userInfo.nickname))]),a("div",[e._v("发布于"+e._s(e.util.timeFormat(t.postTime)))])]),a("div",{staticClass:"subtitle text-gray ts-12"},[e._v(e._s(t.subtitle))])])])})),0)])],1),a("el-col",{staticClass:"m-b-sm",attrs:{xs:24,lg:7}},[a("hot-ask",{attrs:{cateId:e.cateId}})],1)],1),a("el-dialog",{staticClass:"ts-16",attrs:{title:"发布帖子",visible:e.item.pageData.show,width:"70%"},on:{"update:visible":function(t){return e.$set(e.item.pageData,"show",t)}}},[a("XyBuilderForm",{attrs:{api:"/v1/icms/post/add?cateId="+e.cateId,show:e.item.pageData.show,pitem:e.item},on:{close:function(t){return e.closeModel(e.item,t)}}})],1)],1)},f=[],h=(a("d3b7"),a("3ca3"),a("ddb0"),a("0700")),v={name:"listsAsk",components:{"hot-ask":h["a"]},data:function(){return{item:{pageData:{show:!1}},dataList:[]}},props:{loading:!1,cateId:0,list:{type:Array,default:function(){return[]}}},beforeCreate:function(){this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"4d99"))}},created:function(){this.dataList=this.list},watch:{list:function(e){this.dataList=e}},methods:{closeModel:function(e,t){this.item.pageData.show=!1,t&&this.$emit("refresh-ist")}}},g=v,y=(a("05e7"),Object(u["a"])(g,p,f,!1,null,"1b437941",null)),b=y.exports,x={watch:{$route:function(e,t){this.loadlists()}},components:{"lists-case":m,"lists-ask":b},data:function(){return{loading:!1,dataList:[]}},created:function(){this.loadlists()},computed:{content:function(){return this.$store.state.app.mainNav[this.$store.state.app.currentNav].content.replace(/\<img/gi,'<img style="max-width:100%;height:auto" ')}},methods:{loadlists:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.$store.state.app.mainNav[e.$store.state.app.currentNav].cateType){t.next=2;break}return t.abrupt("return");case 2:return e.dataList=[],e.loading=!0,t.next=6,e.util.request({url:"/v1/icms/post/lists/"+e.$store.state.app.mainNav[e.$store.state.app.currentNav].id,data:{},method:"get"});case 6:a=t.sent,200==a.code?e.dataList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},w=x,_=Object(u["a"])(w,i,s,!1,null,"3b800202",null);t["default"]=_.exports},"1dc0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outerBox"},[a("div",{staticClass:"backOperation"},[a("a",{attrs:{href:"#"},on:{click:function(t){return e.$router.back(-1)}}},[e._v(" 返回上一级 "),a("span",{staticStyle:{display:"inline-block","margin-left":"5px"}},[e._v(">>")])]),a("span"),a("p",[e._v("消息 > 消息详情")])]),a("div",{staticClass:"box text-center bg-white"},[e._m(0),a("div",{staticClass:"inner p-t-sm"},[a("div",{staticClass:"ts-30 tw5 m-b-lg"},[e._v(" "+e._s(e.info.title)+" ")]),a("div",{staticClass:"content pos-r"},[e._v(" "+e._s(e.info.content)+" "),e._m(1)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content text-left ts-14 lh-1 text-primary "},[a("div",{staticClass:"bg-primary inline-block m-t m-l-sm",staticStyle:{"margin-bottom":"-2px",width:"14px",height:"14px"}}),e._v(" 公告 ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pos-a",staticStyle:{left:"10px",top:"0"}},[a("i",{staticClass:"xyicon xyicon-notify1  ts-22 text-primary"})])}],r=a("1da1"),n=(a("96cf"),{name:"MsgDetail",components:{},data:function(){return{loading:!1,id:0,info:{}}},created:function(){this.id=this.$route.query.id,this.loadData()},methods:{loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/msg/msg/info/"+e.id,method:"get"});case 3:a=t.sent,200==a.code?e.info=a.data.info:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("6594"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"3d0aa7ba",null);t["default"]=c.exports},"1f0c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"验证手机号",description:""}}),a("el-step",{attrs:{title:"输入新密码",description:""}}),a("el-step",{attrs:{title:"修改成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("div",{staticClass:"m-b-md ts-12 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("为确认您本人操作，需要您进行手机验证码验证身份。")]),a("el-form-item",{attrs:{prop:"mobile",label:"手机号"}},[a("el-input",{attrs:{disabled:"",size:"medium",type:"text",prefix:"ios-at-outline",placeholder:e.form.mobile?"手机号":"未绑定手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onCountrySelect}})],1)],2)],1),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/sms/verify/send",type:"手机号",account:e.form.mobile,title:"修改密码"},on:{verifysuccess:e.getVerifyToken}})],1)],1)]),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.goStep2}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"newPassword",label:"输入新的密码"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"输入新的密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),a("el-form-item",{attrs:{prop:"rePassword",label:"再次输入"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"再次输入"},model:{value:e.form.rePassword,callback:function(t){e.$set(e.form,"rePassword",t)},expression:"form.rePassword"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到短信验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实手机是否已欠费停机，或者屏蔽了系统短信。"),a("br"),e._v(" 3、如果手机已丢失或停用， 请选择其他验证方式 。"),a("br"),e._v(" 4、您也可以尝试将SIM卡移动到另一部手机，然后重试。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("修改登录密码成功，请您牢记密码。")])])}],r=a("1da1"),n=(a("96cf"),a("b0c0"),a("160b")),o=a("4167"),l=a.n(o),c={components:{XySendVerify:n["a"],VueCountryCode:l.a},data:function(){var e,t;return{active:1,loading:!1,form:{countryCode:null===(e=this.$store.state.user.userInfo.mobile)||void 0===e?void 0:e.identityGroup,mobile:null===(t=this.$store.state.user.userInfo.mobile)||void 0===t?void 0:t.identifier,verify:"",token:"",newPassword:"",rePassword:""},rule:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],rePassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){var e;null!==(e=this.$store.state.user.userInfo.mobile)&&void 0!==e&&e.identifier||this.util.showToast({title:"未绑定手机",icon:"loading",duration:3e3})},methods:{goStep2:function(){this.form.mobile&&this.form.verify&&this.form.token?this.active++:this.util.showToast({title:"验证失败",icon:"loading",duration:3e3})},onCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.form.countryCode="+"+t},getVerifyToken:function(e){this.form.token=e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_mobile/user/restPassword",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},u=c,d=(a("cf3f"),a("2877")),m=Object(d["a"])(u,i,s,!1,null,"4f29a5d4",null);t["default"]=m.exports},"1f59":function(e,t,a){},"207f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"100px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),"choose"==e.show?a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"success-box text-center"},[a("h4",{staticClass:"title"},[e._v(" 用户登录 ")]),a("p",[e._v(" 您的"+e._s(e.form.type)+"未绑定"+e._s(e.$store.state.app.siteInfo.title)+"账户，请绑定后完成登录 ")]),a("el-button",{staticClass:"full cert",attrs:{size:"large",type:"primary"},on:{click:function(t){e.show="mobileVerify"}}},[e._v(" 绑定已有账户 ")]),a("el-button",{staticClass:"full skip",attrs:{size:"large"},on:{click:function(t){return e.handleRegister()}}},[e._v(" 创建新账户 ")])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter"})]):e._e(),"mobileVerify"==e.show?a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 用户绑定并登录 ")]),a("div",{staticClass:"subtitle"},[e._v(" 还没有注册吗？ "),a("router-link",{attrs:{to:"/user/register"}},[e._v(" 请点击这里 ")])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入您的手机号码"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),a("div",{staticClass:"flex flex-alignCenter"},[a("el-form-item",{staticClass:"flex-1",attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}})],1),a("XySendVerify",{staticClass:"send-verity-button",attrs:{slot1:"append",url:"/v1/sms/verify/send",type:"手机号",account:e.form.account,title:"用户登录"},on:{verifysuccess:e.getVerifyToken}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.form.loading,type:"primary"},on:{click:function(t){return e.handleBind("mobildVerify")}}},[e._v(" 绑定 ")]),a("div",{staticClass:"actions flex m-t"},[a("div",{on:{click:function(t){e.show="password"}}},[e._v(" 使用账号密码绑定 ")]),a("div",[a("router-link",{attrs:{to:"/user/resetPassword"}},[e._v(" 忘记密码？ ")])],1)])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter",on:{click:function(t){e.show="choose"}}})],1):e._e(),"password"==e.show?a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 用户绑定并登录 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入您的邮箱地址或手机号码"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.form.loading,type:"primary"},on:{click:function(t){return e.handleBind("password")}}},[e._v(" 绑定 ")]),a("div",{staticClass:"actions flex m-t"},[a("div",{on:{click:function(t){e.show="mobileVerify"}}},[e._v(" 使用手机验证码绑定 ")]),a("div",[a("router-link",{attrs:{to:"/reg_mobile/user/resetPassword"}},[e._v(" 忘记密码？ ")])],1)])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter",on:{click:function(t){e.show="choose"}}})],1):e._e()],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{show:"choose",form:{loading:!1,type:"",code:"",redirect:"",bindType:"",account:"",password:"",verify:"",token:""},rule:{account:[{required:!0,message:"请填写账号",trigger:"blur"}]}}},created:function(){var e=this.util.getUrlQuery();this.form.type=this.$route.params.type,this.form.code=e["code"],this.form.redirect=window.location.protocol+"//"+window.location.host+"/third_login/user/callback/"+this.form.type},methods:{getVerifyToken:function(e){this.form.token=e},handleRegister:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/third_login/user/register",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.$store.commit("user/setToken",i.data.token),e.$store.commit("user/setUserInfo",i.data.userInfo),e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateTo("/my")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},handleBind:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.form.bindType=e,t.loading=!0,i=t,setTimeout((function(){i.loading=!1}),5e3),a.next=6,t.util.request({url:"/v1/third_login/user/bind",data:t.form,method:"post"});case 6:s=a.sent,"200"==s.code?(t.$store.commit("user/setToken",s.data.token),t.$store.commit("user/setUserInfo",s.data.userInfo),t.util.showToast({title:s.msg,icon:"success",duration:2e3}),t.util.navigateTo("/my")):t.util.showToast({title:s.msg,icon:"loading",duration:3e3}),t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}},l=o,c=(a("8f2b"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"5891e76c",null);t["default"]=u.exports},2149:function(e,t,a){"use strict";a("16f9")},"21a8":function(e,t,a){"use strict";a("a585")},"22ce":function(e,t,a){"use strict";a("3889")},"23f6":function(e,t,a){},2420:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-editor-tinymce"},[e.loadedScript?a("tinymce-vue",{ref:"tinymce",attrs:{"api-key":e.item.extra.tinymce.key||"y1buzf80o0qtt4lt3pfj0yh98ilgq4ts6mf3nwjpqky9ea49","tinymce-script-src":"https://cdn.jsdelivr.net/npm/tinymce@5.5.1/tinymce.min.js",init:e.init},on:{onInit:e.onReady},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}):e._e(),a("el-dialog",{attrs:{title:"相册",visible:e.imageAlbumShow,width:"1000px"},on:{"update:visible":function(t){e.imageAlbumShow=t}}},[a("span",[e._v("相册功能开发中，敬请期待。。。")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.imageAlbumShow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.imageAlbumShow=!1}}},[e._v("确 定")])],1)]),e.newyearShow?a("iframe",{staticClass:"fireworks",attrs:{src:"https://uniweb.jiangruyi.com/gh/starideas/xyfront/libs/newyear/index.html?title="+(e.item.extra&&e.item.extra.newyearTitle?e.item.extra.newyearTitle:"新年快乐"),frameborder:"0"}}):e._e(),a("i",{directives:[{name:"show",rawName:"v-show",value:e.newyearShow,expression:"newyearShow"}],staticClass:"xyicon xyicon-close",staticStyle:{"font-size":"50px"},on:{click:e.newyearHide}})],1)},s=[],r=a("ade3"),n=a("1da1"),o=(a("d3b7"),a("159b"),a("b0c0"),a("96cf"),a("ca72")),l={name:"XyEditorTinymce",components:{"tinymce-vue":o["a"]},props:{item:{},value:{type:[String],default:""},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){var e=this;return{loadedScript:!1,audio:new Audio,audio1:new Audio,pluginPrefix:"https://uniweb.jiangruyi.com/gh/starideas/xyfront",content:"",init:{setup:function(e){var t;e.on("PostRender ",(function(){var a=e.getContainer();t=document.querySelector("body > .tox.tox-tinymce-aux"),a.parentNode.appendChild(t)}))},openImageAlbum:function(t){e.imageAlbumShow=!0},openNewyear:function(t){e.audio.loop="loop",e.audio.src="https://uniweb.jiangruyi.com/gh/starideas/xyfront/audio/幸福时光.mp3",e.audio.play(),e.audio1.loop="loop",e.audio1.src="https://uniweb.jiangruyi.com/gh/starideas/xyfront/audio/441.wav",e.audio1.play(),e.newyearShow=!0},external_plugins:{},menubar:this.item.extra.tinymce.hasOwnProperty("menubar")?this.item.extra.tinymce.menubar:"file edit view insert format tools table",toolbar_mode:this.item.extra.tinymce.toolbar_mode?this.item.extra.tinymce.toolbar_mode:"wrap",toolbar_sticky:!1,toolbar_location:"top",draggable_modal:!0,init_instance_callback:function(e){},default_link_target:"_blank",paste_data_images:!0,automatic_uploads:!0,file_picker_types:"file image media",file_picker_callback:this.filePickerCallback,images_upload_handler:this.imagesUploadHandler,language_url:this.item.extra.tinymce.language_url?this.item.extra.tinymce.language_url:"https://cdn.jsdelivr.net/gh/starideas/xyfront/libs/tinymce/langs/zh_CN.js",language:this.item.extra.tinymce.language?this.item.extra.tinymce.language:"zh_CN",skin_url:this.item.extra.tinymce.skin,theme:this.item.extra.tinymce.theme?this.item.extra.tinymce.theme:"silver",branding:!1,plugins:this.item.extra.tinymce.plugins?this.item.extra.tinymce.plugins:"editor135 axupimgs imagealbum newyear bdmap media link lists image imagetools code table wordcount fullscreen emoticons print codesample",toolbar:this.item.extra.tinymce.toolbar?this.item.extra.tinymce.toolbar:"formatselect fontselect fontsizeselect | link image axupimgs media bdmap blockquote codesample | bold italic underline strikethrough | forecolor backcolor bullist numlist | code fullscreen | editor135 newyear",audio_template_callback:function(e){return'<audio controls>\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"},video_template_callback:function(e){return'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"},media_url_resolver:this.mediaUrlResolver,media_alt_source:!1,media_dimensions:!1,media_live_embeds:!0,media_poster:!1,height:this.item.extra.tinymce.height?this.item.extra.tinymce.height:600,convert_urls:!1,font_formats:"\n                    微软雅黑=微软雅黑;\n                    宋体=宋体;\n                    黑体=黑体;\n                    仿宋=仿宋;\n                    楷体=楷体;\n                    隶书=隶书;\n                    幼圆=幼圆;\n                    Andale Mono=andale mono,times;\n                    Arial=arial, helvetica,\n                    sans-serif;\n                    Arial Black=arial black, avant garde;\n                    Book Antiqua=book antiqua,palatino;\n                    Comic Sans MS=comic sans ms,sans-serif;\n                    Courier New=courier new,courier;\n                    Georgia=georgia,palatino;\n                    Helvetica=helvetica;\n                    Impact=impact,chicago;\n                    Symbol=symbol;\n                    Tahoma=tahoma,arial,helvetica,sans-serif;\n                    Terminal=terminal,monaco;\n                    Times New Roman=times new roman,times;\n                    Trebuchet MS=trebuchet ms,geneva;\n                    Verdana=verdana,geneva;\n                    Webdings=webdings;\n                    Wingdings=wingdings,zapf dingbats"},editor:null,imageAlbumShow:!1,newyearShow:!1}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.content=this.value,this.init.external_plugins=Object(r["a"])({bdmap:this.pluginPrefix+"/libs/tinymce/plugins/bdmap/plugin.js",editor135:this.pluginPrefix+"/libs/tinymce/plugins/editor135/plugin.js",newyear:this.pluginPrefix+"/libs/tinymce/plugins/newyear/plugin.js",axupimgs:this.pluginPrefix+"/libs/tinymce/plugins/axupimgs/plugin.js"},"newyear",this.pluginPrefix+"/libs/tinymce/plugins/newyear/plugin.js"),e.next=4,this.loadScript();case 4:this.loadedScript=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{newyearHide:function(){this.audio.pause(),this.audio1.pause(),this.newyearShow=!1},confirm:function(e){var t=this;Array.isArray(e)&&e.length>0&&e.forEach((function(e,a){t.editor.execCommand("selectAll"),t.editor.selection.getRng().collapse(!1),t.editor.focus();var i='<div><img src="'+e+'"/></div>';t.editor.insertContent(i)}))},onReady:function(e){this.editor=e.target},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdn.jsdelivr.net/npm/tinymce@5.5.1/tinymce.min.js").then((function(){t()}))}))},mediaUrlResolver:function(e,t){if(-1!==e.url.indexOf(".html")){var a='<iframe src="'+e.url+'" width="600" height="400" ></iframe>';t({html:a})}else t({html:""})},filePickerCallback:function(e,t,a){var i=this,s=document.createElement("input");s.setAttribute("type","file"),s.onchange=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,o,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c=this.files[0],t.next=3,i.util.uploadFile({driver:i.item.extra.driver||"default",signUrl:i.item.extra.signUrl||"",url:i.item.extra.action,header:i.header,file:c,provider:null===(a=i.item.extra)||void 0===a?void 0:a.provider,spaceId:null===(s=i.item.extra)||void 0===s?void 0:s.spaceId,clientSecret:null===(r=i.item.extra)||void 0===r?void 0:r.clientSecret,maxSize:null===(n=i.item.extra)||void 0===n?void 0:n.maxSize,hasUploadModule:null===(o=i.item.extra)||void 0===o?void 0:o.hasUploadModule,checkExist:null===(l=i.item.extra)||void 0===l?void 0:l.checkExist});case 3:u=t.sent,u.data&&e(u.data.url,{text:c.name,alt:c.name});case 6:case"end":return t.stop()}}),t,this)}))),s.click()},imagesUploadHandler:function(e,t,a){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i.util.uploadFile({driver:i.item.extra.driver||"default",signUrl:i.item.extra.signUrl||"",url:i.item.extra.action,header:i.header,blobInfo:e,provider:null===(s=that.item.extra)||void 0===s?void 0:s.provider,spaceId:null===(r=that.item.extra)||void 0===r?void 0:r.spaceId,clientSecret:null===(n=that.item.extra)||void 0===n?void 0:n.clientSecret,maxSize:null===(o=that.item.extra)||void 0===o?void 0:o.maxSize,hasUploadModule:null===(l=that.item.extra)||void 0===l?void 0:l.hasUploadModule,checkExist:null===(c=that.item.extra)||void 0===c?void 0:c.checkExist});case 2:u=a.sent,u.data&&t(u.data.url);case 4:case"end":return a.stop()}}),a)})))()}},watch:{content:function(e){this.item.extra.disabled?this.$message({message:"只读模式",type:"warning"}):this.$emit("input",e)}}},c=l,u=(a("3a695"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"5b886a08",null);t["a"]=d.exports},"25ed":function(e,t,a){"use strict";a("b182")},"26ff":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready?a("div",{staticClass:"xy-builder-comp xy-builder-wrap-tab"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"small",type:e.tabData.tabType||"card",animated:!1},on:{"tab-click":e.tabClick},model:{value:e.tabCurrent,callback:function(t){e.tabCurrent=t},expression:"tabCurrent"}},e._l(e.tabData.tabList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.title,name:"tab_"+i}},[a("XyBuilderStack",{ref:"xy_builder_tab_innner_"+i,refInFor:!0,attrs:{header:e.header,api:"",show:t.show,predata:{stackList:t.list}}})],1)})),1)],1):e._e()},s=[],r=a("b85c"),n=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("ac1f"),a("1276"),a("b0c0"),a("159b"),a("4328")),l=a.n(o),c={name:"XyBuilderTab",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},predata:""},components:{},data:function(){return{loading:!1,ready:!1,tabData:{tabList:[],tabType:"card",countList:[]},tabCurrent:"tab_0"}},watch:{},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"114b"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderForm=function(){return Promise.resolve().then(a.bind(null,"4d99"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"396d"))}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.predata){t.next=4;break}e.readyProcess(e.predata),t.next=6;break;case 4:return t.next=6,e.loadData();case 6:e.getQueryParams(0);case 7:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{getQueryParams:function(e){if(this.tabData.tabList[e].list){var t,a=Object(r["a"])(this.tabData.tabList[e].list);try{for(a.s();!(t=a.n()).done;){var i=t.value,s="";i.pageData.api&&(s=i.pageData.api+i.pageData.apiParams);var n="";n="string"!=typeof i.pageData.queryParams?l.a.stringify(i.pageData.queryParams):0==i.pageData.queryParams.indexOf("?")?i.pageData.queryParams.substr(1):i.pageData.queryParams,n&&(s=s+"?"+n),i.pageData.apiBlank=s,i.pageData.show=!0}}catch(o){a.e(o)}finally{a.f()}}},tabClick:function(e,t){var a=e.name.split("_"),i=a[1];this.getQueryParams(i)},readyProcess:function(e){e&&(e.tabList.forEach((function(e){e.hasOwnProperty("show")||(e.show=!1),e.list.forEach((function(e){e.hasOwnProperty("predata")||(e.predata=""),e.hasOwnProperty("pageData")||(e.pageData={}),e.pageData.hasOwnProperty("count")||(e.pageData.count=0),e.pageData.hasOwnProperty("modalType")||(e.pageData.modalType="list"),e.pageData.hasOwnProperty("apiBlank")||(e.pageData.apiBlank=""),e.pageData.hasOwnProperty("api")||(e.pageData.api=""),e.pageData.hasOwnProperty("show")||(e.pageData.show=!1),e.pageData.hasOwnProperty("apiParams")||(e.pageData.apiParams=""),e.pageData.hasOwnProperty("queryParams")||(e.pageData.queryParams="")}))})),this.tabData=e,this.ready=!0)},loadData:function(){var e=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.loading=!0,!t.api){a.next=8;break}return a.next=6,t.util.request({url:t.api,method:"get",header:t.header});case 6:s=a.sent,"200"==s.code?t.readyProcess(s.data.tabData):t.util.showToast({title:s.msg,icon:"loading",duration:3e3});case 8:t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,s,!1,null,null,null);t["default"]=m.exports},"29a5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"登录密码",description:""}}),a("el-step",{attrs:{title:"验证旧邮箱",description:""}}),a("el-step",{attrs:{title:"验证新邮箱",description:""}}),a("el-step",{attrs:{title:"绑定成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"0px"}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.verifyPassword}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"formVerfyEmail",attrs:{"label-position":"left","label-width":"140px",model:e.formVerfyEmail}},[a("div",{staticClass:"m-b-md ts-12 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("为确认您本人操作，需要您进行邮箱验证码验证身份。")]),a("el-form-item",{attrs:{prop:"mobile",label:"请输入旧邮箱"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",type:"text",prefix:"ios-at-outline",disabled:"",placeholder:"请输入旧邮箱"},model:{value:e.formVerfyEmail.email,callback:function(t){e.$set(e.formVerfyEmail,"email",t)},expression:"formVerfyEmail.email"}}),a("div",{staticClass:"text-gray m-l-md"},[e._v(" 邮箱不可用？点此提交工单 ")])],1)]),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.formVerfyEmail.verify,callback:function(t){e.$set(e.formVerfyEmail,"verify",t)},expression:"formVerfyEmail.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/email/verify/send",type:"邮箱",account:e.formVerfyEmail.email,title:"手机换绑"},on:{verifysuccess:e.getVerifyTokenVerfyEmail}})],1)],1)]),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.verifyEmail()}}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"email",label:"请输入新邮箱号"}},[a("el-input",{attrs:{size:"medium",type:"text",prefix:"ios-at-outline",placeholder:"请输入新邮箱号"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/email/verify/send",type:"邮箱",verifyUser:1,account:e.form.mobile,title:"邮箱换绑"},on:{verifysuccess:e.getVerifyToken}})],1)],1)]),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"邮箱换绑"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确定 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),4==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到短信验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成邮箱丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实邮箱邮件是否被拦截，检查垃圾箱。"),a("br"),e._v(" 3、如果邮箱已经停用， 请选择其他验证方式 。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("换绑邮箱成功。")])])}],r=a("1da1"),n=(a("96cf"),a("160b")),o=a("3a69"),l={mixins:[o["default"]],components:{XySendVerify:n["a"]},data:function(){return{active:1,verifyList:[],loading:!1,formVerfyEmail:{email:this.$store.state.user.userInfo.email.identifier,verify:"",token:""},form:{email:"",password:"",verify:"",token:"",mobile:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{email:[{required:!0,message:"请填写新邮箱",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{verifyPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.doVerifyPassword();case 2:a=t.sent,"200"==a.code&&e.active++;case 4:case"end":return t.stop()}}),t)})))()},getVerifyTokenVerfyEmail:function(e){this.formVerfyEmail.token=e.token},verifyEmail:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/verify",data:e.formVerfyEmail,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},getVerifyToken:function(e){this.form.token=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/reg_email/user/change",method:"get"});case 2:a=t.sent,"200"==a.code?e.verifyList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/change",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("babc"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"30e16c2e",null);t["default"]=d.exports},"2d28":function(e,t,a){},"2d5f":function(e,t,a){"use strict";a("1009")},"2fd7":function(e,t,a){},"30d6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"登录密码",description:""}}),a("el-step",{attrs:{title:"验证旧手机号",description:""}}),a("el-step",{attrs:{title:"验证新手机",description:""}}),a("el-step",{attrs:{title:"绑定成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"0px"}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.verifyPassword}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"formVerfyMobile",attrs:{"label-position":"left","label-width":"140px",model:e.formVerfyMobile}},[a("div",{staticClass:"m-b-md ts-12 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("为确认您本人操作，需要您进行手机验证码验证身份。")]),a("el-form-item",{attrs:{prop:"mobile",label:"请输入旧手机号"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",type:"text",prefix:"ios-at-outline",disabled:"",placeholder:"请输入旧手机号"},model:{value:e.formVerfyMobile.mobile,callback:function(t){e.$set(e.formVerfyMobile,"mobile",t)},expression:"formVerfyMobile.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onVerifyCountrySelect}})],1)],2),a("div",{staticClass:"text-gray m-l-md"},[e._v(" 手机号码不可用？点此提交工单 ")])],1)]),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.formVerfyMobile.verify,callback:function(t){e.$set(e.formVerfyMobile,"verify",t)},expression:"formVerfyMobile.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/sms/verify/send",type:"手机号",verifyUser:1,account:e.formVerfyMobile.mobile,title:"手机换绑"},on:{verifysuccess:e.getVerifyTokenVerfyMobile}})],1)],1)]),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.verifyMobile()}}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"mobile",label:"请输入新手机号"}},[a("el-input",{attrs:{size:"medium",type:"text",prefix:"ios-at-outline",placeholder:"请输入新手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onCountrySelect}})],1)],2)],1),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/sms/verify/send",type:"手机号",account:"form.mobile",title:"手机换绑"},on:{verifysuccess:e.getVerifyToken}})],1)],1)]),e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"手机换绑"},on:{verifysuccess:e.getEmailVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确定 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),4==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到短信验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实手机是否已欠费停机，或者屏蔽了系统短信。"),a("br"),e._v(" 3、如果手机已丢失或停用， 请选择其他验证方式 。"),a("br"),e._v(" 4、您也可以尝试将SIM卡移动到另一部手机，然后重试。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("换绑手机号成功。")])])}],r=a("1da1"),n=(a("b0c0"),a("96cf"),a("160b")),o=a("3a69"),l=a("4167"),c=a.n(l),u={mixins:[o["default"]],components:{XySendVerify:n["a"],VueCountryCode:c.a},data:function(){var e;return{active:1,verifyList:[],loading:!1,formVerfyMobile:{countryCode:null===(e=this.$store.state.user.userInfo.mobile)||void 0===e?void 0:e.identityGroup,mobile:this.$store.state.user.userInfo.mobile.identifier,verify:"",token:""},form:{countryCode:"+86",mobile:"",password:"",verify:"",token:"",email:"",emailVerify:"",emailToken:"",gauth:""},rule:{mobile:[{required:!0,message:"请填写新手机号",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{verifyPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.doVerifyPassword();case 2:a=t.sent,"200"==a.code&&e.active++;case 4:case"end":return t.stop()}}),t)})))()},getVerifyTokenVerfyMobile:function(e){this.formVerfyMobile.token=e.token},onVerifyCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.formVerfyMobile.countryCode="+"+t},verifyMobile:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_mobile/user/verify",data:e.formVerfyMobile,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},onCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.form.countryCode="+"+t},getVerifyToken:function(e){this.form.token=e.token},getEmailVerifyToken:function(){this.form.emailToken=res.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/reg_mobile/user/change",method:"get"});case 2:a=t.sent,"200"==a.code?e.verifyList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_mobile/user/change",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},d=u,m=(a("50f0"),a("2877")),p=Object(m["a"])(d,i,s,!1,null,"676fec6e",null);t["default"]=p.exports},"33db":function(e,t,a){"use strict";a("3f80")},3600:function(e,t,a){},3680:function(e,t,a){"use strict";a("10ef")},3716:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"100px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box hidden-sm-and-down",attrs:{md:10,lg:16}},[a("img",{attrs:{src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/a5530bd3-6d32-483a-a8be-394e6016043f.png",width:"630"}})]),"choose"==e.show?a("el-col",{staticClass:"login-box bg-white",attrs:{xs:24,sm:{span:14,offset:5},md:15,lg:9}},[a("div",{staticClass:"success-box text-center"},[a("h4",{staticClass:"title"},[e._v(" 账号绑定 ")]),a("p",[e._v(" 您的微信未绑定"+e._s(e.$store.state.app.siteInfo.title)+"账户，请选择操作 ")]),a("el-button",{staticClass:"full cert",attrs:{size:"large",type:"primary"},on:{click:function(t){e.show="mobileVerify"}}},[e._v(" 绑定已有账户 ")]),a("el-button",{staticClass:"full skip",attrs:{size:"large"},on:{click:function(t){return e.handleRegister()}}},[e._v(" 创建新账户 ")])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter"})]):e._e(),"mobileVerify"==e.show?a("el-col",{staticClass:"login-box bg-white",attrs:{xs:24,sm:{span:14,offset:5},md:15,lg:9}},[a("div",{staticClass:"title"},[e._v(" 用户绑定并登录 ")]),a("div",{staticClass:"subtitle"},[e._v(" 还没有注册吗？ "),a("router-link",{attrs:{to:"/user/register"}},[e._v(" 请点击这里 ")])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入您的手机号码"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),a("div",{staticClass:"flex flex-alignCenter"},[a("el-form-item",{staticClass:"flex-1",attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}})],1),a("XySendVerify",{staticClass:"send-verity-button",attrs:{slot1:"append",url:"/v1/sms/verify/send",type:"手机号",account:e.form.account,title:"用户登录"},on:{verifysuccess:e.getVerifyToken}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.form.loading,type:"primary"},on:{click:function(t){return e.handleBind("mobildVerify")}}},[e._v(" 绑定 ")]),a("div",{staticClass:"actions flex m-t"},[a("div",{on:{click:function(t){e.show="password"}}},[e._v(" 使用账号密码绑定 ")]),a("div",[a("router-link",{attrs:{to:"/user/resetPassword"}},[e._v(" 忘记密码？ ")])],1)])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter",on:{click:function(t){e.show="choose"}}})],1):e._e(),"password"==e.show?a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 用户绑定并登录 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入您的邮箱地址或手机号码"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.form.loading,type:"primary"},on:{click:function(t){return e.handleBind("password")}}},[e._v(" 绑定 ")]),a("div",{staticClass:"actions flex m-t"},[a("div",{on:{click:function(t){e.show="mobileVerify"}}},[e._v(" 使用手机验证码绑定 ")]),a("div",[a("router-link",{attrs:{to:"/user/resetPassword"}},[e._v(" 忘记密码？ ")])],1)])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter",on:{click:function(t){e.show="choose"}}})],1):e._e()],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{show:"choose",type:"",form:{loading:!1,seed:"",bindType:"",account:"",password:"",verify:"",token:""},rule:{account:[{required:!0,message:"请填写账号",trigger:"blur"}]}}},created:function(){this.type=this.$route.query.type,this.form.seed=this.$route.query.seed},methods:{getVerifyToken:function(e){this.form.token=e},handleRegister:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),i="",t.t0=e.type,t.next="wxmp"===t.t0?7:"wxapp"===t.t0?9:11;break;case 7:return i="/v1/wxmp/user/register",t.abrupt("break",13);case 9:return i="/v1/wxapp/user/register",t.abrupt("break",13);case 11:return t.abrupt("return");case 13:return t.next=15,e.util.request({url:i,data:e.form,method:"post"});case 15:s=t.sent,"200"==s.code?(e.$store.commit("user/setToken",s.data.token),e.$store.commit("user/setUserInfo",s.data.userInfo),e.util.showToast({title:s.msg,icon:"success",duration:2e3}),e.util.navigateTo("/my")):e.util.showToast({title:s.msg,icon:"loading",duration:3e3}),e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},handleBind:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.form.bindType=e,t.loading=!0,i=t,setTimeout((function(){i.loading=!1}),5e3),"",a.t0=t.type,a.next="wxmp"===a.t0?8:"wxapp"===a.t0?10:12;break;case 8:return"/v1/wxmp/user/bind",a.abrupt("break",14);case 10:return"/v1/wxapp/user/bind",a.abrupt("break",14);case 12:return a.abrupt("return");case 14:return a.next=16,t.util.request({url:"/v1/third_login/user/bind",data:t.form,method:"post"});case 16:s=a.sent,"200"==s.code?(t.$store.commit("user/setToken",s.data.token),t.$store.commit("user/setUserInfo",s.data.userInfo),t.util.showToast({title:s.msg,icon:"success",duration:2e3}),t.util.navigateTo("/my")):t.util.showToast({title:s.msg,icon:"loading",duration:3e3}),t.loading=!1;case 19:case"end":return a.stop()}}),a)})))()}}},l=o,c=(a("e43a"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"3fe2ae3c",null);t["default"]=u.exports},3889:function(e,t,a){},"38b0":function(e,t,a){"use strict";a("dc28")},3950:function(e,t,a){},"396d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-stack"},e._l(e.stackData.stackList,(function(t,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:i,staticClass:"stack-list"},[a("xy-title",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"stack.title"}],staticClass:"m-b-sm"},[e._v(e._s(t.title))]),a("el-row",[a("el-col",{staticClass:"stack-item block",attrs:{xs:24,sm:24}},["tab"==t.pageData.modalType?[a("XyBuilderTab",{ref:"xy_builder_tab_"+i,refInFor:!0,attrs:{header:e.header,show:!0,predata:t.predata}})]:["list"==t.pageData.modalType?a("div",[a("XyBuilderList",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,predata:t.predata}})],1):"form"==t.pageData.modalType?a("div",[a("XyBuilderForm",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,predata:t.predata}})],1):"info"==t.pageData.modalType?a("div",[a("XyBuilderInfo",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,api:t.pageData.apiBlank,show:t.pageData.show,predata:t.predata}})],1):e._e()]],2)],1)],1)})),0)},s=[],r=a("1da1"),n=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("6df9")),o={components:{"xy-title":n["a"]},name:"XyBuilderStack",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:""},data:function(){return{loading:!1,stackData:{stackList:""}}},watch:{show:function(e){this.stackData={},1==e&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"114b"))},this.$options.components.XyBuilderForm=function(){return Promise.resolve().then(a.bind(null,"4d99"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"26ff"))}},created:function(){this.predata?this.stackData=this.predata:this.loadData()},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{loadData:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.loading=!0,!t.api){a.next=8;break}return a.next=6,t.util.request({url:t.api,method:"get",header:{CloudId:null===(s=t.header)||void 0===s?void 0:s.cloudId,Eid:null===(r=t.header)||void 0===r?void 0:r.eid}});case 6:n=a.sent,"200"==n.code?(t.stackData=n.data.stackData,t.loading=!1):t.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 8:t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"57a5f0c6",null);t["default"]=u.exports},"3a695":function(e,t,a){"use strict";a("a688")},"3b76":function(e,t,a){"use strict";a("fcbb")},"3e02":function(e,t,a){},"3f80":function(e,t,a){},"3fbc":function(e,t,a){"use strict";a("5315")},"42b5":function(e,t,a){"use strict";a("84cf")},4570:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container p-t"},[a("el-breadcrumb",{staticClass:"m-b-lg",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/user/center"}}},[e._v("个人设置")]),a("el-breadcrumb-item",[e._v("换绑谷歌验证码")])],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:22,sm:20,md:16,lg:14}},[a("div",{staticClass:"top-tip"},[e._v("谷歌验证器是一款动态口令工具，工作原理类似短信动态验证。绑定后每30s生成一个动态验证码，验证码可用于登录、提现、修改安全设置等操作的安全验证。")]),a("div",{staticStyle:{height:"500px"}},[a("el-steps",{attrs:{direction:"vertical",space1:"60",active:0}},[a("el-step",{attrs:{status:"process",title:"下载谷歌验证"}},[a("div",{attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:"des"},[e._v("iOS用户登录App Store搜索“Authenticator”下载安卓用户登录应用商店或使用手机浏览器搜索“谷歌验证器”下载")]),a("div",{staticStyle:{"margin-bottom":"60px"}},[a("img",{staticStyle:{"margin-right":"60px"},attrs:{src:"https://cdn.jsdelivr.net/gh/starideas/xyfront/image/appstore.png",alt:"appstore"}}),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/starideas/xyfront/image/googleplay.png",alt:"googleplay"}})])])]),a("el-step",{attrs:{status:"process",title:"在谷歌验证器中添加密钥并备份"}},[a("div",{attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:"des"},[e._v("打开谷歌验证器，扫描下方二维码或手动输入下述密钥添加验证令牌。")]),a("div",{staticClass:"gauth flex"},[a("div",{staticClass:"qr"},[a("vue-lazy-component",{attrs:{timeout:5e3}},[a("xy-qrcode",{attrs:{value:e.gauthQrcode,options:{width:118}}})],1)],1),a("div",[a("div",{staticClass:"key"},[e._v("Key："+e._s(e.gauthSecret))]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.gauthSecret,expression:"gauthSecret",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"copy"},[a("i",{staticClass:"el-icon-copy-document"}),e._v(" 复制秘钥 ")])])])])]),a("el-step",{attrs:{status:"process",title:"输入谷歌验证器中6位验证码",description:""}})],1)],1),a("el-row",{staticClass:"m-t",staticStyle:{"margin-left":"30px"},attrs:{type:"flex",justify:"start",align:"middle"}},[a("el-col",{staticClass:"login-box bg-white1 p-a-0",attrs:{xs:22,sm:22,md:18,lg:18}},[a("div",{staticClass:"m-b"},[e._v(" 谷歌验证码 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}})],1),e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"换绑谷歌验证"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"换绑谷歌验证"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 绑定 ")])],1)],1)],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o=a("147d");Vue.component("qrcode",VueQrcode);var l={components:{XySendVerify:n["a"],"xy-qrcode":o["a"]},data:function(){return{verifyList:[],loading:!1,gauthSecret:"加载中...",gauthQrcode:"",form:{verify:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:""},rule:{verify:[{required:!0,message:"请填写谷歌验证码",trigger:"blur"},{type:"string",min:6,message:"验证码为6位",trigger:"blur"}]}}},created:function(){this.loadData()},mounted:function(){},methods:{copySuccess:function(){alert("拷贝成功")},getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/gauth/user/change",method:"get"});case 2:a=t.sent,"200"==a.code?(e.verifyList=a.data.dataList,e.gauthSecret=a.data.gauthSecret,e.gauthQrcode=a.data.gauthQrcode):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/gauth/user/change",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateBack()):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("33db"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"2ac8df81",null);t["default"]=d.exports},"46b2":function(e,t,a){"use strict";a("e0aa")},"46eb":function(e,t,a){"use strict";a("fe03")},"490f":function(e,t,a){},4952:function(e,t,a){},"49c3":function(e,t,a){"use strict";a("5e32")},"4b5f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"验证邮箱",description:""}}),a("el-step",{attrs:{title:"输入新密码",description:""}}),a("el-step",{attrs:{title:"修改成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("div",{staticClass:"m-b-md ts-12 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("为确认您本人操作，需要您进行邮箱验证码验证身份。")]),a("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[a("el-input",{attrs:{disabled:"",size:"medium",type:"text",prefix:"ios-at-outline",placeholder:e.form.mobile?"邮箱":"未绑定邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/email/verify/send",type:"邮箱",account:e.form.email,title:"修改密码"},on:{verifysuccess:e.getVerifyToken}})],1)],1)]),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.goStep2}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"newPassword",label:"输入新的密码"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"输入新的密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),a("el-form-item",{attrs:{prop:"rePassword",label:"再次输入"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"再次输入"},model:{value:e.form.rePassword,callback:function(t){e.$set(e.form,"rePassword",t)},expression:"form.rePassword"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成邮箱丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实邮箱邮件是否被拦截，检查垃圾箱。"),a("br"),e._v(" 3、如果邮箱已经停用， 请选择其他验证方式 。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("修改登录密码成功，请您牢记密码。")])])}],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){var e;return{active:1,loading:!1,form:{email:null===(e=this.$store.state.user.userInfo.email)||void 0===e?void 0:e.identifier,verify:"",token:"",newPassword:"",rePassword:""},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],rePassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){var e;null!==(e=this.$store.state.user.userInfo.email)&&void 0!==e&&e.identifier||this.util.showToast({title:"未绑定邮箱",icon:"loading",duration:3e3})},methods:{goStep2:function(){this.form.email&&this.form.verify&&this.form.token?this.active++:this.util.showToast({title:"验证失败",icon:"loading",duration:3e3})},getVerifyToken:function(e){this.form.token=e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/restPassword",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("dde0"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"309441ac",null);t["default"]=u.exports},"4c1d":function(e,t,a){},"4d99":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"xy-builder-comp xy-builder-wrap-form",attrs:{"element-loading-text":"拼命加载中"}},[""!=e.formData&&e.ready?a("div",[e._l(e.formData.alertList.top,(function(t,i){return[t.show&&!0===t.show?a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{staticClass:"m-b-sm",domProps:{innerHTML:e._s(t.desc)}})]):e._e()]})),e.formData.formTabs.length>0?[a("el-tabs",{attrs:{value:e.formData.formTabs[0].name}},[e._l(e.formData.formTabs,(function(t,i){return[t.formItems&&t.formItems.length>0?a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[a("el-form",{ref:e.ref+"_"+t.name,refInFor:!0,attrs:{model:e.formData.formValues[t.name].tabValues,"label-position":e.formData.config.labelPosition||e.labelPosition,"label-width":e.labelWidth+""},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(t.formItems,(function(i,s){return[a("XyBuilderformItem",{key:s,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formData.formValues[t.name].tabValues,formRules:t.formRules,header:e.header,prop:i.name,showDev:e.showDev,config:e.formData.config}})]}))],2)],1):e._e()]}))],2)]:[a("el-form",{ref:e.ref,attrs:{size:"medium",model:e.formData.formValues,"status-icon":!0,"label-position":e.formData.config.labelPosition||e.labelPosition,"label-width":e.formData.config.labelWidth||e.labelWidth},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{type:"flex",gutter:0}},[a("el-col",{staticClass:"form-top",attrs:{span:24}},[a("div",{staticClass:"form-group form-group-default m-b"},[a("el-row",{staticClass:"flex flex-wrap",attrs:{type:"flex",gutter:20}},[e._l(e.formData.formItems,(function(t,i){return[a("el-col",{key:i,staticClass:"form-item-col",attrs:{xs:24,sm:24,md:t.extra.span?t.extra.span:24}},[t.extra.inGroup?e._e():a("XyBuilderformItem",{ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name,showDev:e.showDev,config:e.formData.config}})],1)]}))],2)],1)])],1),a("el-row",{staticClass:"form-label-top flex flex-wrap",attrs:{gutter:20}},e._l(e.formData.formCols,(function(t,i){return a("el-col",{key:i,attrs:{xs:24,sm:24,md:24,lg:t.span.lg}},[t.itemList.length>0?[e._l(e.formData.formGroups,(function(i,s){return[t.itemList.includes(i.name)?a("div",{key:s,staticClass:"form-group m-b"},[a("div",{staticClass:"p-b-xs tw5 ts-14"},[a("xy-title",[e._v(e._s(i.title))])],1),e._l(e.formData.formItems,(function(t,s){return[i.itemList.includes(t.name)?a("XyBuilderformItem",{key:s,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name,showDev:e.showDev,config:e.formData.config}}):e._e()]})),a("div",{staticClass:"p-t-xs ts-13 text-gray"},[a("text",[e._v(e._s(i.extra.tip))])])],2):e._e()]}))]:e._e()],2)})),1)],1)],e._l(e.formData.alertList.bottom,(function(t,i){return[t.show&&!0===t.show?a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{staticClass:"m-b-sm",domProps:{innerHTML:e._s(t.desc)}})]):e._e()]})),e.res.msg?a("el-alert",{attrs:{type:"error","show-icon":"",closable:""},on:{close:function(t){e.res={}}}},[e._v(e._s(e.res.msg))]):e._e(),a("div",{staticClass:"m-t m-b flex footer-buttons"},[e.formData.config.hideSubmitButton?e._e():a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength||"120px"}},[a("el-button",{staticClass:"full",attrs:{loading:e.subloading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" "+e._s(e.formData.config.submitButtonTitle||"确认")+" ")])],1),e.formData.config.hideCancelButton?e._e():a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength||"120px"}},[a("el-button",{staticClass:"full",attrs:{type:"default"},on:{click:function(t){return e.cancel()}}},[e._v(" "+e._s(e.formData.config.cancelButtonTitle||"取消")+" ")])],1)]),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:this.formData.config.continue&&"post"==this.formData.formMethod,expression:"this.formData.config.continue && this.formData.formMethod == 'post'"}],model:{value:e.addNext,callback:function(t){e.addNext=t},expression:"addNext"}},[e._v("继续录入下一条")])],2):e._e(),a("XySafetyVerify",{ref:"sv",on:{"verify-request":e.submitForm},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],1)},s=[],r=a("5530"),n=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("caad"),a("2532"),a("b0c0"),a("ac1f"),a("841c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.ready?a("div",{staticClass:"builder-form-item"},[e.item.extra.hide||e.item.extra.isDev&&!e.showDev||"hidden"==e.item.type?e._e():["tabs"==e.item.type?[a("el-tabs",{attrs:{value:e.item.extra.options[0].name,animated:!1}},[e._l(e.item.extra.options,(function(t,i){return[a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[e._l(t.options,(function(i,s){return[a("XyBuilderFormItem",{key:s,ref:"this.itememtab_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formValues,formRules:e.formRules,header:e.header,prop:e.item.name,showDev:e.showDev,config:e.config}})]}))],2)]}))],2)]:a("el-form-item",{attrs:{label:e.item.title,prop:e.prop,rules:e.formRules[e.item.name]?e.formRules[e.item.name]:[]}},["divider"==e.item.type?[a("el-divider")]:"hidden"==e.item.type?[a("span",{staticClass:"hidden"},[e._v(e._s(e.item.value))])]:"static"==e.item.type?[a("span",[e._v(e._s(e.item.value))]),a("el-input",{staticClass:"hidden",attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"link"==e.item.type?[a("a",{attrs:{href:e.item.value,target:"_blank"}},[e._v(e._s(e.item.extra.title))])]:"audio"==e.item.type?[a("audio",{attrs:{src:e.formValues[e.item.name][0].url,controls:"controls"}},[e._v(" 您的浏览器不支持 audio 标签。 ")])]:"video"==e.item.type?[a("video",{attrs:{src:e.formValues[e.item.name][0].url,controls:"controls",width:"700"}},[e._v(" 您的浏览器不支持 video 标签。 ")])]:"text"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"password"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"password",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"url"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"url",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"email"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"email",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"number"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"number",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"digit"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"text",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tel"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"tel",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"textarea"==e.item.type||"array"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"textarea",autosize:{minRows:e.item.extra.minRows?e.item.extra.minRows:3,maxRows:e.item.extra.maxRows?e.item.extra.maxRows:10},placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"select"==e.item.type?[a("el-select",{staticClass:"full",attrs:{clearable:"",filterable:"",disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"selects"==e.item.type?[a("el-select",{staticClass:"full",attrs:{filterable:!0,multiple:!0,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==e.item.type?[a("el-radio-group",{model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(t,i,s){return a("el-radio",{key:s,attrs:{disabled:e.item.extra.disabled,label:t.value}},[t.icon?a("i",{class:t.icon}):e._e(),a("span",[e._v(e._s(t.title))])])})),1)]:"checkbox"==e.item.type?[a("XyCheckboxGroup",{attrs:{disabled:e.item.extra.disabled,options:e.item.extra.options},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"switch"==e.item.type?[a("el-switch",{attrs:{disabled:e.item.extra.disabled,"active-value":e.item.extra.options[1].value,"active-text":e.item.extra.options[1].title,"inactive-value":e.item.extra.options[0].value,"inactive-text":e.item.extra.options[0].title},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"slider"==e.item.type?[a("el-slider",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tags"==e.item.type?[a("XyTagsInput",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"daterangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimerangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timeselect"==e.item.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{start:e.item.extra.start?e.item.extra.start:"00:00",step:e.item.extra.step?e.item.extra.step:"00:15",end:e.item.extra.end?e.item.extra.end:"23:00"}},on:{change:e.timeSelectChange},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timerangeselect"==e.item.type?[a("div",{staticClass:"flex"},[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{start:e.item.extra.start?e.item.extra.start:"00:00",step:e.item.extra.step?e.item.extra.step:"00:15",end:e.item.extra.end?e.item.extra.end:"00:00"}},model:{value:e.formValues[e.item.name][0],callback:function(t){e.$set(e.formValues[e.item.name],0,t)},expression:"formValues[item.name][0]"}}),a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{start:e.item.extra.start?e.item.extra.start:"00:00",step:e.item.extra.step?e.item.extra.step:"00:15",end:e.item.extra.end?e.item.extra.end:"00:00",minTime:e.formValues[e.item.name][0]}},model:{value:e.formValues[e.item.name][1],callback:function(t){e.$set(e.formValues[e.item.name],1,t)},expression:"formValues[item.name][1]"}})],1)]:"timepicker"==e.item.type?[a("el-time-picker",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"picker-options":{selectableRange:e.item.extra.selectableRange?e.item.extra.selectableRange:"08:30:00 - 22:30:00"},"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timerangepicker"==e.item.type?[a("el-time-picker",{attrs:{type:"timerange","is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间区间",disabled:e.item.extra.disabled,"picker-options":{selectableRange:e.item.extra.selectableRange?e.item.extra.selectableRange:"08:30:00 - 22:30:00"},"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"rate"==e.item.type?[a("el-rate",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"cascader"==e.item.type||"region"==e.item.type?[a("XyCascader",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"colorpicker"==e.item.type?[a("el-color-picker",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"image"==e.item.type?[a("xy-upload",{attrs:{options:{type:"image",drag:!0},item:e.item,img:{name:"",title:""},header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"imageflex"==e.item.type?[a("div",{staticStyle:{display:"flex"}},e._l(e.item.extra.options,(function(t,i){return a("div",{key:i,staticStyle:{"padding-right":"15px"}},[a("xy-upload",{attrs:{options:{type:"image",drag:!1},item:e.item,img:t,header:e.header},model:{value:e.formValues[e.item.name][t.value],callback:function(a){e.$set(e.formValues[e.item.name],t.value,a)},expression:"formValues[item.name][img.value]"}})],1)})),0)]:"images"==e.item.type?[a("xy-upload",{attrs:{options:{type:"images",drag:!0},item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"file"==e.item.type?[a("xy-upload",{attrs:{options:{type:"file",drag:!1},drag:!1,item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"files"==e.item.type?[a("xy-upload",{attrs:{options:{type:"files",drag:!1},item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"poster"==e.item.type?[a("XyBuilderFormPoster",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"selectlist"==e.item.type?[e._v(" "+e._s(e.formValues[e.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v(" 点击选择 ")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width||600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,header:e.header,config:{listSelectType:"radio"},api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"selectlists"==e.item.type?[e._v(" "+e._s(e.formValues[e.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v(" 点击选择 ")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width||600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,header:e.header,config:{listSelectType:"checkbox"},api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"formlist"==e.item.type?[a("el-row",{attrs:{gutter:12}},e._l(e.item.extra.options,(function(t,i,s){return a("div",{key:s},[a("el-col",{attrs:{span:t.span}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),e._l(e.formValues[e.item.name],(function(t,i,s){return a("el-row",{key:s,staticStyle:{padding:"1px 0"},attrs:{gutter:12}},[e._l(e.item.extra.options,(function(t,s,r){return a("div",{key:r},[a("el-col",{attrs:{span:t.span}},[e.item.extra.options[s].type&&"text"==e.item.extra.options[s].type||e.item.extra.options[s].type&&"switch"==e.item.extra.options[s].type?[a("el-input",{model:{value:e.formValues[e.item.name][i][t.name],callback:function(a){e.$set(e.formValues[e.item.name][i],t.name,a)},expression:"formValues[item.name][key2][item3.name]"}})]:e.item.extra.options[s].type&&"datetimepicker"==e.item.extra.options[s].type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name][i][t.name],callback:function(a){e.$set(e.formValues[e.item.name][i],t.name,a)},expression:"formValues[item.name][key2][item3.name]"}})]:[a("el-input",{model:{value:e.formValues[e.item.name][i][t.name],callback:function(a){e.$set(e.formValues[e.item.name][i],t.name,a)},expression:"formValues[item.name][key2][item3.name]"}})]],2)],1)})),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.formlistDelrow(i)}}},[e._v("删除")])],2)})),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"dashed",icon:"md-add",size:"small"},on:{click:function(t){return e.formlistAddrow()}}},[e._v(" 增加一行 ")])]:"datalist"==e.item.type?[a("XyBuilderList",{ref:"list_"+e.item.name,attrs:{header:e.header,api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show}})]:"checkboxtree"==e.item.type?[a("XyCheckboxTree",{attrs:{data:e.item.extra.data,nodeKey:e.item.extra.nodeKey,columns:e.item.extra.columns,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"md"==e.item.type||"markdown"==e.item.type?[a("XyMavonEditor",{staticStyle:{"min-height":"600px"},attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"html"==e.item.type||"tinymce"==e.item.type?[a("XyBuilderEditorTinymce",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"sku"==e.item.type?[a("XyBuilderFormSku",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"skuPrice"==e.item.type?[a("XyBuilderFormSkuPrice",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid},formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"fee"==e.item.type?[a("XyBuilderDeliverFee",{attrs:{item:e.item,header:e.header,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"amap"==e.item.type?[a("XyBuilderFormAmap",{attrs:{item:e.item,header:e.header,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"remote"==e.item.type?[a("XyBuilderRemote",{attrs:{item:e.item,header:e.header,outUrl:e.item.extra.outUrl,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:[e._v(" "+e._s(e.item.name)+"未指定类型 ")],a("div",{staticStyle:{color:"#aaa","font-size":"12px"},domProps:{innerHTML:e._s(e.item.extra.tip)}})],2)]],2):e._e()}),l=[],c=a("b85c"),u=a("53ca"),d=(a("25f0"),a("159b"),a("a434"),a("4328")),m=a.n(d),p=(a("235e"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox-group",{on:{change:e.handleCheckChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.options,(function(t,i,s){return a("el-checkbox",{key:s,attrs:{disabled:e.disabled,label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)}),f=[],h=(a("1276"),{name:"XyCheckboxGroup",props:{value:{type:[String,Array]},disabled:!1,options:{type:[Array]}},data:function(){return{checkedList:[]}},created:function(){if(""==this.value)this.checkedList=[];else if("string"==typeof this.value?this.checkedList=this.value.split(","):this.checkedList=this.value,"number"==typeof this.options[0].value){var e,t=Object(c["a"])(this.checkedList);try{for(t.s();!(e=t.n()).done;){var a=e.value;a=parseInt(a)}}catch(i){t.e(i)}finally{t.f()}}},methods:{handleCheckChange:function(e){this.$emit("input",e)}}}),v=h,g=a("2877"),y=Object(g["a"])(v,p,f,!1,null,"6d56e876",null),b=y.exports,x=a("92dd"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex",staticStyle:{position:"relative",width:"300px",height:"534px"}},[a("div",{staticClass:"poster",staticStyle:{position:"absolute",transform:"scale(0.35)"}},[a("div",{staticStyle:{position:"absolute",width:"750px",height:"1334px","background-color":"#fff",border:"1px solid #ccc"}},e._l(e.value,(function(t,i){return a("div",{key:i},["image"==t.type?a("img",{key:i,staticClass:"item",class:e.index==i?"current":"",style:{position:"absolute",top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"},attrs:{src:t.url},on:{mousedown:function(t){return e.move(t,i)},click:function(t){return e.select(i)}}}):"text"==t.type?a("div",{key:i,staticClass:"item",class:e.index==i?"current":"",style:{position:"absolute",top:t.top+"px",left:t.left+"px",color:t.color,lineHeight:"1.1",fontSize:t.fontSize+"px",backgroundColor:t.backgroundColor,breakWord:t.breakWord},on:{mousedown:function(t){return e.move(t,i)},click:function(t){return e.select(i)}}},[e._v(" "+e._s(t.content)+" ")]):e._e()])})),0)]),a("div",{staticStyle:{position:"absolute",left:"300px",top:"0",width:"100%",height:"534px"}},[a("Form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].name,callback:function(t){e.$set(e.value[e.index],"name",t)},expression:"value[index].name"}})],1),a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].width,callback:function(t){e.$set(e.value[e.index],"width",t)},expression:"value[index].width"}})],1),a("el-form-item",{attrs:{label:"高度"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].height,callback:function(t){e.$set(e.value[e.index],"height",t)},expression:"value[index].height"}})],1),a("el-form-item",{attrs:{label:"顶部距离"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].top,callback:function(t){e.$set(e.value[e.index],"top",t)},expression:"value[index].top"}})],1),a("el-form-item",{attrs:{label:"左侧距离"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].left,callback:function(t){e.$set(e.value[e.index],"left",t)},expression:"value[index].left"}})],1),"image"==this.value[e.index].type?a("el-form-item",{attrs:{label:"图片"}},[a("xy-upload",{attrs:{item:{name:e.value[e.index].name,extra:e.item.extra},img:{name:"",title:""},header:{cloudId:e.header.cloudId,eid:e.header.eid,token:e.header.token}},model:{value:e.value[e.index].url,callback:function(t){e.$set(e.value[e.index],"url",t)},expression:"value[index].url"}}),a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].url,callback:function(t){e.$set(e.value[e.index],"url",t)},expression:"value[index].url"}})],1):e._e(),"text"==this.value[e.index].type?a("el-form-item",{attrs:{label:"字体大小"}},[a("el-slider",{attrs:{"show-input":""},model:{value:e.value[e.index].fontSize,callback:function(t){e.$set(e.value[e.index],"fontSize",t)},expression:"value[index].fontSize"}})],1):e._e(),"text"==this.value[e.index].type?a("el-form-item",{attrs:{label:"字体颜色"}},[a("el-color-picker",{model:{value:e.value[e.index].color,callback:function(t){e.$set(e.value[e.index],"color",t)},expression:"value[index].color"}})],1):e._e(),"text"==this.value[e.index].type?a("el-form-item",{attrs:{label:"背景颜色"}},[a("el-color-picker",{model:{value:e.value[e.index].backgroundColor,callback:function(t){e.$set(e.value[e.index],"backgroundColor",t)},expression:"value[index].backgroundColor"}})],1):e._e()],1)],1)])},_=[],k={name:"Poster",components:{"xy-upload":x["a"]},props:{item:{},value:[],header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){return{index:0}},created:function(){this.value=[{name:"bg",type:"image",width:750,height:1181,top:0,left:0,url:"https://s1.ax1x.com/2020/04/27/JR46UJ.png"},{name:"logo",type:"image",width:134,height:133,top:20,left:42,url:"https://s2.ax1x.com/2020/01/25/1ZzWiq.png"},{name:"qrcode",type:"image",width:160,height:160,top:1e3,left:20,url:"https://s1.ax1x.com/2020/03/19/86VFEt.jpg"},{name:"avatar",type:"image",width:100,height:100,top:1190,left:600,url:"https://s1.ax1x.com/2020/03/18/8wg9k6.png"},{name:"name",type:"text",width:100,height:100,top:1230,left:450,color:"#333",fontSize:30,backgroundColor:"transparent",content:"XYShop"},{name:"scan",type:"text",width:100,height:100,top:1230,left:50,color:"#333",fontSize:30,backgroundColor:"transparent",content:"长按二维码扫一扫"}]},beforeMount:function(){},methods:{select:function(e){this.index=e},move:function(e,t){var a=this;if(this.item.extra.disabled)this.$message({message:"只读模式",type:"warning"});else{this.index=t;var i=e.target;i.onmousedown=function(e){var t=e.clientX/.35-i.offsetLeft,s=e.clientY/.35-i.offsetTop;document.onmousemove=function(e){var i=e.clientX/.35-t,r=e.clientY/.35-s;i<0&&(i=0),r<0&&(r=0),i+a.value[a.index].width>750&&(i=750-a.value[a.index].width),r+a.value[a.index].height>1344&&(r=1344-a.value[a.index].height),a.value[a.index].left=Math.ceil(i),a.value[a.index].top=Math.ceil(r)},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}},watch:{}},C=k,D=(a("7e52"),Object(g["a"])(C,w,_,!1,null,"c38d4b42",null)),S=D.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"sku-spec"},[e._l(e.value.skuSpec,(function(t,i){return a("el-row",{key:i,attrs:{gutter:15}},[a("el-col",{attrs:{span:2}},[a("el-input",{attrs:{size:"small"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item1.title"}})],1),a("el-col",{attrs:{span:18}},[e._l(t.spec,(function(t,s){return a("el-tag",{key:s,staticClass:"m-r-xs",attrs:{name:t.title,closable:""},on:{"on-close":function(t){return e.closeTag(i,s)}}},[e._v(" "+e._s(t.title)+" ")])})),a("el-input",{staticStyle:{width:"80px"},attrs:{size:"small",placeholder:"回车添加"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTag(i)}},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],2),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.delspec(i)}}},[e._v("删除")])],1)],1)})),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("el-input",{staticStyle:{width:"80px","margin-right":"15px"},attrs:{size:"small",placeholder:"新规格名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addspec.apply(null,arguments)}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("el-button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"primary"},on:{click:e.addspec}},[e._v(" 增加规格 ")])],1)],2),a("div",{staticClass:"sku-list"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.value.skuList}},e._l(e.columns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]:"select"==t.type?[a("el-cascader",{attrs:{data:e.specCascader[0],prop:e.loadData,size:"small"},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]:"group"==t.type?e._l(t.options.fields,(function(t,s){return a("div",{key:s,staticClass:"sku-list-group"},[a("div",{staticClass:"title"},[e._v(e._s(t[1])+":")]),a("div",[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.skuList[i.$index][t[0]],callback:function(a){e.$set(e.value.skuList[i.$index],t[0],a)},expression:"value.skuList[scope.$index][grp[0]]"}})],1)])})):"image"==t.type?[a("xy-upload",{attrs:{item:{name:t.name,extra:e.item.extra},img:{name:"",title:""},header:e.header},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]:"delete"==t.type?[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small"},on:{click:function(t){return e.delrow(e.index)}}},[e._v(" 删除 ")])]:[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]]}}],null,!0)})})),1),a("el-button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"dashed"},on:{click:e.addrow}},[e._v(" 增加 ")])],1)])},T=[],V={name:"XyShopSku",components:{"xy-upload":x["a"]},props:{item:{},value:{skuSpec:[],skuList:[]},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{title:"",tag:"",columns:[{title:"规格",name:"spec",type:"select",width:"400px"},{title:"价格",name:"priceGroup",type:"group",width:"200",options:{fields:[["price","现价"],["originalPrice","原价"]]}},{title:"库存",name:"stock",type:"text",width:"150px"},{title:"SKU编号",name:"skuNo",type:"text",width:"250px"},{title:"备注",name:"remark",type:"text",width:"250px"},{title:"图片",name:"cover",type:"image",width:"100px"},{title:"删除",name:"delete",type:"delete",width:"100px"}],dataItem:{spec:"",price:"",vipPrice:"",originalPrice:"",stock:"",skuNo:"",remark:"",cover:"",delete:""},specCascader:[]}},created:function(){},mounted:function(){this.updateColumns()},methods:{getData:function(){this.$emit("input",this.value)},loadData:function(e,t){this.specCascader[e.index+1]&&(e.loading=!0,e.children=this.specCascader[e.index+1],e.loading=!1,t())},delrow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.item.extra.disabled){a.next=3;break}return t.$message({message:"只读模式",type:"warning"}),a.abrupt("return");case 3:if(!t.value.skuList[e].id){a.next=10;break}return a.next=6,t.util.request({url:t.item.extra.apiSkuDelete+"/"+t.value.skuList[e].id,method:"DELETE",header:t.header});case 6:i=a.sent,"200"==i.code?(t.value.skuList.splice(e,1),t.$Message.success(i.msg)):t.$Message.error(i.msg),a.next=11;break;case 10:t.value.skuList.splice(e,1);case 11:t.getData();case 12:case"end":return a.stop()}}),a)})))()},addrow:function(){if(this.item.extra.disabled)this.$message({message:"只读模式",type:"warning"});else{var e,t=Object(c["a"])(this.value.skuList);try{for(t.s();!(e=t.n()).done;){var a=e.value;""==a&&this.$Message.error("请填写规格")}}catch(s){t.e(s)}finally{t.f()}var i=Object.assign({},this.dataItem);this.value.skuList.push(i)}},closeTag:function(e,t){this.item.extra.disabled?this.$message({message:"只读模式",type:"warning"}):this.value.skuSpec[e].spec.splice(t,1)},addTag:function(e){if(this.item.extra.disabled)this.$message({message:"只读模式",type:"warning"});else{if(!this.tag)return this.$Message.error("请填写规格"),!1;var t,a=Object(c["a"])(this.value.skuSpec[e].spec);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.title==this.tag)return this.$Message.error("规格重复"),!1}}catch(r){a.e(r)}finally{a.f()}var s=this.value;s.skuSpec[e].spec.push({title:this.tag}),this.tag="",this.value=s}},addspec:function(){if(this.item.extra.disabled)this.$message({message:"只读模式",type:"warning"});else{if(!this.title)return this.$Message.error("请填写规格名称"),!1;var e,t=Object(c["a"])(this.value.skuSpec);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.title==this.title)return this.$Message.error("规格名称重复"),!1}}catch(i){t.e(i)}finally{t.f()}this.value.skuSpec.push({title:this.title,spec:[]}),this.title=""}},delspec:function(e){this.item.extra.disabled?this.$message({message:"只读模式",type:"warning"}):this.value.skuSpec.splice(e,1)},updateColumns:function(){for(var e=this.specCascader,t=0;t<this.value.skuSpec.length;t++){var a,i=[],s=Object(c["a"])(this.value.skuSpec[t].spec);try{for(s.s();!(a=s.n()).done;){var r=a.value;t==this.value.skuSpec.length-1?i.push({index:t,value:r.title,label:r.title}):i.push({index:t,value:r.title,label:r.title,children:[],loading:!1})}}catch(n){s.e(n)}finally{s.f()}e[t]=i}this.specCascader=e}},watch:{value:{handler:function(e){this.updateColumns()},deep:!0,immediate:!0}}},I=V,O=(a("78ea"),Object(g["a"])(I,$,T,!1,null,"7b41b5b6",null)),L=O.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"sku-list"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.value}},e._l(e.columns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value[i.$index][t.name],callback:function(a){e.$set(e.value[i.$index],t.name,a)},expression:"value[scope.$index][coco.name]"}})]:[e._v(" "+e._s(e.value[i.$index][t.name])+" ")]]}}],null,!0)})})),1)],1)])},j=[],R={name:"SkuPrice",components:{},props:{item:{},value:[],formValues:{},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{title:"",tag:"",columns:[{title:"规格",name:"spec",type:"text",width:"300px"},{title:"正常售价",name:"price",type:"text"},{title:"剩余库存",name:"stock",type:"text"},{title:"秒杀价",name:"curPrice",type:"input"},{title:"每次库存",name:"curStock",type:"input"}]}},created:function(){},beforeMount:function(){},methods:{getData:function(){this.$emit("input",this.value)}},watch:{"formValues.itemId":{handler:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t,!e||void 0==e){a.next=6;break}return a.next=4,i.util.request({url:"/v1/iadmin/ishop/sku/lists",method:"get",data:{itemId:e,curField:1},header:{CloudId:i.header.cloudId,Eid:i.header.eid}});case 4:if(s=a.sent,200==s.code){for(r=s.data.dataList.length-1;r>=0;r--)for(n=0;n<t.value.length;n++)t.value[n].spec==s.data.dataList[r].spec&&(s.data.dataList[r]["curPrice"]=t.value[n].curPrice,s.data.dataList[r]["curStock"]=t.value[n].curStock);t.value=s.data.dataList,t.getData()}else t.util.showToast({title:s.msg});case 6:case"end":return a.stop()}}),a)})))()},deep:!0,immediate:!0}}},A=R,E=(a("3b76"),Object(g["a"])(A,P,j,!1,null,"a781efc4",null)),z=E.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-deliver-fee"},[a("div",{staticClass:"text-error"},[e._v(" 除指定地区外，其余地区的运费采用默认运费。 ")]),a("div",{staticClass:"default flex"},[e._v(" 默认运费： "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.firstAmount,callback:function(t){e.$set(e.value.default,"firstAmount",t)},expression:"value.default.firstAmount"}}),e._v(" "+e._s(e.unit)+" 内， "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.firstFee,callback:function(t){e.$set(e.value.default,"firstFee",t)},expression:"value.default.firstFee"}}),e._v(" 元， 每增加 "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.moreAmount,callback:function(t){e.$set(e.value.default,"moreAmount",t)},expression:"value.default.moreAmount"}}),e._v(" "+e._s(e.unit)+"， 增加运费 "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.moreFee,callback:function(t){e.$set(e.value.default,"moreFee",t)},expression:"value.default.moreFee"}}),e._v(" 元。 ")],1),a("div",{staticClass:"more m-t-xs"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.value.extend}},e._l(e.columns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.extend[i.$index][t.name],callback:function(a){e.$set(e.value.extend[i.$index],t.name,a)},expression:"value.extend[scope.$index][coco.name]"}})]:"buttons"==t.type?[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small",type:"error"},on:{click:function(t){return e.delrow(i.$index)}}},[e._v(" 删除 ")])]:e._e(),"regions"==t.type?[a("XyBuilderFormRegions",{attrs:{showModal:i.row.modalShow,modalTitle:"运送到",action:e.item.extra.action,valueName:"id",header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.value.extend[i.$index][t.name],callback:function(a){e.$set(e.value.extend[i.$index],t.name,a)},expression:"value.extend[scope.$index][coco.name]"}})]:[e._v(" "+e._s(e.value.extend[i.$index][t.name])+" ")]]}}],null,!0)})})),1),a("el-button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"dashed"},on:{click:e.addrow}},[e._v(" 增加 ")])],1)])},B=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"xy-tree-regions"},[a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.modalShow=!0}}},[e._v("编辑")]),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"modal",attrs:{"append-to-body":!0,visible:e.modalShow,width:"800px",title:e.modalTitle},on:{"update:visible":function(t){e.modalShow=t}}},[a("el-tree",{ref:"tree",attrs:{data:e.dataList,props:e.cusprops,load:e.loadNode,"default-checked-keys":e.value,"node-key":e.valueName,lazy:"","show-checkbox":""},on:{"check-change":e.onChange}}),a("img",{attrs:{src:"https://i.loli.net/2020/03/24/9Fu1lZbmepVXr2y.png",alt:"中国行政区划图"}})],1)],1)])},F=[],N={name:"XyTreeRegions",props:{modalTitle:"",action:"",valueName:{type:String,default:"id"},header:{type:Object,default:function(){return{cloudId:0,eid:0}}},value:{type:Array,default:function(){return[]}}},data:function(){return{modalShow:!1,dataList:[],cusprops:{label:"title",children:"children",isLeaf:"isLeaf"}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.util.request({url:this.action,method:"get",data:{id:1e5,child:0,maxLevel:2,checked:this.value},header:this.header});case 2:t=e.sent,200==t.code&&(this.dataList=t.data.dataList);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeMount:function(){},methods:{onChange:function(){this.value=this.$refs.tree.getCheckedKeys(),this.$emit("input",this.value)},loadNode:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0!==e.level){i.next=3;break}return i.abrupt("return",t([{title:"region"}]));case 3:setTimeout(Object(n["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.util.request({url:a.action,method:"get",data:{id:e.data[a.valueName],child:0,maxLevel:2},header:a.header});case 2:if(s=i.sent,200!=s.code){i.next=5;break}return i.abrupt("return",t(s.data.dataList));case 5:case"end":return i.stop()}}),i)}))),500);case 4:case"end":return i.stop()}}),i)})))()}},watch:{}},U=N,X=Object(g["a"])(U,M,F,!1,null,"8624cdf2",null),H=X.exports,K={name:"XyDeliverFee",components:{XyBuilderFormRegions:H},props:{item:{},value:{type:Object,default:function(){return{default:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:1,ruleType:1},extend:[]}}},formValues:{},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{unit:"kg",columns:[],dataItem:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:0,ruleType:1,delete:""}}},created:function(){switch(this.formValues[this.item.extra.unitField]){case 1:this.unit="kg";break;case 2:this.unit="件";break}this.columns=[{title:"运送到",name:"regions",type:"regions",width:"250px",modalShow:!1},{title:"首重("+this.unit+")",name:"firstAmount",type:"input"},{title:"首费(元）",name:"firstFee",type:"input"},{title:"续重("+this.unit+")",name:"moreAmount",type:"input"},{title:"续费(元)",name:"moreFee",type:"input"},{title:"删除",name:"delete",type:"buttons",width:"70px"}],this.value.default||(this.value={default:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:1,ruleType:1},extend:[]})},beforeMount:function(){},methods:{getData:function(){this.$emit("input",this.value)},delrow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.value.extend.splice(e,1),t.getData();case 2:case"end":return a.stop()}}),a)})))()},addrow:function(){var e=Object.assign({},this.dataItem);this.value.extend.push(e)}},watch:{formValues:{handler:function(e){switch(e[this.item.extra.unitField]){case 1:this.unit="kg";break;case 2:this.unit="件";break}this.columns=[{title:"运送到",name:"regions",type:"regions",width:"250px",modalShow:!1},{title:"首重("+this.unit+")",name:"firstAmount",type:"input"},{title:"首费(元）",name:"firstFee",type:"input"},{title:"续重("+this.unit+")",name:"moreAmount",type:"input"},{title:"续费(元)",name:"moreFee",type:"input"},{title:"删除",name:"delete",type:"buttons",width:"70px"}]},deep:!0,immediate:!0}}},W=K,G=(a("f0c7"),Object(g["a"])(W,q,B,!1,null,"2f15eb43",null)),Q=G.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["polygonFee"==e.item.extra.mapType?a("div",{staticClass:"fee-list"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.polygonFee},on:{"row-click":e.rowClick}},e._l(e.polygonFeeColumns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.polygonFee[i.$index][t.name],callback:function(a){e.$set(e.polygonFee[i.$index],t.name,a)},expression:"polygonFee[scope.$index][coco.name]"}})]:"buttons"==t.type?[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.deleteFee(i.$index)}}},[e._v("删除")])]:[e._v(" "+e._s(e.polygonFee[i.$index][t.name])+" ")]]}}],null,!0)})})),1)],1):e._e(),"positionAddress"==e.item.extra.mapType?a("div",{staticClass:"m-b-sm"},[a("el-input",{staticClass:"m-r-sm",staticStyle:{display:"inline-block"},attrs:{size:"medium",type:"input"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("el-button",{attrs:{size:"medium",type:"default"},on:{click:function(t){return e.getLocationByAddress()}}},[e._v("定位")])],1):e._e(),e.loadedScript?a("el-amap",{staticClass:"amap-box",staticStyle:{height:"400px"},attrs:{vid:"amap-"+e.item.name,"amap-manager":e.amapManager,zoom:e.zoom,center:e.center,plugin:e.plugin,events:e.events}},["position"==e.item.extra.mapType||"positionAddress"==e.item.extra.mapType?a("el-amap-marker",{attrs:{vid:"marker-"+e.item.name,draggable:!0,position:e.position}}):e._e(),"polygonList"==e.item.extra.mapType?e._l(e.polygonList,(function(t,i){return a("el-amap-polygon",{key:i,ref:"polygon-"+e.item.name+"_"+i,refInFor:!0,attrs:{vid:"polygon-"+e.item.name+"_"+i,path:t.path,strokeColor:t.strokeColor,fillColor:"white",fillOpacity:"0.5",draggable:!0,editable:!0}})})):e._e(),"polygonFee"==e.item.extra.mapType?e._l(e.polygonFee,(function(t,i){return a("el-amap-polygon",{key:i,ref:"polygonFee_"+e.item.name+"_"+i,refInFor:!0,attrs:{vid:"polygonFee_"+e.item.name+"_"+i,path:t.path,strokeColor:e.polygonFeeActive==i?"red":t.strokeColor,fillColor:"white",fillOpacity:"0.5",draggable:!0,editable:!0,events:e.eventsPolygonFee}})})):e._e()],2):e._e(),a("div",{staticClass:"toolbar m-t-xs"},[e.loaded?e._e():a("span",[e._v("正在定位")]),("position"==e.item.extra.mapType||"positionAddress"==e.item.extra.mapType)&&this.position.length>0?a("span",[e._v(" 选中: lng = "+e._s(e.position[0])+" lat = "+e._s(e.position[1])+" ")]):e._e(),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.getData()}}},[e._v("保存变动")]),a("el-button",{staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.getMap()}}},[e._v("地图实例")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"polygonList"==e.item.extra.mapType,expression:"item.extra.mapType == 'polygonList'"}],staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.addPolygon()}}},[e._v("增加多边形区域")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"polygonFee"==e.item.extra.mapType,expression:"item.extra.mapType == 'polygonFee'"}],staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.addPolygonFee()}}},[e._v("增加配送区域")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"polygonFee"==e.item.extra.mapType,expression:"item.extra.mapType == 'polygonFee'"}],staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.restPolygonFee()}}},[e._v("重置当前区域")])],1)],1)},J=[],Z={props:["text"],template:"<div>{{text}}</div>"},ee={name:"Amap",props:{item:{extra:{}},value:{},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){var e=this,t=this;return{loadedScript:!1,amapManager:"",geocoder:"",zoom:12,center:[0,0],loaded:!1,events:{init:function(e){e.getCity((function(e){}))},moveend:function(){},zoomchange:function(){},click:function(a){t.item.extra.disabled?t.$message({message:"只读模式",type:"warning"}):"position"!=t.item.extra.mapType&&"positionAddress"!=t.item.extra.mapType||(t.position=[a.lnglat.lng,a.lnglat.lat],t.$emit("input",e.value))},dragend:function(a){t.item.extra.disabled?t.$message({message:"只读模式",type:"warning"}):"position"!=t.item.extra.mapType&&"positionAddress"!=t.item.extra.mapType||(t.position=[a.lnglat.lng,a.lnglat.lat],t.$emit("input",e.value))}},position:[0,0],address:"",polygonList:[],polygonFee:[],polygonFeeActive:0,eventsPolygonFee:{change:function(){e.$refs["polygonFee_"+e.item.name+"_"+e.polygonFeeActive][0].$$getPath()}},polygonFeeColumns:[{title:"名称",name:"name",type:"input",width:"200"},{title:"起送价",name:"price",type:"input"},{title:"配送费",name:"fee",type:"input"},{title:"操作",name:"action",type:"buttons"}],plugin:["ToolBar","Scale","PlaceSearch",{pName:"MapType",defaultType:0,events:{init:function(e){}}},{pName:"Geolocation",events:{init:function(e){e.getCurrentPosition((function(e,a){if(a&&a.position){switch(t.position&&0!=t.position.length&&0!=t.position[0]?t.center=t.position:(t.center=[a.position.lng,a.position.lat],t.position=t.center,t.geocoder.getAddress(t.position,(function(e,a){"complete"===e&&"OK"===a.info&&(t.address=a.regeocode.formattedAddress)})),t.getData()),t.loaded=!0,t.item.extra.mapType){case"position":break;case"positionAddress":break;case"polygonList":0==t.polygonList.length&&(t.polygonList=[{strokeColor:"#2b85e4",path:[[t.center[0]-.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]-.01],[t.center[0]-.01,t.center[1]-.01]]}],t.getData());break;case"polygonFee":0==t.polygonFee.length&&(t.polygonFee=[{name:"默认",price:"",fee:"",strokeColor:"#2b85e4",path:[[t.center[0]-.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]-.01],[t.center[0]-.01,t.center[1]-.01]]}],t.getData());break}t.$nextTick()}}))}}}],contentRender:function(e,t){return e(Z,{style:{backgroundColor:"#fff"},props:{text:"here"}})}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i,s,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==(t=this.item.extra)&&void 0!==t&&t.key){e.next=3;break}return alert("请设置高德开放平台key"),e.abrupt("return");case 3:return e.next=5,this.loadScript();case 5:this.amapManager=new VueAMap.AMapManager,VueAMap.initAMapApiLoader({key:null===(a=this.item.extra)||void 0===a?void 0:a.key,plugin:["AMap.Autocomplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.Geolocation","AMap.Geocoder","AMap.MapType","AMap.PolyEditor","AMap.CircleEditor"],v:"1.4.4"}),e.t0=this.item.extra.mapType,e.next="postion"===e.t0?10:"positionAddress"===e.t0?12:"polygonList"===e.t0?14:"polygonFee"===e.t0?16:18;break;case 10:return this.value&&2==this.value.length&&(this.position=this.value),e.abrupt("break",18);case 12:return this.value&&this.value.location&&this.value.address&&(this.position=this.value.location,this.address=this.value.address),e.abrupt("break",18);case 14:return this.value&&(this.position=this.value.location,this.polygonList=this.value.polygonList),e.abrupt("break",18);case 16:if(this.value)for(this.position=this.value.location,this.polygonFee=this.value.polygonFee,i=0;i<this.polygonFee.length;i++){for(s=this.polygonFee[i].path,r=0;r<s.length;r++)s[r].lng&&(s[r]=[s[r].lng,s[r].lat]);this.polygonFee[i].path=s}return e.abrupt("break",18);case 18:VueAMap.lazyAMapApiLoaderInstance.load().then((function(){n.loadedScript=!0,n.geocoder=new AMap.Geocoder({city:"全国"})}));case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){},methods:{loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdn.jsdelivr.net/npm/vue-amap/dist/index.js").then((function(){t()}))}))},getLocationByAddress:function(){if(this.address||(alert("请输入地址"),retutn),this.item.extra.disabled)this.$message({message:"只读模式",type:"warning"});else{this.amapManager.getMap();var e=this;this.geocoder.getLocation(this.address,(function(t,a){"complete"===t&&"OK"===a.info?(e.position=[a.geocodes[0].location.lng,a.geocodes[0].location.lat],e.center=e.position):alert(a.info)}))}},rowClick:function(e,t){this.polygonFeeActive=t},getData:function(){if("position"==this.item.extra.mapType&&(this.value=this.position),"positionAddress"==this.item.extra.mapType&&(this.value={location:this.position,address:this.address}),"polygonList"==this.item.extra.mapType&&(this.value={location:this.position,polygonList:this.polygonList}),"polygonFee"==this.item.extra.mapType){this.value={location:this.position,polygonFee:this.polygonFee};for(var e=0;e<this.value.polygonFee.length;e++){for(var t=this.value.polygonFee[e].path,a=0;a<t.length;a++)t[a].lng&&(t[a]=[t[a].lng,t[a].lat]);this.value[e].polygonFee.path=t}}this.$emit("input",this.value)},addPolygon:function(){this.item.extra.disabled?this.$message({message:"只读模式",type:"warning"}):this.polygonList.push({strokeColor:"#2b85e4",path:[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]]})},addPolygonFee:function(){this.item.extra.disabled?this.$message({message:"只读模式",type:"warning"}):this.polygonFee.push({name:"",price:"",fee:"",strokeColor:"#2b85e4",path:[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]]})},restPolygonFee:function(){if(this.item.extra.disabled)this.$message({message:"只读模式",type:"warning"});else{var e=this.polygonFee;e[this.polygonFeeActive].path=[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]],this.polygonFee=e}},deleteFee:function(e){this.item.extra.disabled?this.$message({message:"只读模式",type:"warning"}):this.polygonFee.splice(e,1)},getMap:function(){}},watch:{}},te=ee,ae=Object(g["a"])(te,Y,J,!1,null,"76a295e2",null),ie=ae.exports,se=a("1339"),re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xt-tags-input"},[e._l(e.dynamicTags,(function(t){return a("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("添加")])],2)},ne=[],oe={name:"XyTagsInput",props:{disabled:{type:Boolean,default:!1},value:{type:[String,Array]}},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},created:function(){this.getDefault()},watch:{value:{deep:!0,handler:function(e,t){this.getDefault()}}},methods:{getDefault:function(){""==this.value?this.dynamicTags=[]:"string"==typeof this.value?this.dynamicTags=this.value.split(","):this.dynamicTags=this.value},handleClose:function(e){this.disabled?this.$message({message:"只读模式",type:"warning"}):(this.dynamicTags.splice(this.dynamicTags.indexOf(e),1),this.$emit("input",this.dynamicTags))},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){if(this.disabled)this.$message({message:"只读模式",type:"warning"});else{var e=this.inputValue;e&&this.dynamicTags.push(e),this.$emit("input",this.dynamicTags),this.inputVisible=!1,this.inputValue=""}}}},le=oe,ce=(a("a5f8"),Object(g["a"])(le,re,ne,!1,null,"fb04b096",null)),ue=ce.exports,de=a("2420"),me=a("d958"),pe=a("6d59"),fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tree",e._b({ref:"checkboxtree",attrs:{props:{children:"children",label:"title"},"node-key":e.nodeKey,"default-expanded-keys":[e.data[0][e.nodeKey]],"check-strictly":!1,"default-checked-keys":[],"show-checkbox":""},on:{"check-change":e.treeOnChange},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("span",{staticClass:"custom-tree-node"},e._l(e.columns,(function(t){return a("span",{key:t.id,staticClass:"m-r"},[e._v(" "+e._s(i[t.name])+" ")])})),0)}}])},"el-tree",e.$props,!1))},he=[],ve=(a("99af"),{name:"XyCheckboxTree",props:{value:{type:Array,default:function(){return[]}},nodeKey:{type:String,default:""},disabled:{type:Boolean,default:!1},data:{type:[Array],default:function(){return[]}},columns:{type:[Array],default:function(){return[]}}},data:function(){return{}},watch:{},created:function(){},mounted:function(){var e=this;e.$nextTick((function(){e.value.length>0&&e.value.forEach((function(t,a){var i=e.$refs.checkboxtree.getNode(t);i.isLeaf&&e.$refs.checkboxtree.setChecked(i,!0)}))}))},methods:{treeOnChange:function(){var e=this.$refs.checkboxtree.getHalfCheckedKeys();e=e.concat(this.$refs.checkboxtree.getCheckedKeys()),this.$emit("input",e)}}}),ge=ve,ye=Object(g["a"])(ge,fe,he,!1,null,"61bc834b",null),be=ye.exports,xe={name:"XyBuilderFormItem",components:{XyBuilderRemote:pe["default"],XyCascader:se["a"],XyTagsInput:ue,XyCheckboxGroup:b,"xy-upload":x["a"],XyBuilderFormPoster:S,XyBuilderFormSku:L,XyBuilderFormSkuPrice:z,XyBuilderDeliverFee:Q,XyBuilderFormAmap:ie,XyBuilderEditorTinymce:de["a"],XyMavonEditor:me["a"],XyCheckboxTree:be},props:{prop:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},config:{},item:{},formValues:{},formRules:{},showDev:!1},data:function(){return{ready:!1}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"114b"))}},created:function(){if("checkbox"!=this.item.type&&"selects"!=this.item.type&&"images"!=this.item.type&&"file"!=this.item.type&&"files"!=this.item.type||""==this.formValues[this.item.name]&&(this.formValues[this.item.name]=[]),this.item.hasOwnProperty("value")||(this.item.value=""),this.item.extra||(this.item.extra={}),this.item.temp||(this.item.temp=""),this.item.extra.showModal||(this.item.extra.showModal=!1),this.item.extra.placeholder||(this.item.extra.placeholder=""),this.item.extra.tip||(this.item.extra.tip=""),this.item.extra.disabled||(this.item.extra.disabled=!1),this.item.extra.hide||(this.item.extra.hide=!1),this.item.extra.isDev||(this.item.extra.isDev=0),this.item.extra.pageData){var e=this.item.extra.pageData;e.width?!1===isNaN(e.width)&&(e.width=e.width+"px"):e.width="800px",e.hasOwnProperty("height")||(e.height="auto"),e.hasOwnProperty("pageType")||(e.pageType="modal"),e.hasOwnProperty("modalType")||(e.modalType="form"),e.hasOwnProperty("formMethod")||(e.formMethod="delete"),e.hasOwnProperty("show")||(e.show=!1),e.hasOwnProperty("path")||(e.path=""),e.hasOwnProperty("api")||(e.api=""),e.hasOwnProperty("apiBlank")||(e.apiBlank=""),e.hasOwnProperty("apiSuffix")||(e.apiSuffix=["id"]),e.hasOwnProperty("apiParams")||(e.apiParams=""),e.hasOwnProperty("querySuffix")||(e.querySuffix=[]),e.hasOwnProperty("queryParams")||(e.queryParams=""),e.hasOwnProperty("title")||(e.title=this.item.title),e.hasOwnProperty("content")||(e.content=""),e.hasOwnProperty("okText")||(e.okText=""),e.hasOwnProperty("cancelText")||(e.cancelText=""),e.hasOwnProperty("noRefresh")||(e.noRefresh=!1),e.hasOwnProperty("modalClosable")||(e.modalClosable=!1),e.hasOwnProperty("loading")||(e.loading=!1),e.hasOwnProperty("draggable")||(e.draggable=!1),e.hasOwnProperty("scrollable")||(e.scrollable=!0),e.outUrl&&apiInfo.hasOwnProperty("domainRoot")&&0!=e.outUrl.indexOf("http")&&(e.outUrl=this.$store.state.app.apiInfo.domainRoot+e.outUrl),this.item.extra.pageData=Object(r["a"])({},e)}var t=["sku","image","imageflex","images","file","files","html","tinymce","md","markdown"];if(t.includes(this.item.type)?(this.item.extra.hasUpload=!0,this.item.extra.hasOwnProperty("upload")||(this.item.extra.upload={})):this.item.extra.hasUpload=!1,this.item.extra.hasUpload){var a,i,s;if(!this.item.extra.hasOwnProperty("driver"))null!==(a=this.config)&&void 0!==a&&a.defaultUploadDriver?this.item.extra.driver=this.config.defaultUploadDriver.toLowerCase():null!==(i=this.$store.state.app)&&void 0!==i&&i.uploadDriver?this.item.extra.driver=this.$store.state.app.uploadDriver.toLowerCase():this.item.extra.driver="";if(!this.item.extra.hasOwnProperty("hasUploadModule"))this.item.extra.hasUploadModule=null===(s=this.config)||void 0===s?void 0:s.hasUploadModule;if(this.item.extra.hasOwnProperty("maxSize")||(this.item.extra.maxSize=this.config.defaultUploadMaxSize),this.item.extra.hasOwnProperty("action")||(this.item.extra.action=this.config.defaultUploadAction),this.item.extra.hasOwnProperty("spaceId")||"unicloud"!=this.item.extra.driver||(this.item.extra.spaceId=this.config.defaultUploadSpaceId,this.item.extra.clientSecret=this.config.defaultUploadClientSecret),this.item.extra.upload.hasOwnProperty("postdata")||(this.item.extra.upload.postdata={}),!this.item.extra.format){var n=["sku","image","imageflex","images"];n.includes(this.item.type)?this.item.extra.format=["jpg","jpeg","png","gif"]:this.item.extra.format=["jpg","jpeg","png","gif","ico","swf","flv","mp3","wav","wma","wmv","mid","avi","mpg","asf","rm","rmvb","mp4","doc","docx","xls","xlsx","ppt","pptx","pdf","wps","txt","zip","rar","gz","bz2","7z","ipa","apk","dmg","iso","pem","p12","wgt"]}}if(this.item.extra.options){if("string"==typeof this.item.extra.options){var o=this.util.isJson(this.item.extra.options);!1===o?o=this.item.extra.options:this.item.extra.options=o}var l=[];for(var d in this.item.extra.options){var m=this.item.extra.options[d];!1===isNaN(d)&&(d=parseInt(d)),"object"==Object(u["a"])(m)?(m.hasOwnProperty("value")||(m.hasOwnProperty("vField")?m.value=m[m.vField]:m.value=d),l.push(m)):l.push({title:m,value:d})}this.item.extra.options=l}else this.item.extra.options=[];switch(this.item.type){case"switch":case"select":case"radio":this.item.extra.options[0]&&"number"==typeof this.item.extra.options[0].value?""!==this.formValues[this.item.name]&&(this.formValues[this.item.name]=parseInt(this.formValues[this.item.name])):this.formValues[this.item.name]=this.formValues[this.item.name].toString();break;case"checkbox":case"selects":this.item.extra.options[0]&&"number"==typeof this.item.extra.options[0].value?""!==this.formValues[this.item.name]?this.formValues[this.item.name].forEach((function(e,t,a){a[t]=parseInt(e)})):this.formValues[this.item.name]=[]:this.formValues[this.item.name].forEach((function(e,t,a){a[t]=e.toString()}));break;case"imageflex":if(this.formValues[this.item.name]&&this.formValues[this.item.name].constructor!==Object){var p,f={},h=Object(c["a"])(this.item.extra.options);try{for(h.s();!(p=h.n()).done;){var v=p.value;f[v.value]=""}}catch(g){h.e(g)}finally{h.f()}this.formValues[this.item.name]=f}break;case"formlist":this.formValues[this.item.name]&&this.formValues[this.item.name].constructor===Array||(this.formValues[this.item.name]=[]);break;case"html":this.item.extra.hasOwnProperty("tinymce")||(this.item.extra.tinymce={});break;case"tinymce":this.item.extra.hasOwnProperty("tinymce")||(this.item.extra.tinymce={});break;case"datepicker":this.formValues[this.item.name]=this.util.timeFormat(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimepicker":this.formValues[this.item.name]=this.util.timeFormat(this.formValues[this.item.name],"yyyy-MM-dd HH:mm");break;case"daterangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimerangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd HH:mm");break;default:break}this.ready=!0},methods:{timeSelectChange:function(e){this.$set(this.formValues,this.item.name,e)},rightButtonModal:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.item.extra,i="",s="",t.t0=a.pageData.modalType,t.next="list"===t.t0?6:9;break;case 6:return a.pageData.apiBlank=a.pageData.api+i+"?"+m.a.stringify(s),e.item.extra.pageData.show=!0,t.abrupt("break",12);case 9:return a.pageData.apiBlank=a.pageData.api+i+"?"+m.a.stringify(s),a.pageData.show=!0,t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})))()},formlistAddrow:function(){""==this.formValues[this.item.name]&&(this.formValues[this.item.name]=[]);var e,t={},a=Object(c["a"])(this.item.extra.options);try{for(a.s();!(e=a.n()).done;){var i=e.value;t[i.name]=""}}catch(s){a.e(s)}finally{a.f()}this.formValues[this.item.name].push(t)},formlistDelrow:function(e){this.formValues[this.item.name].splice(e,1)},formatDates:function(e,t){return e?2!=e.length?"":[this.util.formatDate(e[0],t),this.util.formatDate(e[1],t)]:""}},watch:{item:function(e){}}},we=xe,_e=Object(g["a"])(we,o,l,!1,null,null,null),ke=_e.exports,Ce=a("6df9"),De=a("c43b"),Se={name:"XyBuilderForm",components:{"xy-title":Ce["a"],XyBuilderformItem:ke,XySafetyVerify:De["a"]},props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:"",showDev:!1},data:function(){return{loading:!1,ready:!1,subloading:!1,ref:"form",formData:"",labelPosition:"left",labelWidth:"100px",res:{},addNext:!1,verifyData:"",count:0}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"114b"))}},created:function(){this.ref="form_"+(new Date).getTime(),this.predata?this.readyProcess(this.predata):this.loadData()},watch:{api:function(){this.loadData()},"formData.formValues":{handler:function(e,t){if(e){for(var a in this.formData.formItems)if(this.formData.formItems[a].extra.con){var i=this.formData.formItems[a].extra.con;this.getConditionTrueCount(i,e)===i.length?this.formData.formItems[a].extra.hide=!1:this.formData.formItems[a].extra.hide=!0}for(var s in this.formData.alertList.top)if(this.formData.alertList.top[s].condition){var r=this.formData.alertList.top[s].condition;this.getConditionTrueCount(r,e)===r.length?this.formData.alertList.top[s].show=!0:this.formData.alertList.top[s].show=!1}for(var n in this.formData.alertList.bottom)if(this.formData.alertList.bottom[n].condition){var o=this.formData.alertList.bottom[n].condition;this.getConditionTrueCount(o,e)===o.length?this.formData.alertList.bottom[n].show=!0:this.formData.alertList.bottom[n].show=!1}this.count++}},deep:!0,immediate:!0},show:function(e){1==e&&this.loadData()}},methods:{getCount:function(){return this.count},getConditionTrueCount:function(e,t){var a=0;for(var i in e)switch(e[i][1]){case"=":case"==":case"eq":t[e[i][0]]===e[i][2]&&a++;break;case"!=":case"neq":t[e[i][0]]!==e[i][2]&&a++;break;case">":case"gt":t[e[i][0]]>e[i][2]&&a++;break;case">=":case"egt":t[e[i][0]]>=e[i][2]&&a++;break;case"<":case"lt":t[e[i][0]]<e[i][2]&&a++;break;case"<=":case"elt":t[e[i][0]]<=e[i][2]&&a++;break;case"in":e[i][2].includes(t[e[i][0]])&&a++;break;case"has":t[e[i][0]].includes(e[i][2])&&a++;break;case"between":e[i][2][0]<t[e[i][0]]<e[i][2][1]&&a++;break}return a},loadData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.api){t.next=2;break}return t.abrupt("return",!1);case 2:if(e.formData="",e.loading=!0,e.ready=!1,a=e,setTimeout((function(){a.loading=!1}),5e3),!e.api){t.next=14;break}return e.count=0,t.next=11,e.util.request({url:e.api,method:"get",header:{CloudId:null===(i=e.header)||void 0===i?void 0:i.cloudId,Eid:null===(s=e.header)||void 0===s?void 0:s.eid}});case 11:r=t.sent,e.loading=!1,"200"==r.code?e.readyProcess(r.data.formData):e.res=r;case 14:case"end":return t.stop()}}),t)})))()},readyProcess:function(e){var t=this.util.builderutil.readyForm({formData:e});this.formData=Object(r["a"])({},t.formData),this.ready=!0},submit:function(){var e=this;this.subloading=!0;var t=this;setTimeout((function(){t.subloading=!1}),5e3);var a=!1;if(0==this.formData.formRules.length)a=!0;else if(this.formData.formTabs.length>0){for(var i="",s=0;s<this.formData.formTabs.length;s++)this.$refs[this.ref+"_"+this.formData.formTabs[s]["name"]][0].validate((function(e){i+=e?"true":"false"}));-1==i.search("false")&&(a=!0)}else this.$refs[this.ref].validate((function(t){if(t)a=!0;else if(e.$store.state.app.uiAudio){var i=new Audio;i.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_OPEN,i.play()}}));return a?this.submitForm():(this.subloading=!1,!1)},submitForm:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.formData.formValues,e.verifyData&&(a._verify=e.verifyData),t.next=4,e.util.request({url:e.formData.config.submitApi?e.formData.config.submitApi:e.api,method:e.formData.formMethod,data:a,header:{CloudId:e.header.cloudId,Eid:e.header.eid}});case 4:if(i=t.sent,"200"==i.code)if(e.verifyData="",e.count=0,e.util.showToast({title:i.msg,icon:"success",duration:1e3}),null!==i&&void 0!==i&&null!==(s=i.data)&&void 0!==s&&s.url)0!=i.data.url.indexOf("http")?e.$router.push(i.data.url):window.open(i.data.url);else if(e.addNext)if(e.formData.formTabs.length>0)for(r=0;r<e.formData.formTabs.length;r++)e.$refs[e.ref+"_"+e.formData.formTabs[r]["name"]][0].resetFields();else e.$refs[e.ref].resetFields();else e.$refs.sv.close(),null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.noback||e.$emit("close",!0);else 401003==i.code?e.$refs.sv.open(i.data.verifyList):e.res=i;return e.subloading=!1,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("close",!1)}}},$e=Se,Te=(a("38b0"),Object(g["a"])($e,i,s,!1,null,"157fe458",null));t["default"]=Te.exports},"4e43":function(e,t,a){"use strict";a("ba9e")},"4f43":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap my-wrap"},[a("el-container",[a("el-header",[a("xy-header",{attrs:{transparent:!1}})],1),a("el-container",{staticClass:"container main-container"},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"auto"}},[a("el-menu",{attrs:{collapse:e.isCollapse,"default-active":e.defaultActive,router:"","default-openeds":["0","1","2"]}},[a("el-submenu",{attrs:{index:"0"}},[a("template",{slot:"title"},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户")])]),a("el-menu-item",{class:"/user/center"==e.$route.path?"active":"",attrs:{index:"/user/center"}},[a("i",{staticClass:"el-icon-user"}),e._v("个人中心"),a("i",{staticClass:"active-img"})])],2)],1)],1),a("el-main",[a("router-view")],1)],1)],1)],1)},s=[],r=a("1da1"),n=(a("96cf"),{data:function(){return{isCollapse:!1,defaultActive:"",keyword:""}},created:function(){this.util.isLogin(!1,!0)},watch:{defaultActive:function(e){}},methods:{toggleNav:function(){this.isCollapse=!this.isCollapse},logout:function(){var e=this;this.$confirm("确定要注销登录吗？","提示",{confirmButtonText:"注销",confirmButtonClass:"el-button--danger",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("user/setToken",""),e.$store.dispatch("user/setUserInfo",""),t.next=4,e.util.request({url:"/v1/core/user/logout",method:"delete"});case 4:a=t.sent,200==a.code?(e.util.showToast({title:"注销成功",icon:"success",duration:2e3}),window.location.href=e.util.baseDomain()):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 6:case"end":return t.stop()}}),t)})))).catch((function(){}))},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/api",data:{},method:"get"});case 2:a=t.sent,200==a.code||e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("22ce"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=c.exports},"4f54":function(e,t,a){"use strict";a("7e7e")},"4f6c":function(e,t,a){},5067:function(e,t,a){"use strict";a("f9f3")},"50f0":function(e,t,a){"use strict";a("8900")},"52b3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"center-box safe-box m-b"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("最近登录记录")])]),a("div",{staticClass:"content clearfix"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.loginHistory,stripe:""}},[a("el-table-column",{attrs:{prop:"loginTime",label:"时间","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.util.timeFormat(t.row.loginTime)))])]}}])}),a("el-table-column",{attrs:{prop:"clientIp",label:"IP地址","min-width":"180"}}),a("el-table-column",{attrs:{prop:"city",label:"地点"}})],1)],1)])},s=[],r=a("1da1"),n=(a("96cf"),{components:{},data:function(){return{loginHistory:[]}},created:function(){this.loadLoginHistory()},methods:{loadLoginHistory:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user/user/loginHistory",method:"get"});case 2:a=t.sent,200==a.code?e.loginHistory=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("af8f"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"2283d604",null);t["default"]=c.exports},5315:function(e,t,a){},5383:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.publicAttrCates,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"title tw4 ts-16 m-b-xs m-t"},[e._v(e._s(t.title))]),a("div",{staticClass:"box bg-white"},[a("el-form",{attrs:{model:e.extendInfo[t.name],"label-width":"140px","label-suffix":":",size:"medium"}},e._l(t.attrList,(function(i,s){return a("div",{key:s},[a("el-form-item",{attrs:{label:i.title}},["text"==i.type?[a("el-input",{attrs:{size:"medium",placeholder:i.placeholder},model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}})]:"select"==i.type?[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}},e._l(i.options,(function(t,i){return a("el-option",{key:i,attrs:{label:t.title,value:e.getOptionValue(t)}})})),1)]:"cascader2"==i.type?[a("XyCascader2",{attrs:{options:i.options},model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}})]:"radio"==i.type?[a("el-radio-group",{model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}},e._l(i.options,(function(t,i){return a("el-radio",{key:i,attrs:{label:e.getOptionValue(t)}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"checkbox"==i.type?[a("el-checkbox-group",{model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}},e._l(i.options,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:e.getOptionValue(t)}},[e._v(" "+e._s(t.title)+" ")])})),1)]:e._e()],2),i.tip?a("div",{staticClass:"text-gray ts-12 m-l-md"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs"}),a("span",[e._v(e._s(i.tip))])]):e._e()],1)})),0),a("div",{staticClass:"p-b",staticStyle:{width:"100%"}},[a("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary"},on:{click:function(a){return e.saveInfo(t.name)}}},[e._v("保存设置")])],1)],1)])})),e.userTypeList.length>0?a("div",[a("div",{staticClass:"title tw4 ts-16 m-b-xs m-t"},[e._v("联系信息")]),a("div",{staticClass:"box bg-white"},[a("div",[a("el-form",{attrs:{"label-width":"140px","label-suffix":":"}},[a("el-form-item",{attrs:{label:"身份"}},[a("el-radio-group",{model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},e._l(e.userTypeList,(function(t,i){return a("el-radio",{key:i,attrs:{label:t.id}},[e._v(" "+e._s(t.title)+" ")])})),1)],1)],1)],1),e._l(e.userTypeList,(function(t,i){return a("div",{key:i},[t.id==e.userType?[e._l(t.attrCates,(function(t,i){return a("div",{key:i},[a("el-form",{attrs:{model:e.extendInfo[t.name],"label-width":"140px","label-suffix":":"}},e._l(t.attrList,(function(i,s){return a("div",{key:s},[a("el-form-item",{attrs:{label:i.title}},["text"==i.type?[a("el-input",{attrs:{size:"medium",placeholder:i.placeholder},model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}})]:"select"==i.type?[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}},e._l(i.options,(function(t,i){return a("el-option",{key:i,attrs:{label:t.title,value:e.getOptionValue(t)}})})),1)]:"radio"==i.type?[a("el-radio-group",{model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}},e._l(i.options,(function(t,i){return a("el-radio",{key:i,attrs:{label:e.getOptionValue(t)}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"checkbox"==i.type?[a("el-checkbox-group",{model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}},e._l(i.options,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:e.getOptionValue(t)}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"region"==i.type?[a("XyCascader",{attrs:{init:e.regionInit},model:{value:e.extendInfo[t.name][i.name],callback:function(a){e.$set(e.extendInfo[t.name],i.name,a)},expression:"extendInfo[item.name][item1.name]"}})]:e._e(),i.tip?a("div",{staticClass:"text-gray ts-12"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs"}),a("span",[e._v(e._s(i.tip))])]):e._e()],2)],1)})),0)],1)})),a("div",{staticClass:"p-b m-r-lg",staticStyle:{width:"100%"}},[a("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary"},on:{click:function(a){return e.saveTypeInfo(t.attrCateNames)}}},[e._v("保存设置")])],1)]:e._e()],2)}))],2)]):e._e()],2)},s=[],r=a("1da1"),n=(a("96cf"),a("ac1f"),a("1276"),a("d3b7"),a("159b"),a("1339")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-select",{staticClass:"block",attrs:{placeholder:"请选择"},on:{change:e.onSelectChange},model:{value:e.content[0],callback:function(t){e.$set(e.content,0,t)},expression:"content[0]"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.value}})})),1)],1),a("el-radio-group",{staticClass:"m-t",on:{change:e.onChange},model:{value:e.content[1],callback:function(t){e.$set(e.content,1,t)},expression:"content[1]"}},e._l(e.optionsLevel2,(function(t,i){return a("el-radio",{key:i,attrs:{label:t.value,border:""}},[e._v(" "+e._s(t.title)+" ")])})),1)],1)},l=[],c=a("ade3"),u=(a("c740"),Object(c["a"])({name:"XyCascader2",props:{value:{type:[],default:""},options:Array,header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{content:[],optionsLevel2:[]}},created:function(){var e,t=this,a="";0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.value=["",""],this.content[0]&&(a=this.options.findIndex((function(e){return e.value===t.content[0]}))),this.options[a]&&null!==(e=this.options[a])&&void 0!==e&&e.children?this.optionsLevel2=this.options[a].children:this.optionsLevel2=[]},watch:{value:function(e){var t=this;0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.value=["",""],this.content[0]&&(index=this.options.findIndex((function(e){return e.value===t.content[0]}))),this.options[index].children?this.optionsLevel2=this.options[index].children:this.optionsLevel2=[]}},methods:{onSelectChange:function(){var e=this,t=this.options.findIndex((function(t){return t.value===e.content[0]}));this.options[t].children?this.optionsLevel2=this.options[t].children:this.optionsLevel2=[],this.content[1]=""},onChange:function(){this.$emit("input",this.content)}}},"watch",{})),d=u,m=a("2877"),p=Object(m["a"])(d,o,l,!1,null,"2464aa3e",null),f=p.exports,h={name:"editExtendInfo",components:{XyCascader:n["a"],XyCascader2:f},data:function(){return{loading:!1,extendInfo:{},publicAttrCates:[],userTypeList:[],userType:1,regionInit:{showInput:!1,labelField:"name",valueField:"name",deep:1,maxLevel:3,nodeKey:"id",lazy:!0,action:"/v1/region/region/lists"}}},created:function(){this.loadData()},watch:{"extendInfo.own.country":{handler:function(e){this.regionInit.showInput="中国"!=e},deep:!0,immediate:!0},"extendInfo.org.country":{handler:function(e){this.regionInit.showInput="中国"!=e},deep:!0,immediate:!0}},methods:{getOptionValue:function(e){return null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:null===e||void 0===e?void 0:e.title},saveTypeInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=e.split(","),i={},e.forEach((function(e){i[e]=t.extendInfo[e]})),a.next=5,t.util.request({url:"/v1/user/user/extendInfo",data:{userType:t.usertype,extendInfo:i},method:"put"});case 5:s=a.sent,200==s.code?t.util.showToast({title:s.msg,icon:"loading",duration:2e3}):t.util.showToast({title:s.msg,icon:"loading",duration:3e3});case 7:case"end":return a.stop()}}),a)})))()},saveInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={},i[e]=t.extendInfo[e],a.next=4,t.util.request({url:"/v1/user/user/extendInfo",data:{extendInfo:i},method:"put"});case 4:s=a.sent,200==s.code?t.util.showToast({title:s.msg,icon:"loading",duration:2e3}):t.util.showToast({title:s.msg,icon:"loading",duration:3e3});case 6:case"end":return a.stop()}}),a)})))()},loadData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/user/user/extendInfo",data:{},method:"get"});case 2:a=e.sent,200==a.code?(t.userTypeList=a.data.userTypeList,t.publicAttrCates=a.data.publicAttrCates,t.extendInfo=a.data.extendInfo):t.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}},v=h,g=(a("fa03"),Object(m["a"])(v,i,s,!1,null,"65559fd2",null));t["default"]=g.exports},"53b2":function(e,t,a){"use strict";a("3600")},"541c":function(e,t,a){},"561a":function(e,t,a){},5722:function(e,t,a){},"59e6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main p-t"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container",attrs:{"element-loading-text":"拼命加载中"}},[a("el-card",{staticStyle:{"min-height":"400px"},attrs:{shadow:"none"}},[a("h1",{staticClass:"title text-center"},[e._v(e._s(e.info.title))]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],domProps:{innerHTML:e._s(e.info.content)}})])],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),{data:function(){return{id:0,info:{},loading:!1}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(e,t){this.id=this.$route.params.id,this.loadData()}},methods:{loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/icms/post/info/"+e.id,data:{},method:"get"});case 3:a=t.sent,200==a.code?e.info=a.data.info:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}}),o=n,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"50209b5a",null);t["default"]=c.exports},"5bac":function(e,t,a){},"5d93":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"xy-builder-comp xy-builder-wrap-info"},[e.infoData.infoList?e._l(e.infoData.infoList,(function(t,i){return a("div",{key:i,staticClass:"item-group"},[a("xy-title",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"group.title"}],staticClass:"m-b-sm m-t"},[e._v(e._s(t.title))]),e.ready?a("el-row",e._l(t.data,(function(t,i){return a("div",{key:i},["list"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderList",{ref:"xy_builder_info_"+i,refInFor:!0,attrs:{header:e.header,show:!0,api:t.pageData?t.pageData.api:"",predata:t.value?t.value:""}})],1)]):"form"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderForm",{ref:"xy_builder_form_"+i,refInFor:!0,attrs:{header:e.header,show:!0,api:t.pageData?t.pageData.api:"",predata:t.value?t.value:""}})],1)]):"stack"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[a("div",[a("XyBuilderStack",{ref:"xy_builder_stack_"+i,refInFor:!0,attrs:{header:e.header,show:!0,api:t.pageData?t.pageData.api:"",predata:t.value?t.value:""}})],1)]):"count"==t.type?a("el-col",{staticClass:"info-item block",attrs:{xs:24,sm:24}},[t.value?a("el-row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"start",align:"top"}},e._l(t.value,(function(t,i){return a("el-col",{key:i,attrs:{xs:12,xl:t.item.xl?t.item.xl:6,xxl:4}},[a("el-row",{staticClass:"count-item",style:{backgroundColor:t.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("el-col",{staticClass:"left"},[a("i",{staticClass:"icon",class:t.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.item.title,expression:"it.item.title"}]},[e._v(e._s(t.item.title))])]),a("el-col",{staticClass:"right",style:{backgroundColor:t.item.bgColorRight||"#fff",color:t.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[e._v(e._s(t.current.value))]),a("span",{staticClass:"suffix"},[e._v(e._s(t.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.value,expression:"it.content.value"}],staticClass:"value"},[e._v(e._s(t.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.content.list,expression:"it.content.list"}],staticClass:"list"},e._l(t.content.list,(function(t,i){return a("div",{key:i,staticClass:"cell"},[e._v(" "+e._s(t.title)+"："+e._s(t.value)+" ")])})),0)])])],1)],1)})),1):e._e()],1):a("el-col",{staticClass:"info-item",attrs:{xs:24,sm:{span:t.extra.sm.span?t.extra.sm.span:8,offset:t.extra.sm.offset?t.extra.sm.offset:0,pull:t.extra.sm.pull?t.extra.sm.pull:0,push:t.extra.sm.push?t.extra.sm.push:0}}},[a("div",{staticClass:"title text-gray ts-13"},[e._v(" "+e._s(t.title)+"： ")]),a("div",{staticClass:"value ts-14"},["text"==t.type?[a("span",[e._v(e._s(t.value))])]:"image"==t.type?[a("img",{attrs:{src:t.value,width:t.extra.width||"40px"}})]:"label"==t.type?[a("span",{style:{color:e.getArrayField(t.extra.options,t.value,"color","")}},[e._v(" "+e._s(e.getArrayField(t.extra.options,t.value,"title",t.value))+" ")])]:e._e(),"link"==t.type?[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return e.goPage(t)}}},[e._v(e._s(t.value))]),a("div",{staticClass:"dialog-pool"},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{"close-on-click-modal":!1,"append-to-body":!0,visible:e.currentItem.pageData.show,width:e.currentItem.pageData.width||"900",title:e.currentItem.pageData.title},on:{"update:visible":function(t){return e.$set(e.currentItem.pageData,"show",t)}}},[e.currentItem.pageData.show?["list"==e.currentItem.pageData.modalType?a("XyBuilderList",{ref:"dialog-pool-list",refInFor:!0,attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem}}):"form"==e.currentItem.pageData.modalType?a("XyBuilderForm",{ref:"dialog-pool-form",refInFor:!0,attrs:{header:e.header,api:e.currentItem.pageData.apiBlank,show:e.currentItem.pageData.show,pitem:e.currentItem,showDev:e.showDev}}):"html"==e.currentItem.pageData.modalType?a("div",{domProps:{innerHTML:e._s(e.currentItem.pageData.predata)}}):"htmls"==e.currentItem.pageData.modalType?a("div",e._l(e.currentItem.pageData.predata,(function(t,i){return a("div",{key:i,domProps:{innerHTML:e._s(t)}})})),0):"table"==e.currentItem.pageData.modalType?a("div",[a("el-table",{attrs:{data:e.currentItem.pageData.predata.data,border:"",stripe:""}},e._l(e.currentItem.pageData.predata.columns,(function(e){return a("el-table-column",{key:e.name,attrs:{prop:e.name,label:e.title,width:e.width}})})),1)],1):e._e()]:e._e()],2)],1)]:"tag"==t.type?[a("el-tag",{attrs:{hit:!1,effect:e.getArrayField(t.extra.options,t.value,"effect","light"),type:e.getArrayField(t.extra.options,t.value,"type",""),color:e.getArrayField(t.extra.options,t.value,"color","")}},[e._v(" "+e._s(e.getArrayField(t.extra.options,t.value,"title",t.value))+" ")])]:"tags"==t.type?[e._l(t.value,(function(i,s){return[a("el-tag",{key:s,attrs:{hit:!1,effect:e.getArrayField(t.extra.options,i,"effect","light"),type:e.getArrayField(t.extra.options,i,"type",""),color:e.getArrayField(t.extra.options,i,"color","")}},[e._v(" "+e._s(e.getArrayField(t.extra.options,i,"title",i))+" ")])]}))]:e._e(),"time"==t.type?[a("span",[e._v(e._s(e.util.timeFormat(t.value)))])]:e._e(),"url"==t.type?[a("a",{attrs:{href:t.value,target:"_blank"}},[e._v(e._s(t.extra.placeholder))])]:e._e()],2)])],1)})),0):e._e()],1)})):e._e()],2)},s=[],r=a("1da1"),n=a("53ca"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("c740"),a("159b"),a("6df9")),l=a("6475"),c={components:{"xy-title":o["a"]},mixins:[l["a"]],name:"XyBuilderInfo",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:""},data:function(){return{ready:!1,loading:!1,infoData:{infoList:""},currentItem:{pageData:{pageType:"modal",modalTye:"",apiBlank:"",show:!1,title:"",predata:""}}}},watch:{show:function(e){this.infoData={},1==e&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return a.e("manifest").then(a.bind(null,"114b"))},this.$options.components.XyBuilderForm=function(){return Promise.resolve().then(a.bind(null,"4d99"))},this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderStack=function(){return a.e("manifest").then(a.bind(null,"396d"))}},created:function(){this.predata?this.processData(this.predata):this.loadData()},methods:{getArrayField:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!e||0==e.length)return t;"string"==typeof e[0].value&&(t+=""),"number"==typeof e[0].value&&(t=parseInt(t));var s=e.findIndex((function(e){return e.value===t}));return""==a?s:e[s]&&e[s].hasOwnProperty(a)&&e[s][a]?e[s][a]:i},processData:function(e){var t=this;e.infoList.forEach((function(e){e.data.forEach((function(e){if(e.hasOwnProperty("extra")||(e.extra={}),e.extra.hasOwnProperty("sm")||(e.extra.sm={}),e.extra.options){if("string"==typeof e.extra.options){var a=t.util.isJson(e.extra.options);!1===a?a=e.extra.options:e.extra.options=a}var i=[];for(var s in e.extra.options){var r=e.extra.options[s];!1===isNaN(s)&&(s=parseInt(s)),"object"==Object(n["a"])(r)?(r.hasOwnProperty("value")||(r.value=s),i.push(r)):i.push({title:r,value:s})}e.extra.options=i}else e.extra.options=[]}))})),this.infoData=e,this.ready=!0},loadData:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.ready=!1,t.loading=!0,!t.api){a.next=9;break}return a.next=7,t.util.request({url:t.api,method:"get",header:{CloudId:null===(s=t.header)||void 0===s?void 0:s.cloudId,Eid:null===(r=t.header)||void 0===r?void 0:r.eid}});case 7:n=a.sent,"200"==n.code?(t.processData(n.data.infoData),t.loading=!1):t.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 9:t.loading=!1;case 10:case"end":return a.stop()}}),a)})))()}}},u=c,d=(a("46eb"),a("2877")),m=Object(d["a"])(u,i,s,!1,null,"a666bbc6",null);t["default"]=m.exports},"5e32":function(e,t,a){},"5e45":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"container p-t"},[a("el-breadcrumb",{staticClass:"p-l m-b-lg",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/user/center"}}},[e._v("个人设置")]),a("el-breadcrumb-item",[e._v("绑定谷歌验证码")])],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{xs:22,sm:20,md:16,lg:14}},[a("div",{staticClass:"top-tip"},[e._v("谷歌验证器是一款动态口令工具，工作原理类似短信动态验证。绑定后每30s生成一个动态验证码，验证码可用于登录、提现、修改安全设置等操作的安全验证。")]),a("div",{staticStyle:{height:"500px"}},[a("el-steps",{attrs:{direction:"vertical",space1:"60",active:0}},[a("el-step",{attrs:{status:"process",title:"下载谷歌验证"}},[a("div",{attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:"des"},[e._v("iOS用户登录App Store搜索“Authenticator”下载安卓用户登录应用商店或使用手机浏览器搜索“谷歌验证器”下载")]),a("div",{staticStyle:{"margin-bottom":"60px"}},[a("img",{staticStyle:{"margin-right":"60px"},attrs:{src:"https://cdn.jsdelivr.net/gh/starideas/xyfront/image/appstore.png",alt:"appstore"}}),a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/starideas/xyfront/image/googleplay.png",alt:"googleplay"}})])])]),a("el-step",{attrs:{status:"process",title:"在谷歌验证器中添加密钥并备份"}},[a("div",{attrs:{slot:"description"},slot:"description"},[a("div",{staticClass:"des"},[e._v("打开谷歌验证器，扫描下方二维码或手动输入下述密钥添加验证令牌。")]),a("div",{staticClass:"gauth flex"},[a("div",{staticClass:"qr"},[a("xy-qrcode",{attrs:{value:e.gauthQrcode,options:{width:118}}})],1),a("div",[a("div",{staticClass:"key"},[e._v("Key："+e._s(e.gauthSecret))]),a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.gauthSecret,expression:"gauthSecret",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"copy"},[a("i",{staticClass:"el-icon-copy-document"}),e._v(" 复制秘钥 ")])])])])]),a("el-step",{attrs:{status:"process",title:"输入谷歌验证器中6位验证码",description:""}})],1)],1),a("el-row",{staticClass:"m-t",staticStyle:{"margin-left":"30px"},attrs:{type:"flex",justify:"start",align:"middle"}},[a("el-col",{staticClass:"login-box bg-white1 p-a-0",attrs:{xs:22,sm:22,md:18,lg:18}},[a("div",{staticClass:"m-b"},[e._v(" 谷歌验证码 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}})],1),e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"绑定谷歌验证"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"绑定谷歌验证"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 绑定 ")])],1)],1)],1)],1)],1)],1)])},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o=a("147d"),l={components:{XySendVerify:n["a"],"xy-qrcode":o["a"]},data:function(){return{verifyList:[],loading:!1,gauthSecret:"加载中...",gauthQrcode:"",form:{verify:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:""},rule:{verify:[{required:!0,message:"请填写谷歌验证码",trigger:"blur"},{type:"string",min:6,message:"验证码为6位",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{copySuccess:function(){alert("拷贝成功")},getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/gauth/user/bind",method:"get"});case 2:a=t.sent,"200"==a.code?(e.verifyList=a.data.dataList,e.gauthSecret=a.data.gauthSecret,e.gauthQrcode=a.data.gauthQrcode):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/gauth/user/bind",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateBack()):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("a989"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"73f05023",null);t["default"]=d.exports},6127:function(e,t,a){"use strict";a("c839")},"620a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"80px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title m-b-md"},[e._v(" 欢迎注册"+e._s(e.$store.state.app.siteInfo.title)+" ")]),a("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.handleClick},model:{value:e.regTab,callback:function(t){e.regTab=t},expression:"regTab"}},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?a("el-tab-pane",{staticClass:"p-t",attrs:{label:"邮箱注册",name:"email"}},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?a("RegEmail",{on:{"reg-success":e.regSuccess}}):e._e()],1):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?a("el-tab-pane",{staticClass:"p-t",attrs:{label:"手机注册",name:"mobile"}},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?a("RegMobile",{on:{"reg-success":e.regSuccess}}):e._e()],1):e._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.qrloginShow,expression:"!qrloginShow"}],staticClass:"qrlogin",on:{click:function(t){e.qrloginShow=!0}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.qrloginShow,expression:"qrloginShow"}],staticClass:"qrlogin-modal"},[a("div",{staticClass:"flex space-between m-b"},[a("div",{staticClass:"ts-18"},[e._v(" 登录 ")]),a("div",[a("span",{staticClass:"cursor-pointer text-gray",on:{click:function(t){e.qrloginShow=!1}}},[e._v("账号密码登录")])])]),a("qrlogin",{staticClass:"text-center",attrs:{qrloginShow:e.qrloginShow,type:e.wxapp}})],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("9a4d"),n=a("b31e"),o=a("e07c"),l={components:{qrlogin:r["a"],RegEmail:n["default"],RegMobile:o["default"]},data:function(){return{regTab:"email",qrloginShow:!1}},created:function(){this.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?this.regTab="email":this.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?this.regTab="mobile":this.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_username")>=0&&(this.regTab="username")},methods:{regSuccess:function(){this.util.navigateTo("/")}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,s,!1,null,"eebd62e2",null);t["default"]=d.exports},6258:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main p-t-sm"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container1",attrs:{"element-loading-text":"拼命加载中"}},[a("el-card",{staticStyle:{"min-height":"400px"},attrs:{shadow:"none"}},[a("el-link",{staticClass:"hidden-lg-and-up m-b",attrs:{type:"primary"},on:{click:function(t){e.navShow=!0}}},[e._v(" 打开目录 ")]),a("el-drawer",{attrs:{title:"文档目录",visible:e.navShow,size:"250px",direction:"ltr"},on:{"update:visible":function(t){e.navShow=t}}},[a("el-tree",{staticClass:"m-b-md",attrs:{data:e.dataList,"node-key":"id","default-expand-all":!1,"highlight-current":"","expand-on-click-node":!0},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("div",{staticClass:"custom-tree-node flex flex-1 flex-alignCenter"},[a("div",{staticClass:"flex-1 ts-14 tw5 flex flex-alignCenter",staticStyle:{height:"100%"},on:{click:function(t){return e.open(i,s)}}},[e._v(" "+e._s(s.title)+" ")])])}}])})],1),a("el-row",{staticClass:"flex flex-wrap",attrs:{type:"flex",gutter:25}},[a("el-col",{staticClass:"left hidden-md-and-down",attrs:{xs:0,sm:24,md:5,lg:5,xl:4}},[a("el-tree",{staticClass:"m-b-md",attrs:{data:e.dataList,"node-key":"id","default-expand-all":!1,"default-expanded-keys":e.defaultExpandedKeys,"highlight-current":"","expand-on-click-node":!0},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("div",{staticClass:"custom-tree-node flex flex-1 flex-alignCenter"},[a("div",{staticClass:"flex-1 ts-14 tw5 flex flex-alignCenter",staticStyle:{height:"100%"},on:{click:function(t){return e.open(i,s)}}},[e._v(" "+e._s(s.title)+" ")])])}}])})],1),a("el-col",{staticClass:"right",attrs:{xs:24,sm:24,md:24,lg:{span:17,offset:1},xl:{span:14,offset:3},id:"right"}},[a("XyMavonEditor",{attrs:{defaultOpen:"preview",codeStyle:"solarized-dark",previewBackground:"#fff",navigation:!1,editable:!1,subfield:!1,border:!1,ishljs:!1,toolbarsFlag:!1},model:{value:e.current.content,callback:function(t){e.$set(e.current,"content",t)},expression:"current.content"}}),a("div",{staticClass:"m-t"},e._l(e.current.children,(function(t,i){return a("div",{key:i},[a("el-button",{staticClass:"ts-16 tw5",attrs:{type:"text"},on:{click:function(a){return e.open("",t)}}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),e.current.id?a("div",{staticClass:"m-t-md"},[a("comment-lists",{attrs:{title:"评论",urlPrefix:"/docs/"+this.id,showReplyForm:e.showReplyForm,dataId:e.current.id,dataModel:"doc_chapter"},on:{"update:showReplyForm":function(t){e.showReplyForm=t},"update:show-reply-form":function(t){e.showReplyForm=t}}})],1):e._e()],1)],1)],1)],1)])],1)},s=[],r=a("1da1"),n=(a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("96cf"),a("7e25")),o=a("d958"),l=a("1157"),c=a.n(l),u=a("8bbf"),d=a.n(u),m=function(e){c()("pre code").each((function(){var e=c()(this).text().split("\n").length-1,t=c()("<ol/>").addClass("pre-numbering"),a=c()('<i title="copy"/>').addClass("el-icon-document-copy code-copy");c()(this).parent().addClass("code").append(t).append(a);for(var i=0;i<e;i++)t.append(c()("<li/>"))})),c()("pre.code i.code-copy").click((function(e){var t=c()(e.target).siblings("code").text(),a=c()("<textarea>"+t+"</textarea>");c()("body").append(a),a[0].select(),document.execCommand("Copy"),a.remove(),d.a.prototype.util.showToast({title:"代码复制成功",icon:"none",duration:1e3})}))},p={components:{XyMavonEditor:o["a"],"comment-lists":n["a"]},data:function(){return{id:0,dataList:[],current:{},loading:!1,showReplyForm:!0,query:{},navShow:!1,defaultExpandedKeys:[]}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.id=this.$route.params.id,this.query=this.util.getUrlQuery(),e.next=4,this.loadData();case 4:this.query.id?this.current=this.util.treeSearch(this.dataList,this.query.id):this.current=this.dataList[0],this.$nextTick((function(){t.highlighthandle(),m()}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{$route:function(e,t){this.id=this.$route.params.id,this.loadData()}},methods:{highlighthandle:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadScript();case 2:a=document.querySelectorAll("pre.code"),a.forEach((function(e){hljs.highlightBlock(e)}));case 4:case"end":return t.stop()}}),t)})))()},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js").then((function(){t()}))}))},open:function(e,t){var a=this;this.current=t,this.navShow=!1;var i=location.href;i=location.href.split("?");var s=i[0]+"?id=".concat(t.id);window.history.replaceState("","",s);var r=document.getElementById("right");r.scrollTop=0,this.$nextTick((function(){a.highlighthandle(),m()}))},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/doc/chapter/trees/"+e.id,data:{},method:"get"});case 3:a=t.sent,200==a.code?(e.dataList=a.data.dataList,e.defaultExpandedKeys=a.data.info.defaultExpandedKeys):e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},f=p,h=(a("9ab7"),a("2877")),v=Object(h["a"])(f,i,s,!1,null,"32e9ef9d",null);t["default"]=v.exports},6475:function(e,t,a){"use strict";var i=a("b85c"),s=a("1da1"),r=(a("ac1f"),a("5319"),a("b0c0"),a("a15b"),a("96cf"),a("4328")),n=a.n(r);t["a"]={name:"button",data:function(){return{}},created:function(){},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{goPage:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var o,l,c,u,d,m,p,f,h,v,g,y,b,x,w,_;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=a,l=e.extra,l.pageData.hasOwnProperty("pageType")||(l.pageData.pageType="modal"),c="",u="",d=new Object,t){if(l.pageData.apiSuffix){m=l.pageData.apiSuffix,p=Object(i["a"])(m);try{for(p.s();!(f=p.n()).done;)h=f.value,h.field?h.noSlash?u+=t.row[h.field]:u=u+"/"+t.row[h.field]:u=u+"/"+t.row[h]}catch(k){p.e(k)}finally{p.f()}}else u="/"+t.row.id;if(l.pageData.apiParams&&(u=l.pageData.apiParams+u),l.pageData.querySuffix){v=l.pageData.querySuffix,g=Object(i["a"])(v);try{for(g.s();!(y=g.n()).done;)b=y.value,1==b[2]?d[b[0]]=b[1]:d[b[0]]=t.row[b[1]]}catch(k){g.e(k)}finally{g.f()}}c=u,x="",x="string"!=typeof l.pageData.queryParams?n.a.stringify(l.pageData.queryParams):0==l.pageData.queryParams.indexOf("?")?l.pageData.queryParams.substr(1):l.pageData.queryParams,x?(c=c+"?"+x,n.a.stringify(d)&&(c=c+"&"+n.a.stringify(d))):n.a.stringify(d)&&(c=c+"?"+n.a.stringify(d)),l.pageData.querySuffixParse=d}a.currentItem.pageData.modalType=l.pageData.modalType,l.pageData.title&&(a.currentItem.pageData.title=l.pageData.title),r.t0=l.pageData.modalType,r.next="table"===r.t0||"html"===r.t0||"htmls"===r.t0?12:"url"===r.t0?17:"confirm"===r.t0?19:22;break;case 12:return a.currentItem.pageData.width=l.pageData.width,a.currentItem.pageData.apiBlank=l.pageData.api+c,a.currentItem.pageData.predata=l.pageData.predata,a.currentItem.pageData.show=!0,r.abrupt("break",39);case 17:return window.open(l.pageData.url+c),r.abrupt("break",39);case 19:return a.$store.state.app.uiAudio&&(w=new Audio,w.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_OPEN,w.play()),a.$confirm(l.pageData.content,l.pageData.title,{confirmButtonText:l.pageData.okText,cancelButtonText:l.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.pageData.api+u,""!=n.a.stringify(d)&&(t=t+"?"+n.a.stringify(d)),e.next=4,o.util.request({url:t,method:l.pageData.formMethod,header:o.header});case 4:i=e.sent,"200"==i.code?(o.util.showToast({title:i.msg,icon:"success",duration:1e3}),a.$store.state.app.uiAudio&&(s=new Audio,s.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",s.play()),l.pageData.noRefresh||o.loadData()):o.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 6:case"end":return e.stop()}}),e)})))).catch((function(){if(a.$store.state.app.uiAudio){var e=new Audio;e.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_CLOSE,e.play()}})),r.abrupt("break",39);case 22:a.pitem.pageData&&"modal"==a.pitem.pageData.pageType&&(l.pageData.pageType=a.pitem.pageData.pageType),r.t1=l.pageData.pageType,r.next="replace"===r.t1?26:"page"===r.t1?28:"modal"===r.t1?32:36;break;case 26:return a.$router.replace({path:l.pageData.route+"/"+t.row.name}),r.abrupt("break",38);case 28:return _="",a.$store.state.menu.menuList.menuTree[a.$store.state.menu.currentSite].routePrefix&&(_=a.$store.state.menu.menuList.menuTree[a.$store.state.menu.currentSite].routePrefix),a.$router.push({path:_+"/pages"+l.pageData.api+u,query:d}),r.abrupt("break",38);case 32:return a.currentItem.pageData.width=l.pageData.width,a.currentItem.pageData.apiBlank=l.pageData.api+c,a.currentItem.pageData.show=!0,r.abrupt("break",38);case 36:return alert("未指定按钮pageType"),r.abrupt("break",38);case 38:return r.abrupt("break",39);case 39:case"end":return r.stop()}}),r)})))()},topButtonModal:function(e){var t=this,a=this,r=this.listData.topButtonList[e],o={};if(r.pageData.querySuffix){var l,c=r.pageData.querySuffix,u=Object(i["a"])(c);try{for(u.s();!(l=u.n()).done;){var d=l.value;1==d[2]?o[d[0]]=d[1]:"id"==d[1]&&(o[d[0]]=this.currentSelecteds.join(","))}}catch(g){u.e(g)}finally{u.f()}}var m=r.pageData.apiParams,p="";switch(p="string"!=typeof r.pageData.queryParams?n.a.stringify(r.pageData.queryParams):0==r.pageData.queryParams.indexOf("?")?r.pageData.queryParams.substr(1):r.pageData.queryParams,p?(m=m+"?"+p,n.a.stringify(o)&&(m=m+"&"+n.a.stringify(o))):n.a.stringify(o)&&(m=m+"?"+n.a.stringify(o)),r.pageData.querySuffixParse=o,r.pageData.modalType){case"url":window.open(r.pageData.url+m);break;case"confirm":if(this.$store.state.app.uiAudio){var f=new Audio;f.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_OPEN,f.play()}var h=this;this.$confirm(r.pageData.content,r.pageData.title,{confirmButtonText:r.pageData.okText,cancelButtonText:r.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.util.request({url:r.pageData.api+m,method:r.pageData.formMethod,header:{CloudId:h.cloudId,Eid:h.eid}});case 2:a=e.sent,"200"==a.code?(h.$Message.success(a.msg),t.$store.state.app.uiAudio&&(i=new Audio,i.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",i.play()),r.pageData.noRefresh||h.loadData()):h.util.showToast({title:a.msg,icon:"error",duration:2e3});case 4:case"end":return e.stop()}}),e)})))).catch((function(){if(t.$store.state.app.uiAudio){var e=new Audio;e.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_CLOSE,e.play()}}));break;default:switch(this.pitem.pageData&&"modal"==this.pitem.pageData.pageType&&(r.pageData.pageType=this.pitem.pageData.pageType),r.pageData.pageType){case"page":var v="";this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].routePrefix&&(v=this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].routePrefix),this.$router.push({path:v+"/pages"+r.pageData.api+m});break;case"modal":r.pageData.apiBlank=r.pageData.api+m,r.pageData.show=!0;break}break}a.$nextTick((function(){"auto"!==r.pageData.height&&(a.$refs["top_modal_"+r.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.overflowY="scroll",a.$refs["top_modal_"+r.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.height=r.pageData.height)}))},rightButtonModal:function(e,t,a){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var o,l,c,u,d,m,p,f,h,v,g,y,b,x,w,_;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=r,l=r.listData.rightButtonList[e],c="",u=new Object,l.pageData.apiSuffix){d=l.pageData.apiSuffix,m=Object(i["a"])(d);try{for(m.s();!(p=m.n()).done;)f=p.value,f.field?f.noSlash?c+=t.row[f.field]:c=c+"/"+t.row[f.field]:c=c+"/"+t.row[f]}catch(k){m.e(k)}finally{m.f()}}else c="/"+t.row.id;if(l.pageData.apiParams&&(c=l.pageData.apiParams+c),l.pageData.querySuffix){h=l.pageData.querySuffix,v=Object(i["a"])(h);try{for(v.s();!(g=v.n()).done;)y=g.value,1==y[2]?u[y[0]]=y[1]:u[y[0]]=t.row[y[1]]}catch(k){v.e(k)}finally{v.f()}}if(b=c,x="",x="string"!=typeof l.pageData.queryParams?n.a.stringify(l.pageData.queryParams):0==l.pageData.queryParams.indexOf("?")?l.pageData.queryParams.substr(1):l.pageData.queryParams,x?(b=b+"?"+x,n.a.stringify(u)&&(b=b+"&"+n.a.stringify(u))):n.a.stringify(u)&&(b=b+"?"+n.a.stringify(u)),l.pageData.querySuffixParse=u,"replace"!=l.pageData.pageType){a.next=16;break}r.$router.replace({path:l.pageData.route+"/"+t.row.name}),a.next=38;break;case 16:a.t0=l.pageData.modalType,a.next="url"===a.t0?19:"confirm"===a.t0?21:24;break;case 19:return window.open(l.pageData.url+b),a.abrupt("break",38);case 21:return r.$store.state.app.uiAudio&&(w=new Audio,w.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_OPEN,w.play()),r.$confirm(l.pageData.content,l.pageData.title,{confirmButtonText:l.pageData.okText,cancelButtonText:l.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.util.request({url:l.pageData.api+b,method:l.pageData.formMethod,header:o.header});case 2:t=e.sent,"200"==t.code?(o.util.showToast({title:t.msg,icon:"success",duration:1e3}),r.$store.state.app.uiAudio&&(a=new Audio,a.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",a.play()),l.pageData.noRefresh||o.loadData()):o.util.showToast({title:t.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))).catch((function(){if(r.$store.state.app.uiAudio){var e=new Audio;e.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_CLOSE,e.play()}})),a.abrupt("break",38);case 24:r.pitem.pageData&&"modal"==r.pitem.pageData.pageType&&(l.pageData.pageType=r.pitem.pageData.pageType),a.t1=l.pageData.pageType,a.next="page"===a.t1?28:"modal"===a.t1?32:35;break;case 28:return _="",r.$store.state.menu.menuList.menuTree[r.$store.state.menu.currentSite].routePrefix&&(_=r.$store.state.menu.menuList.menuTree[r.$store.state.menu.currentSite].routePrefix),r.$router.push({path:_+"/pages"+l.pageData.api+c,query:u}),a.abrupt("break",37);case 32:return l.pageData.apiBlank=l.pageData.api+b,l.pageData.show=!0,a.abrupt("break",37);case 35:return alert("未指定按钮pageType"),a.abrupt("break",37);case 37:return a.abrupt("break",38);case 38:o.$nextTick((function(){"auto"!==l.pageData.height&&(o.$refs["right_modal_"+l.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.overflowY="scroll",o.$refs["right_modal_"+l.name][0].$el.querySelector(".el-dialog").querySelector(".el-dialog__body").style.height=l.pageData.height)}));case 39:case"end":return a.stop()}}),a)})))()}}}},6594:function(e,t,a){"use strict";a("e171")},6806:function(e,t,a){},6814:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"m-b-sm"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box profile-box"},[a("div",{staticClass:"content flex flex-alignCenter"},[a("div",{staticClass:"avatar-box text-center"},[a("el-avatar",{attrs:{size:108,src:e.$store.state.user.userInfo.avatar}}),a("div",[a("el-link",{on:{click:function(t){e.showEditAvatar=!0}}},[e._v("修改")])],1)],1),a("div",{staticClass:"profile"},[a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[e._v("昵称:")]),a("span",{staticClass:"m-r-md text-666"},[e._v(e._s(e.$store.state.user.userInfo.nickname))]),a("span",{staticClass:"title"},[e._v("UID:")]),a("span",{staticClass:"m-r-md text-666"},[e._v(e._s(e.$store.state.user.userInfo.id))]),a("span",{staticClass:"title m-l-lg"},[e._v("注册时间：")]),a("span",[e._v(e._s(e.util.timeFormat(e.$store.state.user.userInfo.registerTime)))])]),a("div",{staticClass:"item"},[a("span",[e._v("实名认证：")]),e.$store.state.user.userInfo.moduleExtend.user_cert?[1==e.$store.state.user.userInfo.moduleExtend.user_cert.certCate?a("el-tag",{staticClass:"m-r",attrs:{type:"success",effect:"light",size:"small"}},[e._v("个人实名认证")]):e._e(),2==e.$store.state.user.userInfo.moduleExtend.user_cert.certCate?a("el-tag",{staticClass:"m-r",attrs:{type:"success",effect:"light",size:"small"}},[e._v("企业实名认证")]):e._e()]:a("el-tag",{staticClass:"m-r",attrs:{type:"warning",effect:"light",size:"small"}},[e._v("未认证")]),a("router-link",{staticClass:"ts-14",attrs:{to:"/user_cert/cert/index"}},[e._v("详情")])],2),a("div",{staticClass:"item flex flex-alignCenter"},[a("span",{staticClass:"title"},[e._v("当前账户安全级别：")]),a("xy-safety-level",{attrs:{level:e.$store.state.user.userInfo.moduleExtend.user.safetyLevel}})],1),a("div",{staticClass:"tip"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs"}),e.$store.state.user.userInfo.moduleExtend.user.safetyLevel<3?a("span",[e._v(" 当前安全级别较低，建议完善个人资料或者修改登录密码 ")]):e._e(),3==e.$store.state.user.userInfo.moduleExtend.user.safetyLevel?a("span",[e._v(" 当前账号很安全，建议完善个人资料或者定期修改登录密码 ")]):e._e()])])]),a("el-divider",{staticClass:"m-a-0",staticStyle:{background:"#EEEEEE"}}),a("div",{staticClass:"content identity-list"},[a("el-form",{ref:"form",staticStyle:{"max-width":"570px"},attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"登录密码:"}},[a("div",{staticClass:"flex space-between"},[a("el-input",{attrs:{size:"medium",value:"***********"}}),a("div",{staticClass:"actions"},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.$router.push({name:"/user/editPassword"})}}},[e._v("修改")])],1)],1)]),a("el-form-item",{attrs:{label:"绑定手机号:"}},[e.$store.state.user.userInfo.mobile.identifier?a("div",{staticClass:"flex space-between"},[a("el-input",{attrs:{size:"medium",value:e.$store.state.user.userInfo.mobile.identifier}}),a("div",{staticClass:"actions"},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.$router.push({name:"/reg_mobile/user/change"})}}},[e._v("修改")])],1)],1):a("div",{staticClass:"flex space-between"},[a("div",{staticClass:"label"},[e._v("未绑定手机号")]),a("div",{staticClass:"actions"},[a("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:function(t){return e.$router.push({name:"/reg_mobile/user/bind"})}}},[e._v("去绑定")])],1),a("div",{staticClass:"p-r-md"},[a("i",{staticClass:"xyicon xyicon-help-o"})])])]),a("el-form-item",{attrs:{label:"绑定邮箱:"}},[e.$store.state.user.userInfo.email.identifier?a("div",{staticClass:"flex space-between"},[a("el-input",{attrs:{size:"medium",value:e.$store.state.user.userInfo.email.identifier}}),a("div",{staticClass:"actions"},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.$router.push({name:"/reg_email/user/change"})}}},[e._v("修改")])],1)],1):a("div",{staticClass:"flex space-between"},[a("div",{staticClass:"label"},[e._v("未绑定邮箱")]),a("div",{staticClass:"actions"},[a("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:function(t){return e.$router.push({name:"/reg_email/user/bind"})}}},[e._v("去绑定")])],1),a("div",{staticClass:"p-r-md"},[a("i",{staticClass:"xyicon xyicon-help-o"})])]),a("div",{staticClass:"text-gray ts-12 m-l-md"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs"}),a("span",[e._v("手机号和邮箱绑定之后，都可作为登录账号")])])]),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("third_login")>=0?a("el-form-item",{staticClass:"m-t-md",attrs:{label:"第三方账号："}},[a("third-login-bind",{on:{success:e.bindSuccess}})],1):e._e()],1)],1)],1),a("div",[a("div",{staticClass:"content"},[a("edit-extend-info")],1)]),a("el-dialog",{attrs:{title:"修改头像",visible:e.showEditAvatar,width:"800px"},on:{"update:visible":function(t){e.showEditAvatar=t}}},[a("edit-avatar",{attrs:{"show-popup":e.showEditAvatar}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1)},s=[],r=a("1da1"),n=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-safety-level",class:"level-"+e.level},[a("div",{staticClass:"level-box flex space-between p-t"},[a("div",{staticClass:"level",style:{width:e.levelWidth,height:e.levelHeight}}),a("div",{staticClass:"level",style:{width:e.levelWidth,height:e.levelHeight}}),a("div",{staticClass:"level",style:{width:e.levelWidth,height:e.levelHeight}})]),a("div",{staticClass:"level-tip flex space-betwe"},[a("div",{staticClass:"text-center",style:{width:e.levelWidth}},[1==e.level?a("span",[e._v("低")]):e._e()]),a("div",[2==e.level?a("span",[e._v("中")]):e._e()]),a("div",[3==e.level?a("span",[e._v("高")]):e._e()])])])}),o=[],l=(a("a9e3"),{name:"xySafetyLevel",props:{showType:{type:String,default:"level"},level:{type:Number,default:0},levelWidth:{type:String,default:"80px"},levelHeight:{type:String,default:"6px"},percent:{type:Number,default:5}},data:function(){return{}},created:function(){},methods:{}}),c=l,u=(a("d57e"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"59dec2b2",null),m=d.exports,p=a("bc88"),f=a("5383"),h=a("b593"),v={components:{"xy-safety-level":m,"third-login-bind":p["default"],"edit-extend-info":f["default"],"edit-avatar":h["default"]},data:function(){return{showEditAvatar:!1}},created:function(){},watch:{},methods:{bindSuccess:function(){},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/api",data:{},method:"get"});case 2:a=t.sent,200==a.code||e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}},g=v,y=(a("aea2"),Object(u["a"])(g,i,s,!1,null,"c900ac52",null));t["default"]=y.exports},"68df":function(e,t,a){"use strict";a("99c6")},"68eb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box"},[a("h4",{staticClass:"addTitle"},[e._v("创建工单")]),a("form",{staticClass:"addOrderForm",attrs:{action:""}},[a("div",[e._m(0),a("div",{staticClass:"right"},[a("div",[a("el-radio",{attrs:{label:1},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._v("一般")]),a("el-radio",{attrs:{label:2},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[e._v("重要")])],1),a("p",{staticClass:"firstP"},[e._v("选择优先级为一般：业务咨询或普通业务受影响，需要协助")])])]),a("div",[e._m(1),a("div",{staticClass:"right"},[a("div",[a("el-select",{staticClass:"typeSelect",attrs:{placeholder:"请选择"},model:{value:e.form.cate,callback:function(t){e.$set(e.form,"cate",t)},expression:"form.cate"}},e._l(e.cateList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1)])]),a("div",[e._m(2),a("div",{staticClass:"right "},[a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],attrs:{placeholder:"若提交密码或AccessKeys等信息，请通过'机密信息'方式添加，并在问题处理完毕后及时修改。"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})])])]),a("div",[e._m(3),a("div",{staticClass:"right"},[a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.secretInfo,expression:"form.secretInfo"}],attrs:{placeholder:"请在此填写账户、密码等机密信息，提交后机密信息将做加密处理。"},domProps:{value:e.form.secretInfo},on:{input:function(t){t.target.composing||e.$set(e.form,"secretInfo",t.target.value)}}})])])]),a("div",[e._m(4),a("div",{staticClass:"right"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel,expression:"form.tel"}],attrs:{type:"text"},domProps:{value:e.form.tel},on:{input:function(t){t.target.composing||e.$set(e.form,"tel",t.target.value)}}})]),a("p",[e._v("默认为您的绑定手机号，紧急情况时乐帆云工程师会与您联系，请您填写正确的手机号。")])])]),a("div",[e._m(5),a("div",{staticClass:"right"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tel2,expression:"form.tel2"}],attrs:{type:"text"},domProps:{value:e.form.tel2},on:{input:function(t){t.target.composing||e.$set(e.form,"tel2",t.target.value)}}})]),a("p",[e._v("默认为您的绑定手机号，紧急情况时乐帆云工程师会与您联系，请您填写正确的手机号。")])])]),a("div",[e._m(6),a("div",{staticClass:"right"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])])]),a("div",[e._m(7),a("div",{staticClass:"right"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email2,expression:"form.email2"}],attrs:{type:"text",placeholder:""},domProps:{value:e.form.email2},on:{input:function(t){t.target.composing||e.$set(e.form,"email2",t.target.value)}}})])])]),a("div",[e._m(8),a("div",{staticClass:"right"},[a("xy-upload",{attrs:{item:e.item,header:{}},model:{value:e.form.files,callback:function(t){e.$set(e.form,"files",t)},expression:"form.files"}})],1)]),a("el-button",{staticClass:"m-b-md",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("span",[e._v("*")]),a("label",{staticStyle:{"margin-left":"5px"},attrs:{for:""}},[e._v("优先级:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left middleSpan"},[a("span",[e._v("*")]),a("label",{attrs:{for:""}},[e._v("选择类别:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left middleSpan"},[a("span",[e._v("*")]),a("label",{attrs:{for:""}},[e._v("问题描述:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("label",{attrs:{for:""}},[e._v("机密信息:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left middleSpan"},[a("span",[e._v("*")]),a("label",{attrs:{for:""}},[e._v("手机号:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("label",{attrs:{for:""}},[e._v("接收短信提醒:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("label",{attrs:{for:""}},[e._v("邮箱:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("label",{attrs:{for:""}},[e._v("抄送邮箱:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left"},[a("label",{attrs:{for:""}},[e._v("上传附件:")])])}],r=a("1da1"),n=(a("96cf"),a("92dd")),o={name:"WorkSheetAdd",props:[],components:{"xy-upload":n["a"]},data:function(){var e;return{loading:!1,item:{name:"files",extra:{type:"files",drag:!1,driver:this.$store.state.app.uploadDriver,signUrl:"",action:"",tip:"",format:"jpg,png,bmp",maxSize:2048}},form:{level:1,cate:"",description:"",tel:null===(e=this.$store.state.user.userInfo.mobile)||void 0===e?void 0:e.identifier,tel2:"",email:"",email2:"",files:[]},cateList:{}}},created:function(){this.loadlists()},methods:{handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/worksheet/worksheet/add",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.$router.back()):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},loadlists:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/worksheet/worksheet/add",method:"get"});case 3:a=t.sent,200==a.code?e.cateList=a.data.cateList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("42b5"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"4bdcb3ba",null);t["default"]=u.exports},"6d59":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-remote"},[a(e.currentView,e._b({tag:"component",on:{close:e.closeModal},model:{value:e.formValue,callback:function(t){e.formValue=t},expression:"formValue"}},"component",e.$props,!1))],1)},s=[],r=a("1da1"),n=(a("96cf"),a("a9e3"),a("fb6a"),a("99af"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("466d"),{props:{value:{type:[Object,Array,String,Number],default:function(){return{}}},formValues:{type:Object,default:function(){return{cloudId:0,eid:0}}},header:{type:Object,default:function(){return{cloudId:0,eid:0}}},show:!1,predata:"",item:{type:Object,default:function(){return{}}},pitem:{type:Object,default:function(){return{}}},api:{type:String,default:function(){return null}},outUrl:{type:String,default:function(){return null}},showDev:!1},data:function(){return{formValue:null,resData:null,cssId:null}},created:function(){this.formValue=this.value},computed:{currentView:function(){if(!this.resData)return{template:"<div class='remoteInfo'>正在加载中。。。</div>"};var e=this.resolveStr(this.resData),t=new Function("return ".concat(e.sctipts.slice(e.sctipts.indexOf("{"),e.sctipts.lastIndexOf("}")+1)))();if(t.template=e.templates,this.$el.setAttribute("class","remote css".concat(this.cssId)),!document.querySelector("style[id=css".concat(this.cssId,"]"))){var a="\n                    .css".concat(this.cssId,"{\n                        ").concat(e.styles,"\n                    }\n                ");this.resolveCss(a)}return t}},watch:{outUrl:function(){this.getVueComp()},formValue:function(){this.$emit("input",this.formValue)}},mounted:function(){this.getVueComp()},methods:{closeModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("close",e)},getId:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}));return t},resolveCss:function(e){less.render(e).then(function(e){var t=document.createElement("style");if(t.setAttribute("type","text/css"),t.setAttribute("id","css"+this.cssId),t.styleSheet)t.styleSheet.cssText=e.css;else{var a=document.createTextNode(e.css);t.appendChild(a)}var i=document.getElementsByTagName("head");i.length?i[0].appendChild(t):document.documentElement.appendChild(t)}.bind(this))},resolveStr:function(e){return{templates:e.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:e.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:e.match(/<style.*>([\s\S]*)<\/style>/)[1]}},getVueComp:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$props.outUrl){t.next=3;break}return alert("Vue文件地址为空"),t.abrupt("return");case 3:return a=e.$props.outUrl,t.next=6,axios.get(a);case 6:i=t.sent,e.cssId=e.getId(),e.resData=i.data;case 9:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getVueComp();case 1:case"end":return t.stop()}}),t)})))()}}}),o=n,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=c.exports},"6df6":function(e,t,a){},"6df9":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-title flex"},[a("div",{staticClass:"prefix"}),e._t("default")],2)},s=[],r={name:"xyTitle",props:{},data:function(){return{}},created:function(){},methods:{}},n=r,o=(a("8904"),a("2877")),l=Object(o["a"])(n,i,s,!1,null,"bf143eee",null);t["a"]=l.exports},"6e4b":function(e,t,a){},7714:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main p-t"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container",attrs:{"element-loading-text":"拼命加载中"}},[a("el-row",{staticClass:"flex flex-wrap m-b-sm",attrs:{type:"flex",gutter:25}},[a("el-col",{attrs:{xs:24,md:8,lg:6}},[a("img",{staticClass:"cover",attrs:{src:e.info.cover,alt:e.info.title}})]),a("el-col",{attrs:{xs:24,md:16,lg:18}},[a("div",{staticClass:"flex space-between flex-alignCenter"},[a("h1",{staticClass:"title ts-28"},[e._v(e._s(e.info.title))]),a("div",{staticClass:"ts-16"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(t){return e.actionClick(e.id,"ext_addon",1)}}},[a("i",{staticClass:"xyicon xyicon-zan ts-14"}),e._v(" 点赞 ")]),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.actionClick(e.id,"ext_addon",2)}}},[a("i",{staticClass:"xyicon xyicon-heart ts-14"}),e._v(" 收藏 ")])],1)]),a("div",{staticClass:"m-b-sm ts-14"},[e._v("更新日期："+e._s(e.util.timeFormat(e.info.updateTime)))]),a("div",{staticClass:"m-b-sm"},["0.00"!=e.info.price?a("div",{staticClass:"subtitle text-error ts-14"},[e._v("￥"+e._s(e.info.price))]):a("div",{staticClass:"subtitle text-success ts-14"},[e._v("免费")])]),e.info.collecting?a("div",{staticClass:"text-error ts-13"},[e._v(" 本插件征集开发者中，获得通过的开发者将拥有插件优先展示的权力，详情请加交流群。 ")]):e._e()])],1),a("el-card",{staticStyle:{"min-height":"400px"},attrs:{shadow:"none"}},[a("div",{staticClass:"flex space-between ts-16",attrs:{slot:"header"},slot:"header"},[a("div",[a("span",{staticClass:"tw6 ts-18"},[e._v("介绍")])]),a("div",[e.info.uid==e.$store.state.user.userInfo.id?a("span",{staticClass:"cursor-pointer ts-14",on:{click:function(t){e.item.pageData.show=!0}}},[e._v("修改")]):e._e()])]),a("div",{staticClass:"ts-16",domProps:{innerHTML:e._s(e.info.content)}})]),a("div",{staticClass:"m-t-sm"},[a("comment-lists",{attrs:{title:"回复",urlPrefix:"/ext",showReplyForm:e.showReplyForm,dataId:e.id,dataModel:"ext_addon"},on:{"update:showReplyForm":function(t){e.showReplyForm=t},"update:show-reply-form":function(t){e.showReplyForm=t}}})],1)],1)]),a("el-dialog",{staticClass:"ts-16",attrs:{title:"修改插件",visible:e.item.pageData.show,width:"70%"},on:{"update:visible":function(t){return e.$set(e.item.pageData,"show",t)}}},[a("XyBuilderForm",{attrs:{api:"/v1/ext/addon/edit/"+this.id,show:e.item.pageData.show,pitem:e.item},on:{close:function(t){return e.closeModel(e.item,t)}}})],1),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("7e25")),o={components:{"comment-lists":n["a"]},data:function(){return{id:0,info:{title:"",content:""},item:{pageData:{show:!1}},loading:!1,showReplyForm:!1}},beforeCreate:function(){this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"4d99"))}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(e,t){this.id=this.$route.params.id,this.loadData()}},methods:{closeModel:function(e,t){this.item.pageData.show=!1,t&&this.loadData()},actionClick:function(e,t,a){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,i.util.request({url:"/v1/action/action/set",data:{dataId:e,dataModel:t,actionType:a},method:"post"});case 2:r=s.sent,200==r.code?i.util.showToast({title:r.msg,icon:"success",duration:2e3}):i.util.showToast({title:r.msg,icon:"loading",duration:3e3});case 4:case"end":return s.stop()}}),s)})))()},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/ext/addon/info/"+e.id,data:{},method:"get"});case 3:a=t.sent,200==a.code?e.info=a.data.info:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("c905"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"145a1c41",null);t["default"]=u.exports},"773b":function(e,t,a){"use strict";a("6e4b")},"775c":function(e,t,a){},"77f9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mcRight"},[a("div",{staticClass:"backImage"},[a("div",{staticClass:"title"},e._l(e.tabs,(function(t,i){return a("button",{key:i,class:{OnBtnChange:i==e.current},on:{click:function(t){return e.addClass(i)}}},[e._v(" "+e._s(t.title)+" ")])})),0),e._m(0)]),a("div",{staticClass:"content"},[a("el-table",{ref:"mytable",attrs:{data:e.tableData,"tooltip-effect":"dark","row-class-name":e.tableRowClassName}},[a("template",{slot:"empty"},[a("div",{staticClass:"lh-1 p-t-lg p-b-lg"},[a("div",{staticClass:"ts-16 m-t-sm",staticStyle:{color:"#A5A5A5"}},[a("span",[e._v("暂无消息")])])])]),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"标题",width:"1020"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isRead?a("span",{staticClass:"newRed"},[e._v("·")]):e._e(),a("span",{staticClass:"cursor-pointer",on:{click:function(a){return e.$router.push({path:"/msg/msg/info",query:{id:t.row.id}})}}},[e._v(" "+e._s(t.row.title)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"发送时间",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.util.timeFormat(e.row.createTime))+" ")]}}])}),a("el-table-column",{attrs:{prop:"cate",label:"类别","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.cate?a("span",[e._v("系统通知")]):e._e(),2==t.row.cate?a("span",[e._v("站内公告")]):e._e()]}}])})],2)],1),a("div",{staticClass:"Pagination"},[a("button",{on:{click:e.readBatch}},[a("i",{staticClass:"iconfont iconbiaojiyidu"}),e._v(" 标记已读 ")]),a("button",{on:{click:e.deleteBatch}},[a("i",{staticClass:"iconfont xyicon xyicon-trash"}),e._v(" 删除 ")]),a("button",{on:{click:e.readAll}},[a("i",{staticClass:"iconfont xyicon xyicon-eye"}),e._v(" 全部已读 ")]),a("button",{on:{click:e.deleteAll}},[a("i",{staticClass:"iconfont xyicon xyicon-trash"}),e._v(" 全部删除 ")]),a("div",{staticClass:"fenyeNum"},[a("el-pagination",{attrs:{"current-page":e.dataPage.page,background:"","page-sizes":[10,20,30,40],"page-size":e.dataPage.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.dataPage.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("button",[e._v("状态筛选： 全部 ▼")])])}],r=a("1da1"),n=(a("d3b7"),a("159b"),a("96cf"),{data:function(){return{loading:!1,current:0,tabs:[{value:0,title:"全部类型消息"},{value:2,title:"站内公告"},{value:1,title:"系统通知"}],tableData:[],dataPage:{total:0,page:1,limit:10}}},created:function(){this.loadlists()},methods:{addClass:function(e){this.current=e,this.loadlists()},loadlists:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/msg/msg/my",data:{cate:e.tabs[e.current].value,page:e.dataPage.page,limit:e.dataPage.limit},method:"get"});case 3:a=t.sent,200==a.code?(e.tableData=a.data.dataList,e.dataPage=a.data.dataPage):e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},getSelectedIds:function(){var e=this.$refs.mytable.selection;if(0!=e.length){var t="";return e.forEach((function(e){t=t+","+e.id})),t}this.util.showToast({title:"请选择消息",icon:"loading",duration:3e3})},readBatch:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.getSelectedIds(),t.next=3,e.util.request({url:"/v1/msg/msg/readBatch",data:{ids:a},method:"put"});case 3:i=t.sent,200==i.code?(e.loadlists(),e.util.showToast({title:i.msg,icon:"loading",duration:2e3})):e.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},deleteBatch:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.getSelectedIds(),t.next=3,e.util.request({url:"/v1/msg/msg/deleteBatch",data:{ids:a},method:"delete"});case 3:i=t.sent,200==i.code?(e.loadlists(),e.util.showToast({title:i.msg,icon:"loading",duration:2e3})):e.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},readAll:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/msg/msg/readAll",method:"put"});case 2:a=t.sent,200==a.code?(e.loadlists(),e.util.showToast({title:a.msg,icon:"loading",duration:2e3})):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},deleteAll:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/msg/msg/deleteAll",method:"delete"});case 2:a=t.sent,200==a.code?(e.loadlists(),e.util.showToast({title:a.msg,icon:"loading",duration:2e3})):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},tableRowClassName:function(e){e.row,e.rowIndex},handleSizeChange:function(e){this.dataPage.limit=e,this.loadlists()},handleCurrentChange:function(e){this.dataPage.page=e,this.loadlists()}}}),o=n,l=(a("b594"),a("21a8"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"0ce0b8d6",null);t["default"]=c.exports},"781f":function(e,t,a){},"78ea":function(e,t,a){"use strict";a("5722")},7931:function(e,t,a){},"7a2a":function(e,t,a){},"7e25":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ts-14"},[e.showReplyForm?a("el-card",{staticClass:"box-card m-b-sm",attrs:{shadow:"never"}},[e.util.getStorageSync("token")?a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"user flex space-between"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"m-r-sm"},[a("el-avatar",{attrs:{shape:"square",icon:"el-icon-user-solid",src:e.$store.state.user.userInfo.avatar}})],1),a("div",{staticClass:"bg-white"},[a("div",{staticClass:"title tw5 ts-16"},[e._v(e._s(e.$store.state.user.userInfo.nickname))]),a("div",{staticClass:"info flex space-between text-gray ts-13",staticStyle:{"margin-top":"2px"}},[a("div",[e._v(e._s(e.$store.state.user.userInfo.slogan?e.$store.state.user.userInfo.slogan:""))])])])]),a("div",{staticClass:"ts-12 text-gray"},[e._v("写回复")])])]):e._e(),e.util.getStorageSync("token")?a("div",{staticClass:"comment-form"},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"",size:"normal",clearable:""},model:{value:e.comment.content,callback:function(t){e.$set(e.comment,"content",t)},expression:"comment.content"}}),a("el-button",{staticClass:"m-t-sm m-r",staticStyle:{width:"80px"},attrs:{type:"primary",size:"medium"},on:{click:e.reply}},[e._v(" 提交 ")]),e.replyTarget?a("span",[e._v("回复"+e._s(e.replyTarget))]):e._e()],1):e._e(),e.util.getStorageSync("token")?e._e():a("el-alert",{attrs:{title:"请登录后回复",type:"error","show-icon":""}})],1):e._e(),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.dataList.length>0,expression:"dataList.length > 0"}],staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.title)+"列表")])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"comment-list",staticStyle:{"min-height":"70px"},attrs:{"element-loading-text":"数据加载中"}},e._l(e.dataList,(function(t,i){return a("div",{key:i,staticClass:"item p-b-sm border-bottom_1px",class:i>0?"p-t-sm":""},[a("div",{staticClass:"user flex space-between"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"m-r-sm"},[a("el-avatar",{attrs:{icon:"el-icon-user-solid",src:t.userInfo.avatar}})],1),a("div",{staticClass:"bg-white"},[a("div",{staticClass:"title tw5 ts-14"},[e._v(e._s(t.userInfo.nickname))]),a("div",{staticClass:"info flex space-between text-gray ts-13",staticStyle:{"margin-top":"2px"}},[a("div",[e._v(e._s(t.userInfo.slogan?t.userInfo.slogan:""))])])])]),a("div",{staticClass:"ts-12 text-gray"},[e._v(e._s(e.util.timeFormat(t.createTime)))])]),a("div",{staticClass:"content ts-14 m-t-sm"},[a("div",{domProps:{innerHTML:e._s(t.content)}}),t.children.length>0?a("div",{staticClass:"children-list m-l-lg m-t-sm bg-gray-light p-a-sm br-4"},e._l(t.children,(function(s,r){return a("div",{key:r,staticClass:"m-b-xs"},[a("div",{staticClass:"flex space-between ts-13"},[a("div",[a("span",[e._v(e._s(s.userInfo.nickname))]),e._v(" 回复 "),s.pid==t.id?a("span",[e._v(e._s(t.userInfo.nickname))]):a("span",[e._v(e._s(s.puserInfo.nickname))])]),a("div",[a("span",{staticClass:"ts-12 text-gray"},[e._v("回复于"+e._s(e.util.timeFormat(s.createTime)))])])]),a("div",{domProps:{innerHTML:e._s(s.content)}}),a("div",{staticClass:"actions flex flex-alignCenter"},[e.allowZan?a("div",{staticClass:"m-r",on:{click:function(t){return e.actionClick(i,"comment",1,r)}}},[a("i",{staticClass:"xyicon xyicon-zan ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[e._v(" "+e._s(s.actionStates[1]?"已":"")+"赞同 ")])],1):e._e(),a("div",{staticClass:"m-r",on:{click:function(t){return e.doreply(s.id,s.userInfo.nickname,i)}}},[a("i",{staticClass:"xyicon xyicon-reply ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[e._v(" 回复 ")])],1),e.allowLike?a("div",{staticClass:"m-r",on:{click:function(t){return e.actionClick(i,"comment",2,r)}}},[a("i",{staticClass:"xyicon xyicon-heart ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[e._v(" "+e._s(s.actionStates[2]?"已":"")+"收藏 ")])],1):e._e()])])})),0):e._e()]),a("div",{staticClass:"actions m-t flex flex-alignCenter"},[e.allowZan?a("el-button",{staticClass:"m-r",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.actionClick(i,"comment",1,-1)}}},[a("i",{staticClass:"xyicon xyicon-zan ts-14",staticStyle:{"margin-right":"3px"}}),e._v(" "+e._s(t.actionStates[1]?"已":"")+"赞同 ")]):e._e(),a("div",{staticClass:"m-r",on:{click:function(a){return e.doreply(t.id,t.userInfo.nickname)}}},[a("i",{staticClass:"xyicon xyicon-reply ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[e._v(" 回复 ")])],1),e.allowLike?a("div",{staticClass:"m-r",on:{click:function(t){return e.actionClick(i,"comment",2,-1)}}},[a("i",{staticClass:"xyicon xyicon-heart ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[e._v(" "+e._s(t.actionStates[2]?"已":"")+"收藏 ")])],1):e._e()],1)])})),0)])],1)},s=[],r=a("1da1"),n=(a("96cf"),a("a9e3"),a("2420")),o={components:{XyBuilderEditorTinymce:n["a"]},name:"commentLists",props:{allowZan:{type:Boolean,default:!1},allowLike:{type:Boolean,default:!1},showReplyForm:{type:Boolean,default:!1},title:{type:String,default:"评论"},dataId:{type:[Number,String],default:0},dataModel:{type:String,default:""},urlPrefix:{type:String,default:""}},data:function(){return{loading:!1,dataList:[],item:{extra:{tinymce:{height:300,toolbar:"formatselect fontsizeselect | link image media blockquote codesample | bold italic underline strikethrough | forecolor backcolor bullist numlist | code fullscreen | newyear"}}},replyTarget:"",comment:{anonymous:0,tpid:0,tpidIndex:-1,pid:0,dataId:0,dataModel:this.dataModel,content:"",images:[],url:""}}},created:function(){this.comment.dataId=this.dataId,this.loadData()},watch:{dataId:function(e){this.comment.dataId=this.dataId,this.loadData()},dataModel:function(e){this.loadData()}},methods:{doreply:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;a>0&&(this.comment.tpidIndex=a,this.comment.tpid=this.dataList[a].id),this.comment.dataId=this.dataId,this.comment.pid=e,this.showReplyForm=!0,this.replyTarget=t},reply:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.comment.url=e.urlPrefix+"/"+e.comment.dataId,e.comment.content){t.next=5;break}return e.util.showToast({title:"请填写回复",icon:"error",duration:2e3}),t.abrupt("return",!1);case 5:return t.next=7,e.util.request({url:"/v1/comment/comment/add",method:"post",data:e.comment,header:{}});case 7:a=t.sent,200==a.code?(e.util.showToast({title:"提交成功",icon:"none",duration:2e3}),e.$emit("update:showReplyForm",!1),a.data.comment.userInfo=e.$store.state.user.userInfo,e.comment.tpid>0?e.dataList[e.comment.tpidIndex].children.push(a.data.comment):e.dataList.push(a.data.comment),e.replyTarget="",e.comment={anonymous:0,tpid:0,tpidIndex:-1,pid:0,dataId:0,dataModel:e.dataModel,content:"",images:[],url:""}):e.util.showToast({title:a.msg,icon:"none",duration:2e3});case 9:case"end":return t.stop()}}),t)})))()},actionClick:function(e,t,a){var i=arguments,s=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=i.length>3&&void 0!==i[3]?i[3]:-1,o=0,o=-1!=n?s.dataList[e].children[n].id:s.dataList[e].id,r.next=5,s.util.request({url:"/v1/action/action/set",data:{dataId:o,dataModel:t,actionType:a},method:"post"});case 5:l=r.sent,200==l.code?(-1!=n?s.$set(s.dataList[e].children[n].actionStates,a,l.data.currentValue):s.$set(s.dataList[e].actionStates,a,l.data.currentValue),s.util.showToast({title:l.msg,icon:"success",duration:2e3})):s.util.showToast({title:l.msg,icon:"loading",duration:3e3});case 7:case"end":return r.stop()}}),r)})))()},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.dataId&&e.dataModel){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.util.request({url:"/v1/comment/comment/lists",data:{dataId:e.dataId,dataModel:e.dataModel},method:"get"});case 5:a=t.sent,200==a.code?(e.dataList=a.data.dataList,0==e.dataList.length&&e.$emit("update:showReplyForm",!0)):e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("89e8"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"1bffd8a4",null);t["a"]=u.exports},"7e52":function(e,t,a){"use strict";a("c8d9")},"7e7e":function(e,t,a){},"7f0f":function(e,t,a){"use strict";a("0c84")},"7fce":function(e,t,a){"use strict";a("0ad3")},"81d7":function(e,t,a){"use strict";a("490f")},"84cf":function(e,t,a){},"87bf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box1"}),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"header border-bottom_1px"},[e._v(" 资产明细 ")]),a("div",{staticClass:"content"},[a("el-form",{staticClass:"filters",attrs:{model:e.filters,size:"small",inline:!0,"label-suffix":":","label-width":"130px"}},[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.filters.orderNo,callback:function(t){e.$set(e.filters,"orderNo",t)},expression:"filters.orderNo"}})],1),a("el-form-item",{attrs:{label:"支付流水号"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.filters.tradeNo,callback:function(t){e.$set(e.filters,"tradeNo",t)},expression:"filters.tradeNo"}})],1),a("el-form-item",{attrs:{label:"变动时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.dateRange,callback:function(t){e.$set(e.filters,"dateRange",t)},expression:"filters.dateRange"}})],1),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.filters.tradeType,callback:function(t){e.$set(e.filters,"tradeType",t)},expression:"filters.tradeType"}},[a("el-option",{attrs:{label:"充值",value:"recharge"}}),a("el-option",{attrs:{label:"提现",value:"widthdraw"}}),a("el-option",{attrs:{label:"转账",value:"transfer"}}),a("el-option",{attrs:{label:"调账",value:"fix"}}),a("el-option",{attrs:{label:"退款",value:"refound"}}),a("el-option",{attrs:{label:"消费",value:"pay"}})],1)],1),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",plain:"",size:"small"},on:{click:e.loadData}},[e._v("搜索")]),a("el-button",{attrs:{type:"default",plain:"",size:"small"},on:{click:e.reset}},[e._v("重置")])],1),a("el-table",{attrs:{data:e.dataList,"highlight-current-row":"","header-cell-style":{background:"#EDEDED",color:"#000000",paddingTop:"9px",paddingBottom:"9px"}}},[a("el-table-column",{attrs:{label:"订单号",prop:"orderNo"}}),a("el-table-column",{attrs:{label:"变动时间",prop:"createtime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.util.timeFormat(e.row.createTime))+" ")]}}])}),a("el-table-column",{attrs:{label:"收支类型",prop:"amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amount>0?a("span",{staticClass:"text-primary"},[e._v("收入")]):t.row.amount<0?a("span",{staticClass:"text-primary"},[e._v("支出")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"交易类型",prop:"tradeTypeLabel"}}),a("el-table-column",{attrs:{label:"支付方式",prop:"typeId"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.typeId?a("span",{staticClass:"text-primary"},[e._v("用户余额")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"支付流水号",prop:"tradeNo"}}),a("el-table-column",{attrs:{label:"备注",prop:"title"}}),a("el-table-column",{attrs:{label:"账期",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.util.timeFormat(e.row.createTime)("yyyy-MM"))+" ")]}}])}),a("el-table-column",{attrs:{label:"金额",prop:"amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amount>=0?a("span",{staticClass:"text-primary"},[e._v("+"+e._s(t.row.amount))]):t.row.amount<0?a("span",{staticClass:"text-primary"},[e._v(e._s(t.row.amount))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"余额",prop:"balance"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.balance))])]}}])})],1),a("div",{staticClass:"pagination flex m-t flex-end"},[a("el-pagination",{attrs:{"current-page":e.dataPage.page,background:"","page-sizes":[10,20,30,40],"page-size":e.dataPage.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.dataPage.total},on:{"size-change":e.limitChange,"current-change":e.pageChange,"update:currentPage":function(t){return e.$set(e.dataPage,"page",t)},"update:current-page":function(t){return e.$set(e.dataPage,"page",t)},"update:pageSize":function(t){return e.$set(e.dataPage,"limit",t)},"update:page-size":function(t){return e.$set(e.dataPage,"limit",t)}}})],1)],1)])])},s=[],r=a("5530"),n=a("1da1"),o=(a("96cf"),{data:function(){var e,t;return{loading:!1,filtersDefault:{id:"",orderNo:"",tradeNo:"",dateRange:[],tradeType:""},filters:{id:"",orderNo:"",tradeNo:"",dateRange:[],tradeType:""},dataList:[],dataPage:{total:0,page:1,limit:10},email:null===(e=this.$store.state.user.userInfo)||void 0===e||null===(t=e.email)||void 0===t?void 0:t.identifier}},created:function(){this.loadData()},watch:{},methods:{reset:function(){this.filters=this.filtersDefault},loadData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_score/score_log/my/1",data:Object(r["a"])({page:e.dataPage.page,limit:e.dataPage.limit},e.filters),method:"get"});case 2:a=t.sent,200==a.code?(e.dataList=a.data.dataList,e.dataPage=a.data.dataPage):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},pageChange:function(e){this.loadData()},limitChange:function(e){this.dataPage.page=1,this.loadData()}}}),l=o,c=(a("4e43"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"68607442",null);t["default"]=u.exports},8900:function(e,t,a){},8904:function(e,t,a){"use strict";a("ee6c")},"89e8":function(e,t,a){"use strict";a("775c")},"8ebd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"15%"}},[a("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:11,lg:11}},[a("div",{staticClass:"title"},[e._v(" 重置登录密码 ")]),a("div",{staticClass:"tip text-center"},[e._v(" 为了您的资金安全，修改安全设置后，24小时内不允许交易、提现和资金划转 ")]),a("el-form",{ref:"formLogin",attrs:{model:e.formLogin,rules:e.ruleLogin}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入邮箱或手机号"},model:{value:e.formLogin.account,callback:function(t){e.$set(e.formLogin,"account",t)},expression:"formLogin.account"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.formLogin.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("formLogin")}}},[e._v(" 确定 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),{data:function(){return{isDemo:!1,formLogin:{loading:!1,account:""},ruleLogin:{account:[{required:!0,message:"请填写账号",trigger:"blur"}]}}},created:function(){},methods:{handleSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.formLogin.loading=!0,t=this,setTimeout((function(){t.formLogin.loading=!1}),5e3),e.next=5,this.util.request({url:"/v1/user/user/checkAccount",data:this.formLogin,method:"get"});case 5:a=e.sent,200==a.code?this.util.navigateTo({path:a.data.url,query:{account:this.formLogin.account}}):this.util.showToast({title:a.msg,icon:"loading",duration:3e3}),this.formLogin.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),o=n,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"204d0173",null);t["default"]=c.exports},"8f2b":function(e,t,a){"use strict";a("2d28")},"92dd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-box",class:e.fileList.length>=e.optionsData.limit&&"image"==e.optionsData.type?"hidden-up-btn":""},[a("el-upload",{ref:"upload",class:"upload-"+e.optionsData.type,attrs:{drag:e.optionsData.drag,"show-file-list":e.optionsData.showFileList,"list-type":e.listType,headers:e.headerData,limit:e.optionsData.limit,multiple:1!=e.optionsData.limit,"file-list":e.fileList,"on-preview":e.handlePictureCardPreview,"on-progress":e.handleProgress,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"before-remove":e.beforeRemove,"on-remove":e.handleRemove,"before-upload":e.handleBeforeUpload,data:e.optionsData.postdata,name:e.name,action:e.optionsData.action,"http-request":e.uploadSectionFile}},[e.fileList.length>=e.optionsData.limit&&1==e.optionsData.limit&&"image"==e.optionsData.type?[a("img",{attrs:{src:e.fileList[0]["url"]}})]:[e.optionsData&&e.optionsData.drag?[e._t("drag",(function(){return["images"==e.optionsData.type?[e._t("icon",(function(){return[a("i",{staticClass:"el-icon-plus",class:e.optionsData.icon?e.optionsData.icon:""})]})),e.optionsData.placeholder?a("div",{staticClass:"el-upload__text"},[e._v(" "+e._s(e.optionsData.placeholder)+" ")]):e._e()]:[e._t("icon",(function(){return[a("i",{staticClass:"el-icon-upload",class:e.optionsData.icon?e.optionsData.icon:""})]})),a("div",{staticClass:"el-upload__text"},[e._v(" "+e._s(e.optionsData.placeholder?e.optionsData.placeholder:"将文件拖到此处，或点击上传")+" ")]),a("div",{staticClass:"font-sm text-gray lh-1-2"},[e._v(" "+e._s(e.optionsData.tip?e.optionsData.tip:"只能上传"+e.optionsData.format+"文件，且不超过"+e.optionsData.maxSize+"KB")+" ")])]]}))]:[a("el-button",{attrs:{size:"small",type:"primary"}},[e._t("btn-text",(function(){return[e._v("点击上传")]}))],2)]],a("el-dialog",{attrs:{"append-to-body":!0,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},["image"==e.mediaType?[a("img",{attrs:{width:"100%",src:e.dialogImageUrl}})]:"audio"==e.mediaType?[a("audio",{attrs:{src:e.dialogImageUrl,controls:"controls"}},[e._v(" 您的浏览器不支持 audio 标签。 ")])]:"video"==e.mediaType?[a("video",{attrs:{src:e.dialogImageUrl,controls:"controls",width:"700"}},[e._v(" 您的浏览器不支持 video 标签。 ")])]:e._e()],2),a("el-dialog",{attrs:{title:"图片裁剪","append-to-body":!0,visible:e.cropperInit.showCropper,width:"800px"},on:{"update:visible":function(t){return e.$set(e.cropperInit,"showCropper",t)}}},[a("xy-cropper",{attrs:{init:e.cropperInit,imgData:e.cropperImgData,autoCropWidth:e.optionsData.imgWidth,autoCropHeight:e.optionsData.imgHeight},on:{success:e.cropperSuccess}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],2),e.img.title&&""!==e.img.title?a("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.img.title)+" ")]):e._e()],1)},s=[],r=a("1da1"),n=(a("96cf"),a("caad"),a("b0c0"),a("c740"),a("a434"),a("b680"),a("d3b7"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{type:"flex",justify:"space-around"}},[a("div",{staticClass:"cropper text-center",style:{width:this.autoCropWidth}},[e.loadedScript?a("vue-cropper",{ref:"cropper",staticClass:"m-b",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:e.option.info,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,centerBox:!1,infoTrue:e.option.infoTrue,autoCrop:e.option.autoCrop,autoCropWidth:e.autoCropWidth,autoCropHeight:e.autoCropHeight,fixedBox:e.option.fixedBox},on:{realTime:e.realTime}}):e._e(),a("span",{staticClass:"text-gray ts-14"},[a("i",{staticClass:"xyicon xyicon-help-o ts-14"}),e._v(" 滚动鼠标滚轮来缩放图片 ")])],1),a("div",{staticClass:"previewBox"},[a("div",{staticClass:"preview-wrap",style:e.previews.div},[a("div",{staticClass:"preview",style:e.previews.div},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]),a("el-row",{staticClass:"m-t-md m-b",attrs:{type:"flex",justify:"center"}},[a("el-upload",{attrs:{action:"","show-file-list":!1,"auto-upload":!1,"on-change":e.changeImgData}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" 更换图片 ")])],1)],1),a("br"),a("el-row",[a("el-button",{attrs:{icon:"el-icon-plus",circle:"",size:"mini"},on:{click:function(t){return e.changeScale(1)}}}),a("el-button",{attrs:{icon:"el-icon-minus",circle:"",size:"mini"},on:{click:function(t){return e.changeScale(-1)}}}),a("el-button",{attrs:{icon:"el-icon-download",circle:"",size:"mini"},on:{click:function(t){return e.down("blob")}}}),a("el-button",{attrs:{icon:"el-icon-refresh-left",circle:"",size:"mini"},on:{click:e.rotateLeft}}),a("el-button",{attrs:{icon:"el-icon-refresh-right",circle:"",size:"mini"},on:{click:e.rotateRight}})],1)],1)]),a("div",{staticClass:"m-t-md flex flex-end p-r-md"},[a("el-button",{attrs:{round:""},on:{click:function(t){e.init.showCropper=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",round:""},on:{click:e.saveEditAvatar}},[e._v("保存")])],1)],1)}),o=[],l=a("53ca"),c=(a("a9e3"),a("ac1f"),a("5319"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),{name:"XyCropper",props:{init:{type:Object,default:function(){return{showCropper:!1}}},imgData:File,autoCropWidth:{type:Number,default:150},autoCropHeight:{type:Number,default:150}},data:function(){return{loadedScript:!1,filename:"",filesize:0,imgUrl:"",previews:{},option:{img:"",info:!0,outputSize:1,full:!0,outputType:"png",canMove:!0,original:!0,infoTrue:!1,canMoveBox:!0,autoCrop:!0,fixed:!0,fixedBox:!0}}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:Vue.use(window["vue-cropper"].default),this.loadedScript=!0,this.filename=this.guid()+".png",this.changeImgData(this.imgData,!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{imgData:function(){this.changeImgData(this.imgData,!1)}},methods:{guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)}))},changeImgData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this;this.filename=e.name,this.filesize=e.size;var i=new FileReader;i.onload=function(e){var t;t="object"===Object(l["a"])(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,a.option.img=t},t?i.readAsArrayBuffer(e.row):i.readAsArrayBuffer(e)},saveEditAvatar:function(){this.finish("blob")},finish:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.filename){e.next=4;break}return alert("文件名获取失败"),e.abrupt("return");case 4:return i=t,e.next=7,t.util.uploadFile({driver:t.init.driver,signUrl:t.init.signUrl,url:t.init.action,header:{token:t.util.getToken()},blobInfo:{blob:function(){return a},filename:function(){return i.filename},size:function(){return a.size}}});case 7:if(s=e.sent,!s.data){e.next=17;break}if(t.imgUrl=s.data.url,t.imgUrl){e.next=12;break}return e.abrupt("return");case 12:s.data.name=t.filename,s.data.size=t.filesize,t.$emit("success",s),e.next=18;break;case 17:t.util.showToast({title:"上传失败",icon:"loading",duration:3e3});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):this.$refs.cropper.getCropData((function(e){}))},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},realTime:function(e){this.previews=e},down:function(e){var t=document.createElement("a");t.download="author-img","blob"===e?this.$refs.cropper.getCropBlob((function(e){t.href=window.URL.createObjectURL(e),t.click()})):this.$refs.cropper.getCropData((function(e){t.href=e,t.click()}))},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdn.jsdelivr.net/npm/vue-cropper@0.4.9/dist/index.js").then((function(){t()}))}))}}}),u=c,d=(a("bc9b"),a("2877")),m=Object(d["a"])(u,n,o,!1,null,"13cbb4af",null),p=m.exports,f={name:"XyUpload",components:{XyCropper:p},props:{item:{type:Object,default:function(){return{extra:{}}}},options:{type:Object,default:function(){return{}}},value:{type:[Array,String],default:function(){return[]}},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}},img:{type:Object,default:function(){return{value:"",title:""}}},upFileList:{type:Array,default:function(){return[]}}},data:function(){return{name:"file",optionsData:{beforeUpload:function(e){return!0},onProgress:function(e,t,a){},onSuccess:function(e,t,a){},showFileList:!0,type:"image",drag:!1,driver:"",signUrl:"",action:"",provider:"",spaceId:"",clientSecret:"",hasUploadModule:!1,checkExist:!1,tag:"",limit:1,icon:"",placeholder:"",tip:"",format:"jpg,png",maxSize:512,splitePiece:!1,mergeUrl:"",disabled:!1,postdata:{},imgWidth:"",imgHeight:"",needCropper:!1},headerData:{},fileList:[],listType:"text",dialogImageUrl:"",dialogVisible:!1,mediaType:"image",cropperInit:{},cropperImgData:null}},mounted:function(){this.optionsData=Object.assign(this.optionsData,this.options,this.item.extra),this.getDefault(),this.headerData={Authorization:this.header.token?this.header.token:this.util.getToken()}},watch:{item:{deep:!0,handler:function(e,t){this.optionsData=Object.assign(this.optionsData,e.extra),this.getDefault()}},options:{deep:!0,handler:function(e,t){this.optionsData=Object.assign(this.optionsData,e),this.getDefault()}},value:{deep:!0,handler:function(e,t){this.getDefault()}},fileList:function(e){}},methods:{getDefault:function(){switch(this.optionsData.type){case"image":this.listType="picture",""==this.value?this.fileList=[]:this.fileList=[{name:"image",url:this.value}];break;case"images":this.listType="picture-card","string"==typeof this.value||null==this.value?this.fileList=[]:this.fileList=this.value;break;default:this.listType="text","string"==typeof this.value||null==this.value?this.fileList=[]:this.fileList=this.value;break}},getFileType:function(e){var t=e.lastIndexOf(".");return-1!=t?e.substring(t+1,e.length).toLowerCase():""},handlePictureCardPreview:function(e){var t=this.getFileType(e.url).toLowerCase();["jpg","png","bmp","ico","jpeg"].includes(t)?this.mediaType="image":["mp3","wav","ogg","ico","jpeg"].includes(t)?this.mediaType="audio":["mp4","ogg"].includes(t)&&(this.mediaType="video"),this.dialogImageUrl=e.url,this.dialogVisible=!0},handleExceed:function(e,t){this.$message.warning("最多上传"+this.optionsData.limit+"个文件")},handleProgress:function(e,t,a){this.optionsData.onProgress(e,t,a)},cropperSuccess:function(e){this.cropperInit.showCropper=!1;var t,a={};200==e.code?(null!==(t=e.data)&&void 0!==t&&t.path&&(a.path=e.data.path),a.url=e.data.url,"image"==this.optionsData.type?this.fileList[0]=a:this.fileList.push(a),this.syncData()):this.$message({message:e.msg,type:"warning"})},syncData:function(){if("image"==this.optionsData.type)this.$emit("input",this.fileList[0].url);else{for(var e=[],t=0;t<this.fileList.length;t++){var a=this.fileList[t];e.push({name:a.name,path:null===a||void 0===a?void 0:a.path,url:a.url,size:null===a||void 0===a?void 0:a.size})}this.$emit("input",e)}},handleSuccess:function(e,t,a){var i;200==e.code?(null!==(i=e.data)&&void 0!==i&&i.path&&(t.path=e.data.path),t.url=e.data.url,this.fileList.push(t),this.syncData(),this.optionsData.onSuccess(e,t,a)):this.$message({message:e.msg,type:"warning"})},beforeRemove:function(e,t){},removeOne:function(e){var t=this.fileList.findIndex((function(t){return t.uid===e}));t>=0&&(this.fileList.splice(t,1),this.syncData())},handleRemove:function(e,t){this.optionsData.disabled?this.$message({message:"只读模式",type:"warning"}):(this.fileList.splice(this.fileList.indexOf(e),1),this.syncData(),this.fileList)},uploadSectionFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t,a.next=3,i.util.uploadFile({driver:i.optionsData.driver||"default",signUrl:i.optionsData.signUrl||"",url:i.optionsData.action||"",header:i.header,file:e.file,splitePiece:i.optionsData.splitePiece,mergeUrl:i.optionsData.mergeUrl,provider:i.optionsData.provider,spaceId:i.optionsData.spaceId,clientSecret:i.optionsData.clientSecret,onUploadProgress:function(t){var a=t.loaded/t.total*100|0;e.onProgress({percent:a.toFixed(0)})},hasUploadModule:i.optionsData.hasUploadModule,checkExist:i.optionsData.checkExist,tag:i.optionsData.tag});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})))()},handleBeforeUpload:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function a(i,s){var r,n,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return"image"!=t.optionsData.type&&"file"!=t.optionsData.type&&(t.optionsData.limit=30),t.cropperInit={showCropper:!1,driver:t.optionsData.driver,signUrl:t.optionsData.signUrl,action:t.optionsData.action},a.next=4,t.optionsData.beforeUpload(e);case 4:if(n=a.sent,n){a.next=8;break}return a.abrupt("return",!1);case 8:if(t,o=t.optionsData.maxSize,l=e.name.substring(e.name.lastIndexOf(".")+1),null===(r=t.optionsData)||void 0===r||!r.format){a.next=16;break}if(null!==(c=t.optionsData)&&void 0!==c&&c.format.includes(l)){a.next=16;break}return t.$message({message:l+"格式不支持 ",type:"warning"}),a.abrupt("return",!1);case 16:if(!(e.size/1024>o)){a.next=20;break}return t.$message({message:"上传文件大小不能超过 "+o+"KB!",type:"warning"}),a.abrupt("return",!1);case 20:if("image"!=t.optionsData.type&&"images"!=t.optionsData.type||!t.optionsData.needCropper){a.next=25;break}return t.cropperImgData=e,t.cropperInit.showCropper=!0,a.abrupt("return",!1);case 25:i();case 26:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}}),a)})))()}}},h=f,v=(a("0d90"),Object(d["a"])(h,i,s,!1,null,"10d17b56",null));t["a"]=v.exports},"92e3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title text-center"},[e._v(e._s(e.info.title))]),a("div",{domProps:{innerHTML:e._s(e.info.content)}})])]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),{data:function(){return{id:0,info:{}}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(e,t){this.id=this.$route.params.id,this.loadData()}},methods:{loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_agreement/agreement/info",data:{title:e.id},method:"get"});case 2:a=t.sent,200==a.code?e.info=a.data.info:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}}),o=n,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"15e8765e",null);t["default"]=c.exports},"99c6":function(e,t,a){},"99e1":function(e,t,a){},"9a4d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qr-box",on:{click:e.loadData}},[e.qrurl?a("div",["wxapp"==e.type?a("xy-qrcode",{staticClass:"qrcode",style:{opacity:e.timeout?.3:1},attrs:{value:e.qrurl,options:{width:e.width}}}):"wxmp"==e.type?a("img",{attrs:{width:e.width,src:e.qrurl}}):e._e(),e.timeout?a("span",{staticClass:"xyicon xyicon-history"}):e._e()],1):a("div",{staticClass:"no-qr",style:{width:this.width+"px",height:this.width+"px",background:this.bgColor}}),a("div",{staticClass:"tip m-t text-666"},[e._v(e._s(e.tip))])])},s=[],r=a("1da1"),n=(a("96cf"),a("a9e3"),a("147d")),o={components:{"xy-qrcode":n["a"]},props:{qrloginShow:!1,type:"",tip:{type:String,default:"使用微信扫一扫"},width:{type:Number,default:200},bgColor:{type:String,default:"#eee"}},data:function(){return{seed:"",qrurl:"",timer:null,timeout:!1}},mounted:function(){this.qrloginShow&&this.loadData()},watch:{qrloginShow:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,t.loadData();case 3:t.qrurl&&(t.timer=setInterval(t.getLogin,2e3)),a.next=7;break;case 6:clearInterval(t.timer);case 7:case"end":return a.stop()}}),a)})))()}},beforeDestroy:function(){clearInterval(this.timer)},methods:{loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/qrlogin/qrlogin/getSeed",data:{type:e.type},method:"get"});case 2:a=t.sent,200==a.code?(e.seed=a.data.seed,e.qrurl=a.data.qrurl,e.timeout=!1,clearInterval(e.timer),e.timer=setInterval(e.getLogin,2e3)):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},getLogin:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/qrlogin/qrlogin/getLogin?seed="+e.seed,method:"get"});case 2:a=t.sent,200==a.code&&(a.data.timeout?(e.timeout=!0,clearInterval(e.timer)):(clearInterval(e.timer),a.data.userInfo?(a.data.token&&e.$store.commit("user/setToken",a.data.token),e.$store.commit("user/setUserInfo",a.data.userInfo),e.util.showToast({title:a.msg,icon:"success",duration:2e3}),e.$emit("success")):e.$router.push({path:"/qrlogin/login",query:{seed:e.seed,type:e.type}})));case 4:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("cfa0"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"77a2a83d",null);t["a"]=u.exports},"9ab7":function(e,t,a){"use strict";a("3950")},"9d89":function(e,t,a){},a524:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"100px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 邮箱找回 ")]),a("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.handleClick},model:{value:e.regTab,callback:function(t){e.regTab=t},expression:"regTab"}},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?a("el-tab-pane",{staticClass:"p-t",attrs:{label:"手机号码",name:"mobile"}}):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?a("el-tab-pane",{staticClass:"p-t",attrs:{label:"邮箱找回",name:"email"}}):e._e()],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-at-outline",placeholder:"请输入注册时绑定的邮箱号码"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 发送邮件 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{regTab:"email",sendResult:!1,loading:!1,form:{email:"",redirect:window.location.protocol+"//"+window.location.host+"/reg_email/user/resetPasswordByLink"},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}]}}},created:function(){},methods:{handleClick:function(){switch(this.regTab){case"mobile":this.util.navigateTo("/reg_mobile/user/resetPassword");break;case"email":this.util.navigateTo("/reg_email/user/resetPasswordSend");break}},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/sendResetLink",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.sendResult=!0):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("49c3"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"2af59233",null);t["default"]=u.exports},a585:function(e,t,a){},a5f8:function(e,t,a){"use strict";a("4c1d")},a688:function(e,t,a){},a84a:function(e,t,a){"use strict";a("6df6")},a989:function(e,t,a){"use strict";a("7931")},aea2:function(e,t,a){"use strict";a("f6a4")},aecd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container p-t"},[a("div",{staticClass:"sub-header text-center m-t-md m-b-md"},[a("div",{staticClass:"ts-26 tw5 m-b"},[e._v("插件市场")]),a("div",{staticClass:"text-gray ts-22 tw3"},[e._v("基于"+e._s(e.$store.state.app.siteInfo.title)+"框架开发的应用和插件！")])]),a("div",{staticClass:"flex space-between ts-16"},[a("div",{}),a("div",{},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(t){e.item.pageData.show=!0}}},[e._v(" 发布 ")])],1)]),a("el-row",{staticClass:"case-list flex flex-wrap",attrs:{type:"flex",gutter:15}},e._l(e.dataList,(function(t,i){return a("el-col",{key:i,staticClass:"item",attrs:{xs:24,sm:12,md:8,lg:6},nativeOn:{click:function(a){return e.navTo(t)}}},[a("div",{staticClass:"image cursor-pointer"},[a("img",{attrs:{src:t.cover,alt:t.title}})]),a("div",{staticClass:"bottom bg-white"},[a("div",{staticClass:"flex space-between"},[a("div",{staticClass:"title ts-14"},[e._v(e._s(t.title))]),t.collecting?a("div",{staticClass:"ts-12 text-error"},[e._v("征集中")]):e._e()]),a("div",{staticClass:"info flex space-between"},[a("div",{staticClass:"ts-12 text-gray"},[a("i",{staticClass:"xyicon xyicon-my-o ts-12"}),e._v(" "+e._s(t.userNickname)+" ")]),"0.00"!=t.price?a("div",{staticClass:"subtitle text-error ts-13"},[e._v("￥"+e._s(t.price))]):a("div",{staticClass:"subtitle text-success ts-13"},[e._v("免费")])])])])})),1)],1)]),a("el-dialog",{staticClass:"ts-16",attrs:{title:"发布插件",visible:e.item.pageData.show,width:"70%"},on:{"update:visible":function(t){return e.$set(e.item.pageData,"show",t)}}},[a("XyBuilderForm",{attrs:{api:"/v1/ext/addon/add",show:e.item.pageData.show,pitem:e.item},on:{close:function(t){return e.closeModel(e.item,t)}}})],1),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),{components:{},data:function(){return{dataList:[],item:{pageData:{show:!1}}}},beforeCreate:function(){this.$options.components.XyBuilderForm=function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"4d99"))}},created:function(){this.loadlists()},methods:{navTo:function(e){this.util.navigateTo({url:"/ext/"+e.id})},closeModel:function(e,t){this.item.pageData.show=!1,t&&this.loadlists()},loadlists:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/ext/addon/lists",data:{},method:"get"});case 2:a=t.sent,200==a.code?e.dataList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("7f0f"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"bfb06b10",null);t["default"]=c.exports},af8f:function(e,t,a){"use strict";a("4952")},b0fc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"100px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 忘记密码 ")]),a("el-tabs",{attrs:{stretch:""},on:{"tab-click":e.handleClick},model:{value:e.regTab,callback:function(t){e.regTab=t},expression:"regTab"}},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?a("el-tab-pane",{staticClass:"p-t",attrs:{label:"手机号码",name:"mobile"}}):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?a("el-tab-pane",{staticClass:"p-t",attrs:{label:"",name:"email"}}):e._e()],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-at-outline",placeholder:"手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onCountrySelect}})],1)],2)],1),a("el-form-item",{attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",account:e.form.mobile,title:"重置密码"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"新密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 立即重置 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("b0c0"),a("160b")),o=a("4167"),l=a.n(o),c={components:{XySendVerify:n["a"],VueCountryCode:l.a},data:function(){return{regTab:"mobile",loading:!1,form:{countryCode:"+86",mobile:"",newPassword:"",verify:"",token:""},rule:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){this.$route.query.account&&(this.form.mobile=this.$route.query.account)},methods:{handleClick:function(){switch(this.regTab){case"mobile":this.util.navigateTo("/reg_mobile/user/resetPassword");break;case"email":this.util.navigateTo("/reg_email/user/resetPasswordSend");break}},onCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.form.countryCode="+"+t},getVerifyToken:function(e){this.form.token=e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_mobile/user/restPassword",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateTo("/")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,s,!1,null,"7b24a516",null);t["default"]=m.exports},b16a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"banner"},[a("div",{staticClass:"container"},[e._m(0),a("el-card",{staticClass:"invite-box m-t-lg p-a-md",attrs:{shadow:"never"}},[a("div",{staticClass:"tw6 ts-22"},[e._v("立刻邀请")]),a("div",{staticClass:"text-gray ts-14 m-t-xs"},[e._v("通过分享您的专属链接邀请您的朋友。您的专属邀请码可用于截屏分享和面对面分享。")]),a("div",{staticClass:"text-gray ts-14 m-t-md"},[e._v("专属邀请码")]),a("div",{staticClass:"tw6 ts-22 m-t-xs"},[a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.info.inviteCode,expression:"info.inviteCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"copy"},[e._v(" "+e._s(e.info.inviteCode)+" "),a("i",{staticClass:"el-icon-copy-document ts-16"})])]),a("div",{staticClass:"tw6 ts-22 m-t-md m-b-xs"},[e._v("专属邀请链接")]),a("div",{staticClass:"text-gray ts-14"},[a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.qrcodeUrl,expression:"qrcodeUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"copy"},[e._v(" "+e._s(e.qrcodeUrl)+" "),a("i",{staticClass:"el-icon-copy-document ts-14"})])]),a("div",{staticClass:"m-t-lg"},[a("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.inviteWords+e.qrcodeUrl,expression:"inviteWords + qrcodeUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"copy"},[a("el-button",{staticClass:"invite-btn full",attrs:{tyoe:"primary"}},[e._v("立即邀请")])],1)])]),a("el-card",{staticClass:"invite-box m-t-lg p-a-md",attrs:{shadow:"never"}},e._l(e.invitedList,(function(t,i){return a("div",{key:i},[e._v(" 手机号："+e._s(t.mobile?t.mobile:"***********")+" ")])})),0)],1)])]),a("xy-footer")],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-t-lg"},[a("div",{staticClass:"title ts-30 tw6"},[e._v("邀请好友")]),a("p",{staticClass:"info"},[e._v(" 邀请系统升级，邀请好友共享最高平台惊喜和福利，和好友一起加入吧。 ")])])}],r=a("1da1"),n=(a("96cf"),{components:{},data:function(){return{qrcodeUrl:"",inviteWords:"注册有惊喜，大礼送不停，快来一起加入吧，",info:{title:"",inviteCode:"----"},dataList:[],invitedList:[]}},created:function(){this.loadData()},watch:{},methods:{copySuccess:function(){alert("拷贝成功")},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_invite/invite/code",method:"get"});case 2:return a=t.sent,200==a.code&&(e.info=a.data.info,e.qrcodeUrl=e.util.baseDomain()+"/user/register?inviteCode="+e.info.inviteCode),t.next=6,e.util.request({url:"/v1/user_invite/invite/my",method:"get"});case 6:i=t.sent,200==i.code&&(e.invitedList=i.data.dataList);case 8:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("25ed"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"6366a602",null);t["default"]=c.exports},b182:function(e,t,a){},b31e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-at-outline",placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",account:e.form.email,title:"用户注册"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e.$store.state.app.siteInfo.regInvite>0?a("el-form-item",{attrs:{prop:"inviteCode"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邀请码"+e.inviteSuffix},model:{value:e.form.inviteCode,callback:function(t){e.$set(e.form,"inviteCode",t)},expression:"form.inviteCode"}})],1):e._e(),a("div",{staticClass:"agreement"},[a("el-checkbox",{model:{value:e.form.agreement,callback:function(t){e.$set(e.form,"agreement",t)},expression:"form.agreement"}},[e._v("我已阅读并同意")]),a("router-link",{attrs:{to:"/agreement/用户协议"}},[e._v("《"+e._s(e.$store.state.app.siteInfo.title)+"用户协议》")]),e._v("和 "),a("router-link",{attrs:{to:"/agreement/隐私政策"}},[e._v("《"+e._s(e.$store.state.app.siteInfo.title)+"隐私政策》")])],1),a("el-button",{staticClass:"full submit-btn",attrs:{disabled:!e.form.agreement,size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 注册 ")]),a("div",{staticClass:"actions flex"},[a("div"),a("div",[e._v(" 已有账号？ "),a("router-link",{attrs:{to:"/user/login"}},[e._v("登录")])],1)])],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{loading:!1,inviteSuffix:"",form:{email:"",password:"",rePassword:"",verify:"",token:"",inviteCode:"",agreement:!1},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){switch(this.$store.state.app.siteInfo.regInvite){case 1:this.inviteSuffix="（可选）";break;case 2:this.inviteSuffix="（必填）";break}this.form.inviteCode=this.$store.state.app.inviteCode},methods:{getVerifyToken:function(e){this.form.token=e.token},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("app/setData",{key:"inviteCode",value:e.form.inviteCode}),e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=6,e.util.request({url:"/v1/reg_email/user/register",data:e.form,method:"post"});case 6:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.$emit("reg-success")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"2487cd1f",null);t["default"]=u.exports},b493:function(e,t,a){},b593:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{type:"flex",justify:"space-around"}},[a("div",{staticClass:"cropper text-center"},[e.loadedScript?a("vue-cropper",{ref:"cropper",staticClass:"m-b",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:e.option.info,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,autoCropWidth:e.option.autoCropWidth,autoCropHeight:e.option.autoCropHeight,fixedBox:e.option.fixedBox},on:{realTime:e.realTime}}):e._e(),a("span",{staticClass:"text-gray ts-14"},[a("i",{staticClass:"xyicon xyicon-help-o ts-14"}),e._v(" 滚动鼠标滚轮来缩放图片 ")])],1),a("div",{staticClass:"previewBox"},[a("div",{staticClass:"preview-wrap"},[a("div",{staticClass:"preview",style:e.previews.div},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]),a("el-row",{staticClass:"m-t-md m-b",attrs:{type:"flex",justify:"center"}},[a("el-upload",{attrs:{action:"","show-file-list":!1,"auto-upload":!1,"on-change":e.uploadImg}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" 更换头像 ")])],1)],1),a("br"),a("el-row",[a("el-button",{attrs:{icon:"el-icon-plus",circle:"",size:"mini"},on:{click:function(t){return e.changeScale(1)}}}),a("el-button",{attrs:{icon:"el-icon-minus",circle:"",size:"mini"},on:{click:function(t){return e.changeScale(-1)}}}),a("el-button",{attrs:{icon:"el-icon-download",circle:"",size:"mini"},on:{click:function(t){return e.down("blob")}}}),a("el-button",{attrs:{icon:"el-icon-refresh-left",circle:"",size:"mini"},on:{click:e.rotateLeft}}),a("el-button",{attrs:{icon:"el-icon-refresh-right",circle:"",size:"mini"},on:{click:e.rotateRight}})],1)],1)]),a("div",{staticClass:"m-t-md flex flex-end p-r-md"},[a("el-button",{attrs:{round:""},on:{click:function(t){e.showPopup=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",round:""},on:{click:e.saveEditAvatar}},[e._v("保存")])],1)],1)},s=[],r=a("53ca"),n=a("1da1"),o=(a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("b0c0"),a("96cf"),{name:"editAvatar",props:{showPopup:!1},data:function(){return{loadedScript:!1,filename:"",avatarURL:"",previews:{},option:{img:"",info:!0,outputSize:1,full:!0,outputType:"png",canMove:!0,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:150,autoCropHeight:150,fixed:!0,fixedBox:!0}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadScript();case 2:Vue.use(window["vue-cropper"].default),this.loadedScript=!0,this.option.img=this.$store.state.user.userInfo.avatar,this.filename=this.guid()+".png";case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{},methods:{guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)}))},saveEditAvatar:function(){this.finish("blob")},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(e){var t=this;"blob"===e?this.$refs.cropper.getCropBlob(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=3,t.util.uploadFile({driver:t.$store.state.app.uploadDriver,signUrl:"/v1/upload_oss/index/sign",url:"/v1/core/index/upload",header:{token:t.util.getToken()},blobInfo:{blob:function(){return a},filename:function(){return this.filename}}});case 3:i=e.sent,i.data?(t.avatarURL=i.data.url,t.submit()):t.util.showToast({title:"上传失败",icon:"loading",duration:3e3});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):this.$refs.cropper.getCropData((function(e){}))},realTime:function(e){this.previews=e},down:function(e){var t=document.createElement("a");t.download="author-img","blob"===e?this.$refs.cropper.getCropBlob((function(e){t.href=window.URL.createObjectURL(e),t.click()})):this.$refs.cropper.getCropData((function(e){t.href=e,t.click()}))},uploadImg:function(e){var t=this;this.filename=e.name;var a=new FileReader;a.onload=function(e){var a;a="object"===Object(r["a"])(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,t.option.img=a},a.readAsArrayBuffer(e.raw)},submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.avatarURL){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.util.request({url:"/v1/core/user/avatar",data:{avatar:e.avatarURL},method:"put"});case 4:a=t.sent,200==a.code?(e.util.showToast({title:a.msg,icon:"success",duration:2e3}),e.$store.state.user.userInfo.avatar=e.avatarURL,e.showPopup=!1):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 6:case"end":return t.stop()}}),t)})))()},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueScript2.load("https://cdn.jsdelivr.net/npm/vue-cropper@0.4.9/dist/index.js").then((function(){t()}))}))}}}),l=o,c=(a("ee7f"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"65d3b479",null);t["default"]=u.exports},b594:function(e,t,a){"use strict";a("561a")},b6ef:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top"},[a("button",{staticClass:"addOrder",attrs:{type:"button"},on:{click:function(t){return e.$router.push({path:"/worksheet/worksheet/add"})}}},[a("span",{staticClass:"iconfont iconbianji"}),e._v(" 提交工单 ")]),e._m(0),a("button",{staticClass:"toSearch",attrs:{type:"button"}},[e._v("查找")])]),a("div",{staticClass:"orderList"},[a("el-table",{staticClass:"orderTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{color:"#181818",fontSize:"14px",backgroundColor:"#F5F9FA"}}},[a("el-table-column",{attrs:{prop:"id",label:"工单编号"}}),a("el-table-column",{attrs:{prop:"description",label:"问题内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.description)+" ")]}}])}),a("el-table-column",{attrs:{prop:"cateTitle",label:"问题类别"}}),a("el-table-column",{attrs:{prop:"createTime",label:"提交时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.util.timeFormat(e.row.createTime))+" ")]}}])}),a("el-table-column",{attrs:{prop:"state"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?a("span",[e._v("待客服回复")]):2==t.row.state?a("span",[e._v("待您回复")]):0==t.row.state?a("span",[e._v("已关闭")]):e._e()]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"iconfont iconshaixuan"}),a("span",[e._v("状态(全部)")]),a("span",{staticClass:"iconfont iconsanjiaoxiabiaozhengfangxing"})])],2),a("el-table-column",{attrs:{prop:"name",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return a("ul",{staticClass:"operateBtn"},[a("li",{on:{click:function(t){return e.$router.push({path:"/worksheet/worksheet/info"})}}},[a("span",{staticClass:"iconfont iconchakan"}),a("button",[e._v("查看")])]),a("li",{on:{click:function(a){return e.close(t.row.rowIndex)}}},[a("span",{staticClass:"iconfont iconzantingtingzhi"}),a("button",[e._v("关闭")])]),a("li",{on:{click:function(a){return e.deleteOne(t.row.rowIndex)}}},[a("span",{staticClass:"iconfont iconshanchu"}),a("button",[e._v("删除")])])])}}])})],1)],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{attrs:{type:"text"}}),a("span",{staticClass:"iconfont iconsousuo"})])}],r=a("1da1"),n=(a("96cf"),{name:"WorkSheet",props:[],components:{},data:function(){return{loading:!1,tableData:[],dataPage:{total:0,page:1,limit:10}}},created:function(){this.loadlists()},methods:{close:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:"/v1/worksheet/worksheet/close/"+t.tableData[e].id,method:"put"});case 2:i=a.sent,200==i.code?(t.tableData[e].state=0,t.util.showToast({title:i.msg,icon:"loading",duration:2e3})):t.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 4:case"end":return a.stop()}}),a)})))()},deleteOne:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.getSelectedIds(),a.next=3,t.util.request({url:"/v1/worksheet/worksheet/delete/"+t.tableData[e].id,method:"delete"});case 3:i=a.sent,200==i.code?(t.loadlists(),t.util.showToast({title:i.msg,icon:"loading",duration:2e3})):t.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 5:case"end":return a.stop()}}),a)})))()},loadlists:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/worksheet/worksheet/my",data:{page:e.dataPage.page,limit:e.dataPage.limit},method:"get"});case 3:a=t.sent,200==a.code?(e.tableData=a.data.dataList,e.dataPage=a.data.dataPage):e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}}),o=n,l=(a("f072"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"22d04426",null);t["default"]=c.exports},ba9e:function(e,t,a){},babc:function(e,t,a){"use strict";a("9d89")},bc88:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex space-between"},[0==e.manage?a("div",[e.loginTypes.indexOf("qq")>=0?a("i",{staticClass:"xyicon xyicon-qq ts-30 m-r",staticStyle:{color:"rgb(18, 150, 219)"}}):e._e(),e.loginTypes.indexOf("wxmp")>=0?a("i",{staticClass:"xyicon xyicon-weixin ts-30",staticStyle:{color:"rgb(100, 174, 67)"}}):e._e()]):a("div",{staticClass:"flex-1"},[e.loginTypes.indexOf("qq")>=0?a("div",{staticClass:"flex space-between flex-alignCenter m-b"},[a("i",{staticClass:"xyicon xyicon-qq ts-30 m-r",staticStyle:{color:"rgb(18, 150, 219)"}}),a("div",{staticStyle:{width:"80px"}},[e._v("QQ")]),e.hasBind("qq")?a("div",{staticClass:"flex-1 text-gray"},[e._v("已绑定")]):a("div",{staticClass:"flex-1 text-gray"},[e._v("未绑定")]),a("div",[e.hasBind("qq")?a("el-button",{attrs:{size:"medium",type:""},on:{click:function(t){e.unBind(e.hasBindIndex("qq"))}}},[e._v("解绑")]):a("el-button",{staticClass:"primary-linear",attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.showDialog("qq")}}},[e._v("绑定")])],1)]):e._e(),e.loginTypes.indexOf("wxmp")>=0?a("div",{staticClass:"flex space-between flex-alignCenter m-b"},[a("i",{staticClass:"xyicon xyicon-weixin ts-30 m-r",staticStyle:{color:"rgb(100, 174, 67)"}}),a("div",{staticStyle:{width:"80px"}},[e._v("微信")]),e.hasBind("wxmp")?a("div",{staticClass:"flex-1 text-gray"},[e._v("已绑定")]):a("div",{staticClass:"flex-1 text-gray"},[e._v("未绑定")]),a("div",[e.hasBind("wxmp")?a("el-button",{attrs:{size:"medium",type:""},on:{click:function(t){e.unBind(e.hasBindIndex("wxmp"))}}},[e._v("解绑")]):a("el-button",{staticClass:"primary-linear",attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.showDialog("wx")}}},[e._v("绑定")])],1)]):e._e()]),a("div",{staticClass:"actions"},[e.manage?e._e():a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){e.manage=!e.manage}}},[e._v("管理")])],1)]),a("el-dialog",{attrs:{title:"绑定",visible:e.bindDialog,width:"440px"},on:{"update:visible":function(t){e.bindDialog=t}}},[a("div",{staticClass:"m-b-md"},[a("h4",[e._v("绑定第三方账号前请输入您的账号密码以完成验证：")]),a("div",{staticClass:"flex space-between flex-alignCenter"},[a("el-input",{staticStyle:{width:"234px","box-sizing":"border-box"},attrs:{size:"mini",placeholder:"请输入您的"+e.$store.state.app.siteInfo.title+"账户密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.verifyState?a("div",{staticClass:"ts-12 text-primary"},[e._v("验证成功")]):e._e()],1)]),"wx"==e.bindWhich?[e.qrloginShow?a("qrlogin",{staticClass:"text-center",attrs:{qrloginShow:e.qrloginShow,tip:"请使用微信扫描二维码完成绑定",width:168,bgColor:"#05B9CF",type:"wxmp"},on:{success:e.qrsuccess}}):e._e()]:e._e(),e.verifyState?e._e():a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.bindDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.doVerifyPassword()}}},[e._v("绑定")])],1)],2)],1)},s=[],r=a("1da1"),n=(a("96cf"),a("7db0"),a("d3b7"),a("c740"),a("a434"),a("9a4d")),o=a("c43b"),l={props:{redirectBase:"",isPage:!1},components:{qrlogin:n["a"],"xy-safety-verify":o["a"]},data:function(){return{manage:!1,loading:!1,loginTypes:["qq","weixin"],myBindList:[],bindDialog:!1,bindWhich:"",verifyState:!1,qrloginShow:!1,password:"",form:{bindType:"login",type:"",code:"",redirect:""}}},created:function(){if($store.state.app.siteInfo.versionFuncsAll.indexOf("third_login")>=0){this.loadData();var e=this.util.getUrlQuery();if(e["code"]){if(this.form.type=this.$route.params.type,!this.form.type)return void alert("type获取不到值");this.form.code=e["code"],this.handleBind()}}},computed:{},methods:{hasBind:function(e){var t=this.myBindList.find((function(t){return t.bindType==e}));return t},hasBindIndex:function(e){var t=this.myBindList.findIndex((function(t){return t.bindType==e}));return t},doVerifyPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_username/user/verifyPassword",data:{password:e.password},method:"post"});case 5:return i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.verifyState=!0,"wx"==e.bindWhich?e.qrloginShow=!0:e.getAuthUrl(e.bindWhich)):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1,t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))()},showDialog:function(e){this.bindDialog=!0,this.bindWhich=e},qrsuccess:function(){this.qrloginShow=!1},getAuthUrl:function(e){window.location.href=this.util.baseDomain()+"/third_login/user/authorization.html?type="+e+"&redirect="+this.getRedirectUrl(e)},getRedirectUrl:function(e){return this.redirectBase?this.redirectBase=e:window.location.protocol+"//"+window.location.host+this.$route.path+"/"+e},handleBind:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.redirect=e.getRedirectUrl(e.form.type),e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=6,e.util.request({url:"/v1/third_login/user/bind",data:e.form,method:"post"});case 6:i=t.sent,"200"==i.code?(e.$store.commit("user/setUserInfo",i.data.userInfo),e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.isPage?e.$router.push({name:"/my"}):e.$emit("success")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},unBind:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,i=t,setTimeout((function(){i.loading=!1}),5e3),a.next=5,t.util.request({url:"/v1/third_login/user/unbind",data:{id:t.myBindList[e].id},method:"delete"});case 5:s=a.sent,"200"==s.code?(t.util.showToast({title:s.msg,icon:"success",duration:2e3}),t.myBindList=t.myBindList.splice(e,1)):t.util.showToast({title:s.msg,icon:"loading",duration:3e3}),t.loading=!1;case 8:case"end":return a.stop()}}),a)})))()},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/third_login/user/my",method:"get"});case 5:i=t.sent,"200"==i.code?(e.myBindList=i.data.loginTypes,e.loginTypes=i.data.loginTypes):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("f60d"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"4b32ce17",null);t["default"]=d.exports},bc9b:function(e,t,a){"use strict";a("f9d3")},bea2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-col"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"col-box"},[a("el-row",{attrs:{gutter:25}},[a("el-col",{staticClass:"left m-b-md",attrs:{xs:24,sm:24,md:6,lg:4}},[a("el-tree",{attrs:{data:e.colData.dataList,"node-key":"id","default-expand-all":"","highlight-current":"",draggable:"","expand-on-click-node":!0},on:{"node-contextmenu":e.handleContextmenu,"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,s=t.data;return a("div",{staticClass:"custom-tree-node flex flex-1 flex-alignCenter"},[a("div",{staticClass:"flex-1 ts-14 tw5 flex flex-alignCenter",on:{click:function(t){return e.editPre(i,s)}}},[e._v(" "+e._s(s.title)+" ")]),a("div",{staticClass:"actions ts-13",staticStyle:{display:"none"}},[a("el-link",{staticClass:"m-r-xs",attrs:{type:"text"},on:{click:function(){return e.append(i,s)}}},[e._v(" 添加子项 ")]),a("el-link",{attrs:{type:"danger"},on:{click:function(){return e.remove(i,s)}}},[e._v(" 删除 ")])],1)])}}])}),a("el-button",{staticClass:"full",attrs:{type:"text"},on:{click:function(){return e.append()}}},[e._v(" 添加 ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}],staticClass:"menu",attrs:{id:"contextmenu"}},[a("div",{staticClass:"contextmenu__item",on:{click:function(){return e.append(e.cnode,e.cdata)}}},[e._v("添加子项")]),a("div",{staticClass:"contextmenu__item",on:{click:function(){return e.remove(e.cnode,e.cdata)}}},[e._v("删除")])])],1),a("el-col",{staticClass:"right",attrs:{xs:24,sm:24,md:18,lg:20}},[a("XyBuilderForm",{ref:"rightForm",attrs:{api:e.currentEditApi,show:!0,header:e.header},on:{close:function(t){return e.closeModel(t)}}})],1)],1)],1)])},s=[],r=a("5530"),n=a("b85c"),o=a("1da1"),l=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("b0c0"),a("c740"),a("a434"),a("4328")),c=a.n(l),u=a("6df9"),d={components:{"xy-title":u["a"]},name:"XyBuilderCol",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},pitem:{type:Object,default:function(){return{}}},show:!1,predata:""},data:function(){return{id:0,ready:!1,loading:!1,menuVisible:!1,cnode:null,cdata:null,colData:{dataList:[]},currentEditApi:""}},watch:{show:function(e){this.stackData={},1==e&&this.loadData()}},beforeCreate:function(){this.$options.components.XyBuilderList=function(){return Promise.resolve().then(a.bind(null,"114b"))},this.$options.components.XyBuilderForm=function(){return Promise.resolve().then(a.bind(null,"4d99"))},this.$options.components.XyBuilderInfo=function(){return a.e("manifest").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderTab=function(){return a.e("manifest").then(a.bind(null,"26ff"))}},created:function(){this.predata?this.readyProcess(this.predata):this.loadData()},methods:{closeModel:function(){},handleContextmenu:function(e,t,a,i){this.cnode=a,this.cdata=t,this.menuVisible=!1,this.menuVisible=!0,event.preventDefault();var s=document.querySelector(".menu");this.styleMenu(s)},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)},styleMenu:function(e){event.clientX>1800?e.style.left=event.clientX-100+"px":e.style.left=event.clientX-200+"px",document.addEventListener("click",this.foo),event.clientY>700?e.style.top=event.clientY-300+"px":e.style.top=event.clientY-150+"px"},handleDrop:function(e,t,a,i){var s=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var r,n,o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s.colData.rightButtonList.forEach((function(e){"edit"==e.name&&(r=e)})),n="",o=0,i.t0=a,i.next="inner"===i.t0?8:"before"===i.t0?10:"after"===i.t0?13:16;break;case 8:return n=t.data.uniqeId,i.abrupt("break",16);case 10:return n=t.data.puniqeId,o=t.data.sortnum-1,i.abrupt("break",16);case 13:return n=t.data.puniqeId,o=t.data.sortnum+1,i.abrupt("break",16);case 16:return i.next=18,s.util.request({url:r.pageData.api+"/"+e.data.id,method:"put",data:{puniqeId:n,sortnum:o},header:{CloudId:s.header.cloudId,Eid:s.header.eid}});case 18:l=i.sent,"200"==l.code?s.util.showToast({title:l.msg,icon:"success",duration:1e3}):s.util.showToast({title:l.msg,icon:"error",duration:3e3});case 20:case"end":return i.stop()}}),i)})))()},editPre:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a.$refs.rightForm.getCount()>1?a.$confirm("您有修改内容未保存，确认离开当前页面吗？","提示",{confirmButtonText:"确认离开",cancelButtonText:"留在页面",confirmButtonClass:"el-button--danger",closeOnClickModal:!1,type:"error"}).then(Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a.edit(e,t);case 1:case"end":return i.stop()}}),i)})))).catch((function(){})):a.edit(e,t);case 1:case"end":return i.stop()}}),i)})))()},edit:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.$refs.rightForm.getCount(),a.cnode=null,a.cdata=null,a.menuVisible=!1,i=a,a.colData.rightButtonList.forEach((function(e){if("edit"==e.name){var a=e,s="",r=new Object;if(a.pageData.apiSuffix){var o,l=a.pageData.apiSuffix,u=Object(n["a"])(l);try{for(u.s();!(o=u.n()).done;){var d=o.value;s=s+"/"+t[d]}}catch(v){u.e(v)}finally{u.f()}}else s="/"+t.id;if(a.pageData.querySuffix){var m,p=a.pageData.querySuffix,f=Object(n["a"])(p);try{for(f.s();!(m=f.n()).done;){var h=m.value;1==h[2]?r[h[0]]=h[1]:r[h[0]]=t[h[1]]}}catch(v){f.e(v)}finally{f.f()}}if(""!=c.a.stringify(r)?i.currentEditApi=a.pageData.api+s+"?"+c.a.stringify(r):i.currentEditApi=a.pageData.api+s,!i.currentEditApi)return!1}}));case 6:case"end":return e.stop()}}),e)})))()},append:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t||(t={},t.bookId=a.id,t.puniqeId="",t.title="根节点"),s="",a.colData.rightButtonList.forEach((function(e){"addChild"==e.name&&(s=e.pageData.api)})),s){i.next=7;break}return i.abrupt("return",!1);case 7:a.$prompt("请输入标题","创建“"+t.title+"”的子项",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(r){var n,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=r.value,i.next=3,a.util.request({url:s,method:"post",data:{bookId:t.bookId,puniqeId:t.uniqeId,title:n},header:{CloudId:a.header.cloudId,Eid:a.header.eid}});case 3:o=i.sent,"200"==o.code?(a.util.showToast({title:o.msg,icon:"success",duration:1e3}),t.children||a.$set(t,"children",[]),e?t.children.push(o.data.info):a.colData.dataList.push(o.data.info)):a.util.showToast({title:o.msg,icon:"error",duration:3e3});case 5:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch((function(){a.$message({type:"info",message:"取消输入"})}));case 8:case"end":return i.stop()}}),i)})))()},remove:function(e,t){var a=this,i=this,s="";if(this.colData.rightButtonList.forEach((function(e){"delete"==e.name&&(s=e)})),!s.pageData.api)return!1;var r="",l=new Object;if(s.pageData.apiSuffix){var u,d=s.pageData.apiSuffix,m=Object(n["a"])(d);try{for(m.s();!(u=m.n()).done;){var p=u.value;r=r+"/"+t[p]}}catch(y){m.e(y)}finally{m.f()}}else r="/"+t.id;if(s.pageData.querySuffix){var f,h=s.pageData.querySuffix,v=Object(n["a"])(h);try{for(v.s();!(f=v.n()).done;){var g=f.value;1==g[2]?l[g[0]]=g[1]:l[g[0]]=t[g[1]]}}catch(y){v.e(y)}finally{v.f()}}this.$confirm(s.pageData.content,s.pageData.title,{confirmButtonText:s.pageData.okText,cancelButtonText:s.pageData.cancelText,dangerouslyUseHTMLString:!0,closeOnClickModal:!1,type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function n(){var o,u,d,m,p,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=s.pageData.api+r,""!=c.a.stringify(l)&&(o=o+"?"+c.a.stringify(l)),n.next=4,i.util.request({url:o,method:s.pageData.formMethod,header:i.header});case 4:u=n.sent,"200"==u.code?(d=e.parent,m=d.data.children||d.data,p=m.findIndex((function(e){return e.id===t.id})),m.splice(p,1),i.util.showToast({title:u.msg,icon:"success",duration:1e3}),a.$store.state.app.uiAudio&&(f=new Audio,f.src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",f.play())):i.util.showToast({title:u.msg,icon:"loading",duration:3e3});case 6:case"end":return n.stop()}}),n)})))).catch((function(){if(a.$store.state.app.uiAudio){var e=new Audio;e.src=Object({VUE_APP_BASE_DOMAIN:"jiangruyi.com",NODE_ENV:"production",VUE_APP_I18N_LOCALE:"zh",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-starter/dist/"}).VUE_APP_AUDIO_CLOSE,e.play()}}))},readyProcess:function(e){var t=this.util.builderutil.readyList({listData:e},this.$store.state.app.apiInfo);this.colData=Object(r["a"])({},t.listData),this.ready=!0},loadData:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,s,r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"",""!=i&&(t.api=i),t.loading=!0,!t.api){a.next=8;break}return a.next=6,t.util.request({url:t.api,method:"get",header:{CloudId:null===(s=t.header)||void 0===s?void 0:s.cloudId,Eid:null===(r=t.header)||void 0===r?void 0:r.eid}});case 6:n=a.sent,"200"==n.code?(t.readyProcess(n.data.listData),t.id=n.data.id,t.loading=!1):t.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 8:t.loading=!1;case 9:case"end":return a.stop()}}),a)})))()}}},m=d,p=(a("7fce"),a("2877")),f=Object(p["a"])(m,i,s,!1,null,"080d10ee",null);t["default"]=f.exports},c1c1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"center-box safe-box m-b"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("安全设置")])]),a("div",{staticClass:"content clearfix"},[a("div",{staticClass:"count-list"},[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("手机绑定")]),a("span",{staticClass:"tip"},[e._v("短信验证用于登录和修改安全验证")])]),a("div",{staticClass:"fr"},[e.safeSet["mobile"]?e._e():a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/reg_mobile/user/bind"})}}},[e._v("绑定")]),e.safeSet["mobile"]?a("el-button",{staticClass:"ghost",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/reg_mobile/user/change"})}}},[e._v("换绑")]):e._e()],1)]):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("邮箱绑定")]),a("span",{staticClass:"tip"},[e._v("为了您的账户安全，请绑定邮箱")])]),a("div",{staticClass:"fr"},[e.safeSet["email"]?e._e():a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/reg_email/user/bind"})}}},[e._v("绑定")]),e.safeSet["email"]?a("el-button",{staticClass:"ghost",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/reg_email/user/change"})}}},[e._v("换绑")]):e._e()],1)]):e._e(),a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("登录密码")]),a("span",{staticClass:"tip"},[e._v("登录时使用，是您的第一道安全防线")])]),a("div",{staticClass:"fr"},[e.safeSet["password"]&&e.safeSet["password"]["isset"]?a("el-button",{staticClass:"ghost",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/user/editPassword"})}}},[e._v("修改")]):e._e(),e.safeSet["password"]&&!e.safeSet["password"]["isset"]?a("el-button",{attrs:{type:"primary",size:"medium",plain:""}},[e._v("设置")]):e._e()],1)]),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("paypwd")>=0?a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("资金密码")]),a("span",{staticClass:"tip"},[e._v("交易时使用，开启手机验证或者谷歌验证后方可进行设置")])]),a("div",{staticClass:"fr"},[e.safeSet["paypwd"]&&e.safeSet["paypwd"]["isset"]?a("el-button",{staticClass:"ghost",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/paypwd/change"})}}},[e._v("修改")]):e._e(),e.safeSet["paypwd"]&&!e.safeSet["paypwd"]["isset"]?a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/paypwd/set"})}}},[e._v("设置")]):e._e()],1)]):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("gauth")>=0?a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("谷歌验证")]),a("span",{staticClass:"tip"},[e._v("为了您的账户安全，请绑定谷歌验证器")])]),a("div",{staticClass:"fr"},[e.safeSet["gauth"]?e._e():a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/gauth/user/bind"})}}},[e._v("绑定")]),e.safeSet["gauth"]?a("el-button",{staticClass:"ghost",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){return e.util.navigateTo({url:"/gauth/user/change"})}}},[e._v("换绑")]):e._e()],1)]):e._e(),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("gauth")>=0||e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0||e.$store.state.app.siteInfo.versionFuncsAll.indexOf("email")>=0?a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("二次验证")]),a("span",{staticClass:"tip"},[e._v("开启后，每次登录均需要通过短信或谷歌验证")])]),a("div",{staticClass:"fr"},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.handle2fa},model:{value:e.mfa,callback:function(t){e.mfa=t},expression:"mfa"}})],1)]):e._e()])]),a("XySafetyVerify",{ref:"sv",on:{"verify-request":e.handle2fa,cancel:e.close},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],1)},s=[],r=a("1da1"),n=(a("96cf"),a("c43b")),o={components:{XySafetyVerify:n["a"]},data:function(){return{safeSet:{},verifyData:"",mfa:0}},created:function(){this.loadSafeSet(),this.mfa=this.safeSet["2fa"]},methods:{close:function(){this.mfa=this.safeSet["2fa"]},handle2fa:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={action:t},this.verifyData&&(a._verify=this.verifyData),e.next=4,this.util.request({url:"/v1/user/user/loginVerifySet",data:a,method:"put"});case 4:if(i=e.sent,200!=i.code){e.next=11;break}this.$refs.sv.close(),this.util.showToast({title:i.msg,icon:"success",duration:2e3}),this.verifyData="",e.next=16;break;case 11:if(401003!=i.code){e.next=14;break}return this.$refs.sv.open(i.data.verifyList),e.abrupt("return");case 14:this.mfa=this.safeSet["2fa"],this.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadSafeSet:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user/user/safeSet",method:"get"});case 2:a=t.sent,200==a.code?e.safeSet=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}},l=o,c=(a("a84a"),a("2877")),u=Object(c["a"])(l,i,s,!1,null,"44d54282",null);t["default"]=u.exports},c43b:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"append-to-body":"",title:"安全验证",visible:e.dialogVisible,width:"450px"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.eclose}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{label:"邮箱验证码",prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"安全验证"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{label:"手机验证码",prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"安全验证"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{label:"谷歌验证码",prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("paypwd")>=0?a("el-form-item",{attrs:{label:"支付密码",prop:"paypwd"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位支付密码"},model:{value:e.form.paypwd,callback:function(t){e.$set(e.form,"paypwd",t)},expression:"form.paypwd"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确认 ")])],1)],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={name:"xySafetyVerify",components:{XySendVerify:n["a"]},props:{value:{type:[String,Object],default:""}},data:function(){return{dialogVisible:!1,verifyList:[],loading:!1,form:{paypwd:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{}}},created:function(){},methods:{getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},open:function(e){this.verifyList=e,this.getRule(),this.dialogVisible=!0},eclose:function(){this.$emit("cancel")},close:function(){this.dialogVisible=!1},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),e.$emit("input",e.form),e.$emit("verify-request"),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},getRule:function(){for(var e in this.verifyList)switch(this.verifyList[e]){case"email":this.rule.email=[{required:!0,message:"请填写邮箱验证码",trigger:"blur"},{type:"string",min:6,message:"至少6位",trigger:"blur"}];break;case"mobile":this.rule.mobile=[{required:!0,message:"请填写手机验证码",trigger:"blur"},{type:"string",min:6,message:"至少6位",trigger:"blur"}];break;case"gauth":this.rule.gauth=[{required:!0,message:"请填写谷歌验证码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;case"paypwd":this.rule.paypwd=[{required:!0,message:"请填写支付密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;case"password":this.rule.password=[{required:!0,message:"请填写登录密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;default:break}}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"6974692a",null);t["a"]=u.exports},c51a:function(e,t,a){},c5db:function(e,t,a){"use strict";a.r(t);var i,s,r=a("2877"),n={},o=Object(r["a"])(n,i,s,!1,null,null,null);t["default"]=o.exports},c839:function(e,t,a){},c8d9:function(e,t,a){},c905:function(e,t,a){"use strict";a("4f6c")},cbba:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"80px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box hidden-sm-and-down",attrs:{md:10,lg:16}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:24,sm:{span:14,offset:5},md:15,lg:13}},[a("div",{staticClass:"title m-b-md"},[e._v(" 登录 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.ruleLogin}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入用户名、邮箱或手机号"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("div",{staticClass:"agreement"},[a("el-checkbox",{model:{value:e.form.rememberLogin,callback:function(t){e.$set(e.form,"rememberLogin",t)},expression:"form.rememberLogin"}},[e._v("记住登录")])],1),a("xy-captcha",{on:{success:e.handleSubmit}},[a("el-button",{staticClass:"full submit-btn",attrs:{id:"Captcha",size:"large",loading:e.form.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(" 登录 ")])],1),a("div",{staticClass:"actions flex"},[a("div",[a("router-link",{attrs:{to:"/user/resetPassword"}},[e._v("忘记密码")])],1),a("div",[e._v(" 还没有账号？ "),a("router-link",{attrs:{to:"/user/register"}},[e._v("注册")])],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.qrloginShow,expression:"!qrloginShow"}],staticClass:"qrlogin",on:{click:function(t){e.qrloginShow=!0}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.qrloginShow,expression:"qrloginShow"}],staticClass:"qrlogin-modal"},[a("div",{staticClass:"flex space-between m-b"},[a("div",{staticClass:"ts-18"},[e._v(" 登录 ")]),a("div",[a("span",{staticClass:"cursor-pointer text-gray",on:{click:function(t){e.qrloginShow=!1}}},[e._v("账号密码登录")])])]),a("qrlogin",{staticClass:"text-center m-t-lg",attrs:{qrloginShow:e.qrloginShow,type:"wxapp"},on:{success:e.qrsuccess}})],1)],1)],1)],1)]),a("xy-footer"),a("xy-safety-verify",{ref:"sv",on:{"verify-request":e.handleSubmit},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],1)},s=[],r=a("1da1"),n=(a("96cf"),a("9a4d")),o=a("1107"),l=a("c43b"),c={components:{qrlogin:n["a"],XyCaptcha:o["a"],XySafetyVerify:l["a"]},data:function(){return{isDemo:!1,qrloginShow:!0,verifyData:"",form:{rememberLogin:!1,loading:!1,account:"",password:""},ruleLogin:{account:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}},created:function(){1==this.isDemo&&(this.form.account="jry",this.form.password="Windows9")},methods:{qrsuccess:function(){this.util.switchTab({url:"/"})},handleSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.form,this.verifyData&&(t._verify=this.verifyData),this.form.loading=!0,a=this,setTimeout((function(){a.form.loading=!1}),5e3),e.next=7,this.util.request({url:"/v1/core/user/login",data:t,method:"post"});case 7:if(i=e.sent,200!=i.code){e.next=17;break}this.$store.commit("user/setToken",i.data.token),this.$store.commit("user/setUserInfo",i.data.userInfo),this.$refs.sv.close(),this.util.showToast({title:i.msg,icon:"success",duration:2e3}),this.verifyData="",this.util.switchTab({url:"/"}),e.next=23;break;case 17:if(401003!=i.code){e.next=22;break}return this.$refs.sv.open(i.data.verifyList),e.abrupt("return");case 22:this.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 23:this.form.loading=!1;case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=c,d=a("2877"),m=Object(d["a"])(u,i,s,!1,null,"273bc9fe",null);t["default"]=m.exports},cf3f:function(e,t,a){"use strict";a("1f59")},cfa0:function(e,t,a){"use strict";a("5bac")},d551:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"100px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 邮箱重置密码 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-at-outline",placeholder:"邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",account:e.form.email,title:"重置密码"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{attrs:{prop:"newPassword"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"新密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 立即重置 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{loading:!1,form:{email:"",newPassword:"",verify:"",token:""},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){this.$route.query.account&&(this.form.email=this.$route.query.account)},methods:{getVerifyToken:function(e){this.form.token=e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/restPassword",data:e.form,method:"put"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateTo("/")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"05df60f4",null);t["default"]=u.exports},d57e:function(e,t,a){"use strict";a("7a2a")},d5fb:function(e,t,a){},d63d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"100px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 邮箱重置密码 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{attrs:{size:"large",type:"text",disabled:!0,prefix:"ios-at-outline",placeholder:"邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"newPassword"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"输入新密码"},model:{value:e.form.newPassword,callback:function(t){e.$set(e.form,"newPassword",t)},expression:"form.newPassword"}})],1),a("el-form-item",{attrs:{prop:"rePassword"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"重复输入新密码"},model:{value:e.form.rePassword,callback:function(t){e.$set(e.form,"rePassword",t)},expression:"form.rePassword"}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 立即重置 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{loading:!1,form:{email:"",newPassword:"",rePassword:"",token:""},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],newPassword:[{required:!0,message:"请填写新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],rePassword:[{required:!0,message:"请重复输入新密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){var e=this.util.getUrlQuery();this.form.email=e["email"],this.form.token=e["token"]},methods:{getVerifyToken:function(e){this.form.token=e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/restPasswordByLink",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateTo("/user/login")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"3be197ec",null);t["default"]=u.exports},d958:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-mavon-editor"},[e.loadedScript?a("mavon-editor",e._b({ref:"md",staticClass:"instance",style:{border:e.border?"1px solid #eee;":""},on:{imgAdd:e.uploadImg},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}},"mavon-editor",e.$props,!1)):e._e()],1)},s=[],r=a("1da1"),n=(a("ac1f"),a("466d"),a("498a"),a("d3b7"),a("96cf"),a("746a")),o=a.n(n),l={name:"xyMavonEditor",props:{item:{},value:{type:[String],default:""},placeholder:{type:String,default:" "},codeStyle:{type:String,default:"solarized-dark"},previewBackground:{type:String,default:"#fbfbfb"},ishljs:{type:Boolean,default:!0},navigation:{type:Boolean,default:!1},subfield:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},toolbarsFlag:{type:Boolean,default:!0},border:{type:Boolean,default:!0},defaultOpen:{type:String,default:""},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){return{content:"",loadedScript:!1,md:null}},watch:{value:function(e){this.content=e,this.renderExt(e)},content:function(e){this.$emit("input",e),this.renderExt(e)}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.content=this.value,e.next=3,this.loadScript();case 3:Vue.component("mavon-editor",MavonEditor.mavonEditor),this.loadedScript=!0,t=this,this.$nextTick((function(){t.md=MavonEditor.markdownIt,t.renderExt(t.content)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{renderExt:function(e){this.md&&(this.md.use(o.a,"tip",{validate:function(e){return e.trim().match(/^tip$/)},render:function(e,t){return 1===e[t].nesting?'<blockquote class="tip">\n':"</blockquote>\n"}}),this.md.use(o.a,"info",{validate:function(e){return e.trim().match(/^info$/)},render:function(e,t){return 1===e[t].nesting?'<blockquote class="info">\n':"</blockquote>\n"}}),this.md.use(o.a,"success",{validate:function(e){return e.trim().match(/^success$/)},render:function(e,t){return 1===e[t].nesting?'<blockquote class="success">\n':"</blockquote>\n"}}),this.md.use(o.a,"danger",{validate:function(e){return e.trim().match(/^danger$/)},render:function(e,t){return 1===e[t].nesting?'<blockquote class="danger">\n':"</blockquote>\n"}}),this.md.use(o.a,"warning",{validate:function(e){return e.trim().match(/^warning$/)},render:function(e,t){return 1===e[t].nesting?'<blockquote class="warning">\n':"</blockquote>\n"}}),this.md.render(e))},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueLink2.load("https://cdn.jsdelivr.net/npm/mavon-editor@2.9.1/dist/css/index.css").then((function(){})),e.VueScript2.load("https://cdn.jsdelivr.net/npm/mavon-editor@2.9.1/dist/mavon-editor.js").then((function(){t()}))}))},uploadImg:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var s,r,n,o,l,c,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.util.uploadFile({driver:a.item.extra.driver||"default",signUrl:a.item.extra.signUrl||"",url:a.item.extra.action,header:a.header,file:t,provider:null===(s=a.item.extra)||void 0===s?void 0:s.provider,spaceId:null===(r=a.item.extra)||void 0===r?void 0:r.spaceId,clientSecret:null===(n=a.item.extra)||void 0===n?void 0:n.clientSecret,maxSize:null===(o=a.item.extra)||void 0===o?void 0:o.maxSize,hasUploadModule:null===(l=a.item.extra)||void 0===l?void 0:l.hasUploadModule,checkExist:null===(c=that.item.extra)||void 0===c?void 0:c.checkExist});case 2:u=i.sent,u.data&&a.$refs.md.$img2Url(e,u.data.url);case 4:case"end":return i.stop()}}),i)})))()}}},c=l,u=(a("2149"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"0427590e",null);t["a"]=d.exports},d95c:function(e,t,a){"use strict";a("f651")},d966:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main p-t"},[a("div",{staticClass:"container"},[a("el-row",{staticClass:"flex flex-wrap",attrs:{type:"flex",gutter:20}},[a("el-col",{attrs:{xs:24,lg:17}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix tw6 ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.info.title))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ts-16",staticStyle:{"min-height":"200px"},attrs:{"element-loading-text":"拼命加载中"}},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],domProps:{innerHTML:e._s(e.info.content)}})]),a("div",{staticClass:"actions m-t flex flex-alignCenter"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.actionClick(e.id,"icms_post",5)}}},[e._v(" "+e._s(e.info.actionStates[5]?"已关注":"关注问题")+" ")]),a("el-button",{staticClass:"m-r-md",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){e.showReplyForm=!0}}},[e._v("我来回答")]),a("div",{on:{click:function(t){return e.actionClick(e.id,"icms_post",2)}}},[a("i",{staticClass:"xyicon xyicon-heart ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[e._v(" "+e._s(e.info.actionStates[2]?"已":"")+"收藏 ")])],1)],1)]),a("div",{staticClass:"m-t-sm"},[a("comment-lists",{attrs:{title:"回复",urlPrefix:"/ask",showReplyForm:e.showReplyForm,dataId:e.id,dataModel:"icms_post"},on:{"update:showReplyForm":function(t){e.showReplyForm=t},"update:show-reply-form":function(t){e.showReplyForm=t}}})],1)],1),a("el-col",{attrs:{xs:24,lg:7}},[a("hot-ask",{attrs:{cateId:e.info.cateId}})],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("0700")),o=a("7e25"),l={components:{"comment-lists":o["a"],"hot-ask":n["a"]},data:function(){return{id:0,info:{title:"",content:"",actionStates:{}},showReplyForm:!1,loading:!1,dataListHot:[]}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(e,t){this.id=this.$route.params.id,this.loadData()}},methods:{actionClick:function(e,t,a){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,i.util.request({url:"/v1/action/action/set",data:{dataId:e,dataModel:t,actionType:a},method:"post"});case 2:r=s.sent,200==r.code?(i.$set(i.info.actionStates,a,r.data.currentValue),i.util.showToast({title:r.msg,icon:"success",duration:2e3})):i.util.showToast({title:r.msg,icon:"loading",duration:3e3});case 4:case"end":return s.stop()}}),s)})))()},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.util.request({url:"/v1/icms/post/info/"+e.id,data:{},method:"get"});case 3:a=t.sent,200==a.code?e.info=a.data.info:e.util.showToast({title:a.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,s,!1,null,"666111f5",null);t["default"]=d.exports},dc01:function(e,t,a){},dc28:function(e,t,a){},dd5e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"5%","padding-bottom":"100px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box",attrs:{xs:1,sm:1,md:14,lg:14}},[a("img",{attrs:{src:e.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title text-left"},[e._v(" 手机验证码登录 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.ruleLogin}},[a("div",{staticClass:"actions flex m-b-sm"},[a("div"),a("div",[a("router-link",{attrs:{to:"/user/register"}},[e._v("免费注册>")])],1)]),a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入您的手机号码"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onCountrySelect}})],1)],2)],1),a("div",{staticClass:"flex flex-alignCenter"},[a("el-form-item",{staticClass:"flex-1",attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}})],1),a("XySendVerify",{staticClass:"send-verity-button",attrs:{url:"/v1/sms/verify/send",type:"手机号",account:e.form.mobile,title:"用户登录"},on:{verifysuccess:e.getVerifyToken}})],1),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.form.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(" 登录 ")]),a("div",{staticClass:"actions flex m-t"},[a("div",[a("router-link",{attrs:{to:"/user/login"}},[e._v(" 使用邮箱地址或手机号登录 > ")])],1),a("div",[a("el-checkbox",{model:{value:e.form.rememberLogin,callback:function(t){e.$set(e.form,"rememberLogin",t)},expression:"form.rememberLogin"}},[e._v("记住密码")])],1)])],1),a("div",{staticClass:"bottom flex space-between flex-alignCenter"},[a("div",{staticClass:"other-login"},[e._v(" 其他登录方式 "),a("span",{staticClass:"m-l-md m-r-md"},[e._v("|")]),a("span",[a("span",{staticClass:"item",on:{click:function(t){e.qrloginShow=!0}}},[a("a",[a("i",{staticClass:"xyicon xyicon-wexin"})])]),a("span",{staticClass:"item"},[a("a",[a("i",{staticClass:"xyicon xyicon-qq"})])])])]),a("div",[a("router-link",{attrs:{to:"/user/resetPassword"}},[e._v(" 忘记密码？ ")])],1)]),a("div",{staticClass:"qrlogin-left"},[a("span",{staticClass:"xyicon xyicon-privacy"}),e._v(" 扫码登录更安全 ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.qrloginShow,expression:"!qrloginShow"}],staticClass:"qrlogin",on:{click:function(t){e.qrloginShow=!0}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.qrloginShow,expression:"qrloginShow"}],staticClass:"qrlogin-modal"},[a("div",{staticClass:"flex space-between m-b"},[a("div",{staticClass:"ts-18"},[e._v(" 登录 ")]),a("div",[a("span",{staticClass:"cursor-pointer text-gray",on:{click:function(t){e.qrloginShow=!1}}},[e._v("账号密码登录")])])]),a("qrlogin",{staticClass:"text-center",attrs:{qrloginShow:e.qrloginShow,type:e.wxapp},on:{success:e.qrsuccess}})],1)],1)],1)],1)]),a("xy-footer"),a("xy-safety-verify",{ref:"sv",on:{"verify-request":e.handleSubmit},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],1)},s=[],r=a("1da1"),n=(a("96cf"),a("b0c0"),a("9a4d")),o=a("c43b"),l=a("160b"),c=a("4167"),u=a.n(c),d={components:{qrlogin:n["a"],XySendVerify:l["a"],VueCountryCode:u.a,XySafetyVerify:o["a"]},data:function(){return{isDemo:!1,qrloginShow:!1,verifyData:"",form:{rememberLogin:!1,loading:!1,countryCode:"+86",moblie:"",verify:"",token:""},ruleLogin:{mobile:[{required:!0,message:"请填写账号",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"},{type:"string",min:6,message:"验证码为6位",trigger:"blur"}]}}},created:function(){},methods:{qrsuccess:function(){this.util.switchTab({url:"/"})},onCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.form.countryCode="+"+t},getVerifyToken:function(e){this.form.token=e.token},handleSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.form,this.verifyData&&(t._verify=this.verifyData),this.form.loading=!0,a=this,setTimeout((function(){a.form.loading=!1}),5e3),e.next=7,this.util.request({url:"/v1/reg_mobile/user/login",data:t,method:"post"});case 7:if(i=e.sent,200!=i.code){e.next=17;break}this.$store.commit("user/setToken",i.data.token),this.$store.commit("user/setUserInfo",i.data.userInfo),this.$refs.sv.close(),this.util.showToast({title:i.msg,icon:"success",duration:2e3}),this.verifyData="",this.util.switchTab({url:"/my"}),e.next=23;break;case 17:if(401003!=i.code){e.next=22;break}return this.$refs.sv.open(i.data.verifyList),e.abrupt("return");case 22:this.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 23:this.form.loading=!1;case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=d,p=(a("3fbc"),a("2877")),f=Object(p["a"])(m,i,s,!1,null,"481d89de",null);t["default"]=f.exports},dde0:function(e,t,a){"use strict";a("781f")},e07c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-at-outline",placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}},[a("template",{slot:"prepend"},[a("vue-country-code",{attrs:{defaultCountry:"China",enabledCountryCode:""},on:{onSelect:e.onCountrySelect}})],1)],2)],1),a("el-form-item",{attrs:{prop:"verify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",account:e.form.mobile,title:"用户注册"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e.$store.state.app.siteInfo.regInvite>0?a("el-form-item",{attrs:{prop:"inviteCode"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邀请码"+e.inviteSuffix},model:{value:e.form.inviteCode,callback:function(t){e.$set(e.form,"inviteCode",t)},expression:"form.inviteCode"}})],1):e._e(),a("div",{staticClass:"agreement"},[a("el-checkbox",{model:{value:e.form.agreement,callback:function(t){e.$set(e.form,"agreement",t)},expression:"form.agreement"}},[e._v("我已阅读并同意")]),a("router-link",{attrs:{to:"/agreement/用户协议"}},[e._v("《"+e._s(e.$store.state.app.siteInfo.title)+"用户协议》")]),e._v("和 "),a("router-link",{attrs:{to:"/agreement/隐私政策"}},[e._v("《"+e._s(e.$store.state.app.siteInfo.title)+"隐私政策》")])],1),a("el-button",{staticClass:"full submit-btn",attrs:{disabled:!e.form.agreement,size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 注册 ")]),a("div",{staticClass:"actions flex"},[a("div"),a("div",[e._v(" 已有账号？ "),a("router-link",{attrs:{to:"/user/login"}},[e._v("登录")])],1)])],1)},s=[],r=a("1da1"),n=(a("96cf"),a("b0c0"),a("160b")),o=a("4167"),l=a.n(o),c={components:{XySendVerify:n["a"],VueCountryCode:l.a},data:function(){return{loading:!1,inviteSuffix:"",form:{countryCode:"+86",mobile:"",password:"",rePassword:"",verify:"",token:"",inviteCode:"",agreement:!1},rule:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){switch(this.$store.state.app.siteInfo.regInvite){case 1:this.inviteSuffix="（可选）";break;case 2:this.inviteSuffix="（必填）";break}this.form.inviteCode=this.$store.state.app.inviteCode},methods:{onCountrySelect:function(e){e.name,e.iso2;var t=e.dialCode;this.form.countryCode="+"+t},getVerifyToken:function(e){this.form.token=e.token},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("app/setData",{key:"inviteCode",value:e.form.inviteCode}),e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=6,e.util.request({url:"/v1/reg_mobile/user/register",data:e.form,method:"post"});case 6:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.$emit("reg-success")):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},u=c,d=a("2877"),m=Object(d["a"])(u,i,s,!1,null,"da028be6",null);t["default"]=m.exports},e0aa:function(e,t,a){},e171:function(e,t,a){},e314:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("div",{staticClass:"back cursor-pointer ts-13",on:{click:function(t){return e.$router.back()}}},[a("i",{staticClass:"xyicon xyicon-left1"}),e._v(" 返回 ")])]),a("div",{staticClass:"box"},[a("div",{staticClass:"content p-t-md"},[a("el-steps",{attrs:{active:e.active,"align-left":""}},[a("el-step",{attrs:{title:"登录密码",description:""}}),a("el-step",{attrs:{title:"验证新邮箱",description:""}}),a("el-step",{attrs:{title:"绑定成功",description:""}})],1),a("div",{staticClass:"step-tabs"},[1==e.active?a("el-form",{ref:"formVerifyPassword",attrs:{"label-position":"left","label-width":"0px"}},[a("div",{staticClass:"m-b-md ts-18 tw4"},[e._v("请输入您的登录密码")]),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"medium",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:e.verifyPassword}},[e._v(" 下一步 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){return e.$router.back()}}},[e._v("暂不修改")])],1)],1):e._e(),2==e.active?a("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"140px",model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"email",label:"请输入邮箱"}},[a("el-input",{attrs:{size:"medium",type:"text",prefix:"ios-at-outline",placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"verify",label:"验证码"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{size:"medium",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}}),a("el-button",{staticClass:"m-l-md",attrs:{type:"primary",size:"medium"}},[a("XySendVerify",{attrs:{url:"/v1/email/verify/send",type:"邮箱",account:e.form.email,title:"手机绑定"},on:{verifysuccess:e.getVerifyToken}})],1)],1)]),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"邮箱绑定"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("div",{staticClass:"m-t-lg"},[a("el-button",{staticClass:"submit-btn primary-linear m-r",attrs:{size:"medium",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确定 ")]),a("el-link",{staticClass:"back ts-14",on:{click:function(t){e.active--}}},[e._v("返回上一步")])],1)],1):e._e(),3==e.active?a("div",[e._m(0),a("div",{staticClass:"m-t-lg"},[a("router-link",{attrs:{to:"/user/login"}},[a("el-button",{staticClass:"primary-linear",attrs:{size:"small",type:"primary",round:""}},[e._v("重新登录")])],1)],1)]):e._e()],1)],1)]),a("div",[a("el-alert",{attrs:{type:"primary"}},[a("span",{staticClass:"ts-14",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"xyicon xyicon-help-o m-r-xs text-primary"}),a("span",[e._v("收不到验证码？")])]),a("div",{staticClass:"lh-2 ts-12 p-l"},[e._v(" 1、网络通讯异常可能会造成邮箱丢失，请重新获取或稍后再试。"),a("br"),e._v(" 2、请核实邮箱邮件是否被拦截，检查垃圾箱。"),a("br"),e._v(" 3、如果邮箱已经停用， 请选择其他验证方式 。"),a("br")])])],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("i",{staticClass:"xyicon xyicon-check3 ts-30 m-r-sm",staticStyle:{color:"#4AC711"}}),a("span",{staticClass:"ts-20 tw4",staticStyle:{color:"#2A2B2E"}},[e._v("绑定邮箱成功。")])])}],r=a("1da1"),n=(a("96cf"),a("160b")),o=a("3a69"),l={mixins:[o["default"]],components:{XySendVerify:n["a"]},data:function(){return{active:1,verifyList:[],loading:!1,form:{email:"",password:"",verify:"",token:"",mobile:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],verify:[{required:!0,message:"请填写验证码",trigger:"blur"}],token:[{required:!0,message:"请发送验证码",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{verifyPassword:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.doVerifyPassword();case 2:a=t.sent,"200"==a.code&&e.active++;case 4:case"end":return t.stop()}}),t)})))()},getVerifyToken:function(e){this.form.token=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/reg_email/user/bind",method:"get"});case 2:a=t.sent,"200"==a.code?e.verifyList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/reg_email/user/bind",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.active++):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},c=l,u=(a("e9d2"),a("2877")),d=Object(u["a"])(c,i,s,!1,null,"4a38e653",null);t["default"]=d.exports},e43a:function(e,t,a){"use strict";a("541c")},e78e:function(e,t,a){"use strict";a("99e1")},e9d2:function(e,t,a){"use strict";a("3e02")},ee6c:function(e,t,a){},ee7f:function(e,t,a){"use strict";a("c51a")},eea6:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header",{attrs:{transparent:!0}}),a("div",{staticClass:"main"},[a("XyBuilderPage",{attrs:{data:e.homeJson}})],1),a("xy-footer")],1)},s=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-wrapper"},[e._l(e.data,(function(t,i){return["banner"==t.type?a("div",{key:i},[a("div",{staticClass:"banner-instalce",style:{height:t.height}},[a("el-carousel",{attrs:{height:t.height,interval:3e4}},e._l(t.lists,(function(i,s){return a("el-carousel-item",{key:s},[a("div",{staticClass:"bg flex pos-a",style:{height:t.height}},[i.background.image?a("img",{staticClass:"bgImg",style:{height:i.height},attrs:{src:i.background.image}}):e._e(),i.bgVideo?a("video",{staticStyle:{width:"100%"},attrs:{"webkit-playsinline":"true",playsinline:"true",src:i.bgVideo.src,autoplay:"autoplay",loop:i.bgVideo.loop}}):e._e()]),a("div",{staticClass:"pos-a container flex space-between flex-alignCenter",style:{height:t.height}},[a("div",{staticClass:"tc-w xs-margin-center"},[a("el-row",{attrs:{type:"flex",justify:"spance-between",align:"middle"}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:11,xl:12}},[a("div",{staticClass:"m-b title"},[e._v(e._s(i.title))]),i.subtitle?a("div",{staticClass:"m-b subtitle"},[e._v(e._s(i.subtitle))]):e._e(),i.description?a("div",{staticClass:"m-b-md description hidden-xs-only"},[e._v(e._s(i.description))]):e._e(),i.actions?a("div",{staticClass:"ts-14"},e._l(i.actions,(function(t,i){return a("el-button",{key:i,attrs:{size:t.size,plain:t.plain,round:t.round,type:t.type},on:{click:function(a){return e.util.navigateTo({url:t.url})}}},[e._v(" "+e._s(t.label)+" ")])})),1):e._e()]),a("el-col",{attrs:{xs:0,sm:0,md:6,lg:8,xl:10}})],1)],1),a("div")])])})),1)],1)]):"slider"==t.type?a("div",{key:i},[a("el-carousel",{attrs:{height:t.height,interval:5e3,arrow:"always"}},[a("el-carousel-item")],1)],1):"session1"==t.type?a("div",{key:i},[a("div",{staticClass:"bg-white"},[a("div",{staticClass:"container"},[a("el-row",{staticStyle:{padding:"50px"},attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{staticStyle:{"text-align":"center","font-size":"20px","margin-bottom":"80px"},attrs:{span:16}},[a("div",{staticStyle:{width:"550px"}},[a("h3",[e._v(e._s(t.title))]),a("p",{staticStyle:{"font-size":"16px"}},[e._v(" "+e._s(t.description)+" ")])])]),a("el-col",{attrs:{span:8}},[a("img",{staticStyle:{height:"200px"},attrs:{src:t.image}})])],1)],1)])]):"session2"==t.type?a("div",{key:i},[a("div",{staticClass:"session2 flex flex-column flex-center flex-alignCenter",style:{height:t.height,background:t.background}},[a("div",{staticClass:"container",style:{color:t.style.color}},[t.title?a("div",{staticClass:"text-center m-b tw5 ts-32"},[e._v(e._s(t.title))]):e._e(),t.description?a("div",{staticClass:"text-center m-b-lg ts-17"},[e._v(e._s(t.description))]):e._e(),t.list?a("el-row",{staticClass:"list flex flex-wrap",attrs:{type:"flex",justify:"center",align:"middle"}},e._l(t.list,(function(t,i){return a("el-col",{key:i,staticClass:"item m-b-md xs-flex xs-flex-alignCenter xs-space-between",attrs:{xs:24,md:8,lg:8}},[a("div",{staticClass:"text-center m-b xs-m-b-0"},[a("img",{style:{borderRadius:t.imageRadius},attrs:{src:t.image?t.image:"https://i.loli.net/2020/07/08/1HlwfyUQ5zjr4Tg.png"}})]),a("div",{staticClass:"p-l p-r flex-1"},[a("div",{staticClass:"title text-center xs-text-left ts-16 tw6 m-b-sm"},[e._v(e._s(t.title))]),t.description?a("div",{staticClass:"title text-center xs-text-left ts-14"},[e._v(e._s(t.description))]):e._e()])])})),1):e._e()],1)])]):"session3"==t.type?a("div",{key:i},[a("div",{staticClass:"session3",style:{height:t.height,background:t.background}},[a("div",{staticClass:"container"},[a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"text-center m-b-md"},[a("div",{staticClass:"text-center m-b tw5 ts-32"},[e._v(e._s(t.title))]),a("p",{staticClass:"ts-18"},[e._v(" "+e._s(t.description)+" ")])])]),a("el-col",{staticClass:"text-center",attrs:{span:24}},[a("img",{staticStyle:{width:"80%"},attrs:{src:t.image.src}})])],1)],1)])]):"session4"==t.type?a("div",{key:i},[a("div",{staticClass:"session4",style:{height:t.height,background:t.background}},[a("div",{staticClass:"container"},[a("div",{staticClass:"text-center"},[a("span",{staticClass:"bg-white button text-primary cursor-pointer ts-20",on:{click:function(a){return e.util.navigateTo({url:t.button.url})}}},[e._v(e._s(t.button.title))])])])])]):e._e()]}))],2)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-three-psv",attrs:{id:"viewer"}})},l=[],c=a("1da1"),u=(a("d3b7"),a("96cf"),{name:"xyThreePsv",props:{item:{},value:{type:[String],default:""},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){return{PSV:null,factoryLink:"",loadedScript:!1,imageLoaded:!1}},watch:{value:function(e){var t=this;this.factoryLink=e,this.loadedScript&&(this.PSV?(this.imageLoaded=!1,this.PSV.setPanorama(this.factoryLink,!0,!0).then((function(){t.imageLoaded=!0}))):this.initPhotoSphere())}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.factoryLink=this.value,e.next=3,this.loadScript();case 3:this.loadedScript=!0,this.initPhotoSphere();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{initPhotoSphere:function(){this.PSV=new PhotoSphereViewer.Viewer({container:document.getElementById("viewer"),panorama:this.factoryLink,navbar:!1,fisheye:!1,autorotateDelay:100,autorotateSpeed:"0.2rpm",moveSpeed:1})},loadScript:function(){var e=this;return new Promise((function(t,a){e.VueLink2.load("https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.min.css").then((function(){})),e.VueScript2.load("https://cdn.jsdelivr.net/npm/uevent@2/browser.min.js").then((function(){})),e.VueScript2.load("https://cdn.jsdelivr.net/npm/three@0.125.2/build/three.min.js").then((function(){e.VueScript2.load("https://cdn.jsdelivr.net/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.js").then((function(){t()}))}))}))}}}),d=u,m=(a("e78e"),a("2877")),p=Object(m["a"])(d,o,l,!1,null,"4362028f",null),f=p.exports,h={name:"XyBuilderPage",components:{"three-psv":f},props:{data:""},data:function(){return{}},created:function(){},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},watch:{},methods:{}},v=h,g=(a("68df"),Object(m["a"])(v,r,n,!1,null,"bcfe0e72",null)),y=g.exports,b={components:{XyBuilderPage:y},data:function(){return{homeJson:[{type:"banner",height:"45vw",lists:[{background:{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/8b787550-440c-49f3-9ef8-645e490455da.jpg",color:"#2b85e4"},title:this.$store.state.app.siteInfo.title+this.$store.state.app.siteInfo.slogan,subTitle:"",description:"为了避免与uni-admin产品名称混淆，特将本框架名称改为uiadmin，避免混淆的同时尽量保留原有记忆。UiAdmin是一套零前端代码通用后台，采用前后端分离技术，数据交互采用json格式；通过后端Builder不需要一行前端代码就能构建一个vue+element的现代化后台；同时我们打造一了套兼容性的API标准，从SpringBoot、ThinkPHP开始，逐步覆盖Furion、eggjs等多语言框架。",actions:[{url:"https://gitee.com/uiadmin",type:"warning",label:"PHP版",size:"medium",plain:!1,round:!0},{url:"https://uiadmin.jiangruyi.com/docs/summer",type:"info",label:"Java版",size:"medium",plain:!1,round:!0},{url:"https://uiadmin.jiangruyi.com/docs/DNAdmin",type:"success",label:".NET版",size:"medium",plain:!1,round:!0}]},{background:{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/c9a99fd7-24a7-4387-8ccf-878787647d94.jpg",color:""},actions:[]}]},{type:"session3",title:"UiAdmin后台预览",description:"整个后台通过我们先进的Builder页面自动生成技术解析json渲染而成",image:{src:"https://cdn.jiangruyi.com/sbase/image/uniadmin/ui4-1.png"}},{type:"session2",style:{color:"#fff"},background:"url(https://web.starideas.net//theme/icms-web/core/public/img/bg27.jpg)",title:"优秀特性",description:"利用下面的优秀特性加速您的开发",list:[{image:"",imageRadius:"50%",title:"模块化",description:"模块作为一个最小功能包，可以被创建、导出、分发、安装。"},{image:"",imageRadius:"50%",title:"Builder构建",description:"基于自主研发的第二代(vue+cloud)Builder页面构建技术可以非常快速高效的构建后台页面，支持list、form、info、tab、stack、excel等。"},{image:"",imageRadius:"50%",title:"跨语言兼容",description:"将来迁移语言非常方便，php、java、python、node、.net等都可以支持，前端更是不限制语言，多个语言支持通过统一的API标准兼容"},{image:"",imageRadius:"50%",title:"权限管理",description:"基于完善的自建权限控制管理、无限父子级权限分组、可自由分配子级权限、一个管理员可同时属于多个组别"},{image:"",imageRadius:"50%",title:"全API开发",description:"前后台全部基于API分离式开发，后台也可以基于API开发客户端，同时拥有双路由机制，也支持前后端不分离传统式开发。"},{image:"",imageRadius:"50%",title:"多平台支持",description:"pc端采用vue等方式实现，手机端采用uni-app技术， 达到一次开发全面覆盖iOS、安卓、微信小程序、支 付宝小程序、百度小程序、头条小程序、H5等平台。"}]},{type:"session2",style:{},title:"为什么选择我们",description:"越来越多的个人和企业都选择了UiAdmin",list:[{image:"https://cdn.jiangruyi.com/sbase/image/s27148761.jpg",imageRadius:"50%",title:"开源免费",description:"无需授权即可商业使用，代码开源免费。"},{image:"https://cdn.jiangruyi.com/sbase/image/120.jpg",imageRadius:"50%",title:"开发快捷",description:"基于自主研发的模块化技术、第二代前后端分离Builder可以非常快速的开发出您的应用。"},{image:"https://cdn.jiangruyi.com/sbase/image/earth.jpg",imageRadius:"50%",title:"生态良好",description:"立足PHP、全面兼容java/.net/nodejs等其他语言，社区小伙伴都非常热心的互相帮助。"}]},{type:"session2",style:{},background:"#ddd",list:[{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/7504dbc0-62fe-11eb-8a36-ebb87efcf8c0.jpg",imageRadius:"50%",description:"UiAdmin帮助我们节省了大量开发成本，项目顺利上线！"},{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/c4b42e50-62fe-11eb-8d54-21c4ca4ce5d7.jpg",imageRadius:"50%",description:"UiAdmin的API接口文档后台填写，自动生成前端开发用的文档功能真的解放了生产力很好用。"},{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/c39d8e30-62fe-11eb-8d54-21c4ca4ce5d7.jpg",imageRadius:"50%",description:"UiAdmin的动态页面Builder技术很好用，只要一个人就能完成后台所有工作！"}]},{type:"session4",style:{},background:"#2b85e4 url(https://cdn.jiangruyi.com/sbase/image/bg-dot.png) no-repeat 50% 50%",button:{title:"立即体验",url:"https://gitee.com/jry/uiadmin"}}]}},created:function(){},methods:{}},x=b,w=(a("773b"),Object(m["a"])(x,i,s,!1,null,"fae067fc",null));t["default"]=w.exports},f05c:function(e,t,a){"use strict";a.r(t);var i,s,r=a("2877"),n={},o=Object(r["a"])(n,i,s,!1,null,null,null);t["default"]=o.exports},f072:function(e,t,a){"use strict";a("2fd7")},f0c7:function(e,t,a){"use strict";a("b493")},f60d:function(e,t,a){"use strict";a("6806")},f651:function(e,t,a){},f6a4:function(e,t,a){},f715:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"8%"}},[a("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{staticClass:"login-box bg-white",attrs:{xs:22,sm:12,md:10,lg:10}},[a("div",{staticClass:"title"},[e._v(" 设置资金密码 ")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{prop:"paypwd"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位支付密码"},model:{value:e.form.paypwd,callback:function(t){e.$set(e.form,"paypwd",t)},expression:"form.paypwd"}})],1),e.verifyList.indexOf("email")>=0?a("el-form-item",{attrs:{prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"设置资金密码"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("mobile")>=0?a("el-form-item",{attrs:{prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"设置资金密码"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),e.verifyList.indexOf("gauth")>=0?a("el-form-item",{attrs:{prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),e.verifyList.indexOf("password")>=0?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确认 ")])],1)],1)],1)],1)]),a("xy-footer")],1)},s=[],r=a("1da1"),n=(a("96cf"),a("160b")),o={components:{XySendVerify:n["a"]},data:function(){return{verifyList:[],loading:!1,form:{paypwd:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{paypwd:[{required:!0,message:"请填写支付密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/paypwd/pwd/set",method:"get"});case 2:a=t.sent,"200"==a.code?e.verifyList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=5,e.util.request({url:"/v1/paypwd/pwd/set",data:e.form,method:"post"});case 5:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.util.navigateBack()):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,s,!1,null,"142795b0",null);t["default"]=u.exports},f907:function(e,t,a){"use strict";a("dc01")},f9d3:function(e,t,a){},f9f3:function(e,t,a){},fa03:function(e,t,a){"use strict";a("190a")},fcbb:function(e,t,a){},fe03:function(e,t,a){},fecd:function(e,t,a){}}]);