(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e41358c"],{"6d45":function(t,e,s){"use strict";var a=s("ae87"),i=s.n(a);i.a},7714:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("xy-header"),s("div",{staticClass:"main p-t"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container",attrs:{"element-loading-text":"拼命加载中"}},[s("el-row",{staticClass:"flex flex-wrap m-b-sm",attrs:{type:"flex",gutter:25}},[s("el-col",{attrs:{xs:24,md:8,lg:6}},[s("img",{staticClass:"cover",attrs:{src:t.info.cover,alt:t.info.title}})]),s("el-col",{attrs:{xs:24,md:16,lg:18}},[s("div",{staticClass:"flex space-between flex-alignCenter"},[s("h1",{staticClass:"title ts-28"},[t._v(t._s(t.info.title))]),s("div",{staticClass:"ts-16"},[s("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.actionClick(t.id,"ext_addon",1)}}},[s("i",{staticClass:"xyicon xyicon-zan ts-14"}),t._v(" 点赞 ")]),s("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(e){return t.actionClick(t.id,"ext_addon",2)}}},[s("i",{staticClass:"xyicon xyicon-heart ts-14"}),t._v(" 收藏 ")])],1)]),s("div",{staticClass:"m-b-sm ts-14"},[t._v("更新日期："+t._s(t._f("formatTime")(t.info.updateTime)))]),s("div",{staticClass:"m-b-sm"},["0.00"!=t.info.price?s("div",{staticClass:"subtitle text-error ts-14"},[t._v("￥"+t._s(t.info.price))]):s("div",{staticClass:"subtitle text-success ts-14"},[t._v("免费")])]),t.info.collecting?s("div",{staticClass:"text-error ts-13"},[t._v(" 本插件征集开发者中，获得通过的开发者将拥有插件优先展示的权力，详情请加交流群。 ")]):t._e()])],1),s("el-card",{staticStyle:{"min-height":"400px"},attrs:{shadow:"none"}},[s("div",{staticClass:"flex space-between ts-16",attrs:{slot:"header"},slot:"header"},[s("div",[s("span",{staticClass:"tw6 ts-18"},[t._v("介绍")])]),s("div",[t.info.uid==t.$store.state.user.userInfo.id?s("span",{staticClass:"cursor-pointer ts-14",on:{click:function(e){t.item.pageData.show=!0}}},[t._v("修改")]):t._e()])]),s("div",{staticClass:"ts-16",domProps:{innerHTML:t._s(t.info.content)}})]),s("div",{staticClass:"m-t-sm"},[s("comment-lists",{attrs:{title:"回复",urlPrefix:"/ext",showReplyForm:t.showReplyForm,dataId:t.id,dataModel:"ext_addon"},on:{"update:showReplyForm":function(e){t.showReplyForm=e},"update:show-reply-form":function(e){t.showReplyForm=e}}})],1)],1)]),s("el-dialog",{staticClass:"ts-16",attrs:{title:"修改插件",visible:t.item.pageData.show,width:"70%"},on:{"update:visible":function(e){return t.$set(t.item.pageData,"show",e)}}},[s("XyBuilderForm",{attrs:{api:"/v1/ext/addon/edit/"+this.id,show:t.item.pageData.show,pitem:t.item},on:{close:function(e){return t.closeModel(t.item,e)}}})],1),s("xy-footer")],1)},i=[],n=(s("d3b7"),s("96cf"),s("1da1")),o=s("7e25"),r={components:{"comment-lists":o["a"]},data:function(){return{id:0,info:{title:"",content:""},item:{pageData:{show:!1}},loading:!1,showReplyForm:!1}},beforeCreate:function(){this.$options.components.XyBuilderForm=function(){return s.e("chunk-bee8638a").then(s.bind(null,"4d99"))}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(t,e){this.id=this.$route.params.id,this.loadData()}},methods:{closeModel:function(t,e){this.item.pageData.show=!1,e&&this.loadData()},actionClick:function(t,e,s){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,a.util.request({url:"/v1/action/action/set",data:{dataId:t,dataModel:e,actionType:s},method:"post"});case 2:n=i.sent,200==n.code?a.util.showToast({title:n.msg,icon:"success",duration:2e3}):a.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 4:case"end":return i.stop()}}),i)})))()},loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.util.request({url:"/v1/ext/addon/info/"+t.id,data:{},method:"get"});case 3:s=e.sent,200==s.code?t.info=s.data.info:t.util.showToast({title:s.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}},l=r,c=(s("6d45"),s("2877")),d=Object(c["a"])(l,a,i,!1,null,"7e149dff",null);e["default"]=d.exports},ae87:function(t,e,s){}}]);