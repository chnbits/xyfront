(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df4483ea"],{7271:function(t,e,i){},7714:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("xy-header"),i("div",{staticClass:"main p-t"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container",attrs:{"element-loading-text":"拼命加载中"}},[i("el-row",{staticClass:"flex flex-wrap m-b-sm",attrs:{type:"flex",gutter:25}},[i("el-col",{attrs:{xs:24,md:8,lg:6}},[i("img",{staticClass:"cover",attrs:{src:t.info.cover,alt:t.info.title}})]),i("el-col",{attrs:{xs:24,md:16,lg:18}},[i("div",{staticClass:"flex space-between flex-alignCenter"},[i("h1",{staticClass:"title ts-28"},[t._v(t._s(t.info.title))]),i("div",[i("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.actionClick(t.id,"ext_addon",1)}}},[i("i",{staticClass:"xyicon xyicon-zan ts-14"}),t._v(" 点赞 ")]),i("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(e){return t.actionClick(t.id,"ext_addon",2)}}},[i("i",{staticClass:"xyicon xyicon-heart ts-14"}),t._v(" 收藏 ")])],1)]),i("div",{staticClass:"m-b-sm"},[t._v("更新日期："+t._s(t._f("formatTime")(t.info.updateTime)))]),i("div",{staticClass:"m-b-sm"},["0.00"!=t.info.price?i("div",{staticClass:"subtitle text-error ts-14"},[t._v("￥"+t._s(t.info.price))]):i("div",{staticClass:"subtitle text-success ts-14"},[t._v("免费")])]),t.info.collecting?i("div",{staticClass:"text-error ts-13"},[t._v(" 本插件征集开发者中，获得通过的开发者将拥有插件优先展示的权力，详情请加交流群。 ")]):t._e()])],1),i("el-card",{staticStyle:{"min-height":"400px"},attrs:{shadow:"none"}},[i("div",{staticClass:"flex space-between",attrs:{slot:"header"},slot:"header"},[i("div",[i("span",{staticClass:"tw6"},[t._v("介绍")])]),i("div",[t.info.uid==t.$store.state.user.userInfo.id?i("span",{staticClass:"cursor-pointer ts-14",on:{click:function(e){t.item.pageData.show=!0}}},[t._v("修改")]):t._e()])]),i("div",{domProps:{innerHTML:t._s(t.info.content)}})]),i("div",{staticClass:"m-t-sm"},[i("comment-lists",{attrs:{title:"回复",urlPrefix:"/ext",showReplyForm:t.showReplyForm,dataId:t.id,dataModel:"ext_addon"},on:{"update:showReplyForm":function(e){t.showReplyForm=e},"update:show-reply-form":function(e){t.showReplyForm=e}}})],1)],1)]),i("el-dialog",{attrs:{title:"修改插件",visible:t.item.pageData.show,width:"70%"},on:{"update:visible":function(e){return t.$set(t.item.pageData,"show",e)}}},[i("XyBuilderForm",{attrs:{api:"/v1/ext/addon/edit/"+this.id,show:t.item.pageData.show,pitem:t.item},on:{close:function(e){return t.closeModel(t.item,e)}}})],1),i("xy-footer")],1)},s=[],n=(i("d3b7"),i("96cf"),i("1da1")),o=i("7e25"),r={components:{"comment-lists":o["a"]},data:function(){return{id:0,info:{title:"",content:""},item:{pageData:{show:!1}},loading:!1,showReplyForm:!1}},beforeCreate:function(){this.$options.components.XyBuilderForm=function(){return i.e("chunk-0c63b111").then(i.bind(null,"4d99"))}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(t,e){this.id=this.$route.params.id,this.loadData()}},methods:{closeModel:function(t,e){this.item.pageData.show=!1,e&&this.loadData()},actionClick:function(t,e,i){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,a.util.request({url:"/v1/action/action/set",data:{dataId:t,dataModel:e,actionType:i},method:"post"});case 2:n=s.sent,200==n.code?a.util.showToast({title:n.msg,icon:"success",duration:2e3}):a.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 4:case"end":return s.stop()}}),s)})))()},loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.util.request({url:"/v1/ext/addon/info/"+t.id,data:{},method:"get"});case 3:i=e.sent,200==i.code?t.info=i.data.info:t.util.showToast({title:i.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}},l=r,c=(i("d5dc"),i("2877")),d=Object(c["a"])(l,a,s,!1,null,"463fafdd",null);e["default"]=d.exports},d5dc:function(t,e,i){"use strict";var a=i("7271"),s=i.n(a);s.a}}]);