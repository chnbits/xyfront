(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b24430b2"],{b0c0:function(e,t,a){var r=a("83ab"),n=a("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,l="name";!r||l in i||n(i,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},d0f3:function(e,t,a){"use strict";a.r(t),a("b0c0"),a("96cf");var r=a("1da1");Vue.component(VueQrcode.name,VueQrcode);var n={data:function(){return{tab:"my",rechargeVisible:!1,rechargeInfo:[{walletAddress:""}],rechargeInfoKey:0,widthdrawVisible:!1,widthdrawAddress:"",widthdrawMemo:"",widthdrawAmount:"",widthdrawFee:"",widthdrawRealAmount:"",coinInfo:{},navList:[{index:"my",title:"我的资产"},{index:"recharge",title:"充值记录"},{index:"withdraw",title:"提现记录"},{index:"bill",title:"我的账单"}],dataList:[]}},created:function(){this.loadData()},methods:{copySuccess:function(){alert("拷贝成功")},widthdraw:function(e,t){var a=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.widthdrawVisible=!0,a.coinInfo=t,r.next=4,a.util.request({url:"/v1/coin/address/recharge/"+e,method:"get"});case 4:200==(n=r.sent).code?a.rechargeInfo=n.data.dataList:a.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 6:case"end":return r.stop()}}),r)})))()},widthdrawChange:function(e){this.widthdrawFee=this.coinInfo.extendList[this.rechargeInfo[this.rechargeInfoKey].pcoinId].widthdrawFee,this.widthdrawRealAmount=math.round(math.subtract(math.bignumber(e),math.bignumber(this.widthdrawFee)),this.coinInfo.decimals),this.widthdrawRealAmount<0&&alert("提现金额太小")},rechage:function(e,t){var a=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.rechargeVisible=!0,a.coinInfo=t,r.next=4,a.util.request({url:"/v1/coin/address/recharge/"+e,method:"get"});case 4:200==(n=r.sent).code?a.rechargeInfo=n.data.dataList:a.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 6:case"end":return r.stop()}}),r)})))()},handleClick:function(e){switch(e){case"my":this.util.navigateTo({url:"/coin/my"});break;case"bill":this.util.navigateTo({url:"/coin/bill"});break;case"recharge":this.util.navigateTo({url:"/coin/bill/recharge"});break;case"withdraw":this.util.navigateTo({url:"/coin/bill/withdraw"})}},loadData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/coin/balance/my",method:"get"});case 2:200==(a=t.sent).code?e.dataList=a.data.dataList:e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()}}},i=a("2877"),o=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("script2",{attrs:{src:"https://cdn.jsdelivr.net/npm/mathjs@6.2.5/dist/math.min.js"}}),a("xy-header"),a("div",{staticClass:"main"},[a("xy-subnav",{attrs:{title:"我的资产",value:"my",navList:e.navList},on:{change:e.handleClick}}),a("div",{staticClass:"container p-t"},[a("el-table",{staticClass:"m-t-xs",staticStyle:{width:"100%"},attrs:{data:e.dataList}},[a("el-table-column",{attrs:{prop:"id",label:"币种",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"font-sm"},[e._v(e._s(t.row.coinInfo.symbol))])]}}])}),a("el-table-column",{attrs:{prop:"sum",label:"总额",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.total))])]}}])}),a("el-table-column",{attrs:{prop:"balance",label:"可用资产",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.balance))])]}}])}),a("el-table-column",{attrs:{prop:"balanceFrozen",label:"冻结资产"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.balanceFrozen))])]}}])}),a("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){return e.rechage(t.row.coinId,t.row.coinInfo)}}},[e._v("充值")]),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){return e.widthdraw(t.row.coinId,t.row.coinInfo)}}},[e._v("提现")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"充值"+e.coinInfo.symbol,width:"500px",visible:e.rechargeVisible},on:{"update:visible":function(t){e.rechargeVisible=t}}},[0<e.rechargeInfo.length?a("div",{staticClass:"m-b"},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.rechargeInfoKey,callback:function(t){e.rechargeInfoKey=t},expression:"rechargeInfoKey"}},e._l(e.rechargeInfo,(function(t,r){return a("el-radio",{key:r,attrs:{label:r,border:""}},[e._v(e._s(t.pcoinProtocol))])})),1)],1):e._e(),a("div",[e._v(e._s(e.coinInfo.symbol)+"充值地址: ")]),a("div",{staticClass:"m-b"},[a("qrcode",{attrs:{value:e.rechargeInfo[e.rechargeInfoKey].walletAddress,options:{width:120}}})],1),a("div",{staticClass:"m-b"},[a("el-input",{model:{value:e.rechargeInfo[e.rechargeInfoKey].walletAddress,callback:function(t){e.$set(e.rechargeInfo[e.rechargeInfoKey],"walletAddress",t)},expression:"rechargeInfo[rechargeInfoKey].walletAddress"}},[a("div",{staticClass:"text-default p-r-sm",staticStyle:{"font-weight":"500","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.rechargeInfo[e.rechargeInfoKey].walletAddress,expression:"rechargeInfo[rechargeInfoKey].walletAddress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copySuccess,expression:"copySuccess",arg:"success"}],staticClass:"text-primary"},[e._v("复制地址")])])])],1),a("div",{staticClass:"tip font-sm"},[e._v(" ·禁止向"+e._s(e.coinInfo.symbol)+"地址充值除"+e._s(e.coinInfo.symbol)+"之外的资产， 任何充入"+e._s(e.coinInfo.symbol)+"地址的非"+e._s(e.coinInfo.symbol)+"资产将不可找回。"),a("br"),e._v(" ·使用"+e._s(e.coinInfo.symbol)+"地址充值需要一定数量网络确认才能到账。"),a("br"),e._v(" ·充值完成后,您可以进入充值记录页面跟踪进度"),a("br")])]),a("el-dialog",{attrs:{title:"提现"+e.coinInfo.symbol,width:"500px",visible:e.widthdrawVisible},on:{"update:visible":function(t){e.widthdrawVisible=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"链名称"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.rechargeInfoKey,callback:function(t){e.rechargeInfoKey=t},expression:"rechargeInfoKey"}},e._l(e.rechargeInfo,(function(t,r){return a("el-radio",{key:r,attrs:{label:r,border:""}},[e._v(e._s(t.pcoinProtocol))])})),1)],1),a("el-form-item",{attrs:{label:e.coinInfo.symbol+"提现地址"}},[a("el-input",{attrs:{placeholder:"请输入"+e.coinInfo.symbol+"提现地址"},model:{value:e.widthdrawAddress,callback:function(t){e.widthdrawAddress=t},expression:"widthdrawAddress"}})],1),a("el-form-item",{attrs:{label:"备注（必填）"}},[a("el-input",{attrs:{placeholder:"设置备注"},model:{value:e.widthdrawMemo,callback:function(t){e.widthdrawMemo=t},expression:"widthdrawMemo"}})],1),a("el-form-item",{attrs:{label:"提现数量"}},[a("el-input",{on:{input:e.widthdrawChange},model:{value:e.widthdrawAmount,callback:function(t){e.widthdrawAmount=t},expression:"widthdrawAmount"}},[a("div",{staticClass:"text-default p-r-sm",staticStyle:{"font-weight":"500","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[a("span",{staticClass:"text-primary"},[e._v("全部")])])])],1),a("el-form-item",{attrs:{label:""}},[a("span",[e._v("手续费: "+e._s(e.widthdrawFee)+" 实到金额: "+e._s(e.widthdrawRealAmount))]),a("el-button",{staticClass:"full",attrs:{type:"primary"}},[e._v("提现")])],1)],1),a("div",{staticClass:"tip font-sm"},[e._v(" ·禁止向非"+e._s(e.coinInfo.symbol)+"地址提现除"+e._s(e.coinInfo.symbol)+"之外的资产， 任何提现到非"+e._s(e.coinInfo.symbol)+"地址的资产将不可找回。"),a("br"),e._v(" ·提现需要经过系统审核和区块链网络确认"),a("br"),e._v(" ·您可以在 提现记录 页面跟踪状态"),a("br")])],1)],1),a("xy-footer")],1)}),[],!1,null,"02c6e2c6",null);t.default=o.exports}}]);