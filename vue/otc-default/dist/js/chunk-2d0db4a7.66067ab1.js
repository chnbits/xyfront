(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0db4a7"],{"6edf":function(t,e,a){"use strict";a.r(e),a("96cf");var s=a("1da1"),o={data:function(){return{tab:"ing",navList:[{index:"my",title:"我的广告"},{index:"myOrder",title:"商家订单"}],dataList:[],dataList2:[]}},created:function(){this.loadData()},methods:{handleSubNav:function(t){switch(t){case"my":this.util.navigateTo({url:"/otc/ad/my"});break;case"myOrder":this.util.navigateTo({url:"/otc/ad/myOrder"})}},handleClick:function(){switch(this.tab){case"ing":this.loadData("0,1");break;case"done":this.loadData("-1,2")}},cancel:function(t,e){var a=this;return Object(s.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a.$confirm("确认要取消该广告吗，操作无法恢复，如果您误操作，您需要自己承担损失。","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s.a)(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.util.request({url:"/v1/coin_otc/ad/cancel/"+e,method:"put"});case 2:200==(o=s.sent).code?(a.util.showToast({title:o.msg,icon:"success",duration:1e3}),a.dataList[t].state=-1):a.util.showToast({title:o.msg,icon:"loading",duration:3e3});case 4:case"end":return s.stop()}}),s)})))).catch((function(){}));case 1:case"end":return o.stop()}}),o)})))()},loadData:function(){var t=arguments,e=this;return Object(s.a)(regeneratorRuntime.mark((function a(){var s,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=0<t.length&&void 0!==t[0]?t[0]:"0,1",a.next=3,e.util.request({url:"/v1/coin_otc/ad/my",data:{state:s},method:"get"});case 3:200==(o=a.sent).code?"0,1"==s?e.dataList=o.data.dataList:"-1,2"==s&&(e.dataList2=o.data.dataList):e.util.showToast({title:o.msg,icon:"loading",duration:3e3});case 5:case"end":return a.stop()}}),a)})))()}}},n=a("2877"),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("xy-subnav",{attrs:{title:"广告管理",value:"my",navList:t.navList},on:{change:t.handleSubNav}}),a("div",{staticClass:"container p-t"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{label:"进行中",name:"ing"}},[a("el-table",{staticClass:"m-t-xs",staticStyle:{width:"100%"},attrs:{data:t.dataList}},[a("el-table-column",{attrs:{prop:"id",label:"编号/时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.id))]),a("div",{staticClass:"font-sm"},[t._v(t._s(t._f("formatTime")(e.row.createTime)))])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],staticStyle:{color:"#09C69D"}},[t._v("购买")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.row.type,expression:"scope.row.type == 2"}],staticStyle:{color:"#FF4C4C"}},[t._v("出售")])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"币种",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.coinInfo.symbol))])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"price"},[t._v(t._s(e.row.price))]),a("span",{staticClass:"price m-l-sm"},[t._v("CNY")])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"已成交/总数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tradeAmount))]),t._v(" / "),a("span",{staticClass:"m-l-sm"},[t._v(t._s(e.row.amount))])]}}])}),a("el-table-column",{attrs:{prop:"paytype",label:"付款方式"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.alipay,expression:"scope.row.alipay"}],staticClass:"xyicon xyicon-alipay m-r-xs",staticStyle:{color:"#4C88FE"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.wxpay,expression:"scope.row.wxpay"}],staticClass:"xyicon xyicon-wxpay m-r-xs",staticStyle:{color:"#00C901"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.bank,expression:"scope.row.bank"}],staticClass:"xyicon xyicon-card",staticStyle:{color:"#F7BA2A"}})]}}])}),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#F6964E"}},[t._v(t._s(e.row.stateFormat.title))])]}}])}),a("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.state||1==e.row.state?a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return t.cancel(e.$index,e.row.id)}}},[t._v("下架")]):t._e()]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"已完成",name:"done"}},[a("el-table",{staticClass:"m-t-xs",staticStyle:{width:"100%"},attrs:{data:t.dataList2}},[a("el-table-column",{attrs:{prop:"id",label:"编号/时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.id))]),a("div",{staticClass:"font-sm"},[t._v(t._s(t._f("formatTime")(e.row.createTime)))])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],staticStyle:{color:"#09C69D"}},[t._v("购买")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.row.type,expression:"scope.row.type == 2"}],staticStyle:{color:"#FF4C4C"}},[t._v("出售")])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"币种",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.coinInfo.symbol))])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"price"},[t._v(t._s(e.row.price))]),a("span",{staticClass:"price m-l-sm"},[t._v("CNY")])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"已成交/总数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tradeAmount))]),t._v(" / "),a("span",{staticClass:"m-l-sm"},[t._v(t._s(e.row.amount))])]}}])}),a("el-table-column",{attrs:{prop:"paytype",label:"付款方式"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.alipay,expression:"scope.row.alipay"}],staticClass:"xyicon xyicon-alipay m-r-xs",staticStyle:{color:"#4C88FE"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.wxpay,expression:"scope.row.wxpay"}],staticClass:"xyicon xyicon-wxpay m-r-xs",staticStyle:{color:"#00C901"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.bank,expression:"scope.row.bank"}],staticClass:"xyicon xyicon-card",staticStyle:{color:"#F7BA2A"}})]}}])}),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"color:rgba(0,0,0,0.3)"}},[t._v(t._s(e.row.stateFormat.title))])]}}])}),a("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(t){}}])})],1)],1)],1)],1)],1),a("xy-footer")],1)}),[],!1,null,"088750f7",null);e.default=r.exports}}]);