(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7634c298"],{1169:function(e,t,a){var i=a("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"15d7":function(e,t,a){"use strict";var i=a("e55c");a.n(i).a},"1c4c":function(e,t,a){"use strict";var i=a("9b43"),r=a("5ca1"),n=a("4bf8"),s=a("1fa8"),o=a("33a4"),l=a("9def"),m=a("f1ae"),u=a("27ee");r(r.S+r.F*!a("5cc5")((function(e){Array.from(e)})),"Array",{from:function(e,t,a){var r,c,d,f,p=n(e),h="function"==typeof this?this:Array,y=arguments.length,b=1<y?t:void 0,v=void 0!==b,g=0,x=u(p);if(v&&(b=i(b,2<y?a:void 0,2)),null==x||h==Array&&o(x))for(c=new h(r=l(p.length));g<r;g++)m(c,g,v?b(p[g],g):p[g]);else for(f=x.call(p),c=new h;!(d=f.next()).done;g++)m(c,g,v?s(f,b,[d.value,g],!0):d.value);return c.length=g,c}})},"30cc":function(e,t,a){"use strict";a.r(t),a("96cf");var i=a("1da1"),r=(a("c276"),a("386d"),a("7f7f"),a("ac6a"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("4328")),n=a.n(r),s=(a("4f9f"),{name:"Upload",props:{item:{},value:{type:[Array,String],default:[]},uploadType:{type:String,default:"image"},img:{value:"",title:""},token:"",cloudId:0,eid:0},data:function(){return{uploadName:"file",header:{},fileList:[],limit:1}},created:function(){this.header={Authorization:this.token},this.item.extra.limit&&(this.limit=this.item.extra.limit),"string"==typeof this.value?""==this.value?this.fileList=[]:this.fileList=[{name:this.item.name,url:this.value}]:this.fileList=this.value},beforeMount:function(){},methods:{handleExceed:function(){this.$message.warning("最多上传"+this.limit+"个文件")},handleSuccess:function(e,t,a){"upload_oss"==this.item.extra.driver?t.url=this.item.extra.data.host+"/"+this.item.extra.data.key:"upload_smms"==this.item.extra.driver?"success"==e.code?t.url=e.data.url:this.$message({message:e.message,type:"warning"}):200==e.code?t.url=e.data.url:this.$message({message:e.msg,type:"warning"}),this.fileList=a,1==this.limit?this.$emit("input",a[0].url):this.$emit("input",a)},handleRemove:function(e){this.fileList.splice(this.fileList.indexOf(e),1),1==this.limit?this.$emit("input",""):this.$emit("input",this.fileList),this.fileList},handleBeforeUpload:function(e){var t=this,a=this.item.extra.maxSize?this.item.extra.maxSize:512;return e.size/1024>a?(this.$message({message:"上传文件大小不能超过 "+a+"KB!",type:"warning"}),!1):"upload_oss"==t.item.extra.driver?new Promise(function(){var a=Object(i.a)(regeneratorRuntime.mark((function a(i,r){var n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:t.cloudId,Eid:t.eid}});case 2:200==(n=a.sent).code?(t.item.extra.action=n.data.params.host,n.data.params.key=n.data.params.key+e.name,t.item.extra.data=n.data.params,i()):t.$message({message:n.msg,type:"warning"});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()):"upload_smms"==t.item.extra.driver?new Promise(function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(a,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.header={Authorization:"R7aVy1OLZJ1pMgWyjBkdOz9Dyh7nSFm2"},t.uploadName="smfile",t.item.extra.action="https://sm.ms/api/v2/upload",t.item.extra.data={format:"json"},a();case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()):void 0}},watch:{}}),o=(a("cfc2"),a("2877")),l=Object(o.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-box",class:e.fileList.length>=e.limit?"hidden-up-btn":""},[a("el-upload",{directives:[{name:"show",rawName:"v-show",value:""==e.value,expression:"value == ''"}],ref:"upload_"+e.item.name,class:e.item.extra.full&&"image"==e.uploadType?"full":"",attrs:{drag:!0,"show-file-list":!0,"list-type":"picture",headers:e.header,limit:e.limit,"file-list":e.fileList,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"on-remove":e.handleRemove,"before-upload":e.handleBeforeUpload,data:e.item.extra.data,name:e.uploadName,type:"drag",action:e.item.extra.action}},[e.fileList.length>=e.limit&&1==e.limit&&"image"==e.uploadType?[a("img",{attrs:{src:e.fileList[0].url}})]:[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"font-sm gray"},[e._v(e._s(e.item.extra.tip?e.item.extra.tip:"只能上传jpg/png文件，且不超过500kb"))])],a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})],2),""!==e.img.title?a("div",{staticStyle:{"text-align":"center"}},[e._v("\n      "+e._s(e.img.title)+"\n  ")]):e._e()],1)}),[],!1,null,"617e91b0",null).exports;function m(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var c,d,f,p,h,y,b,v={name:"XyBuilderFormItem",components:{XyBuilderFormImage:l,XyBuilderFormImages:l},props:{prop:"",cloudId:0,eid:0,item:{},formValues:{},formRules:{}},data:function(){var e=this;return{token:"",previewImageVisible:!1,previewImageUrl:"",cascaderProps:{lazy:!0,lazyLoad:function(t,a){t.level,setTimeout(Object(i.a)(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.util.request({url:e.item.extra.action,data:{value:t.value},method:"get"});case 2:200==(r=i.sent).code?(nodes=r.data.dataList,a(nodes)):e.util.showToast({title:r.msg,icon:"loading",duration:3e3});case 4:case"end":return i.stop()}}),i)}))),2e3)}}}},beforeCreate:function(){},created:function(){switch(this.token=this.$store.state.user.token,this.item.type){case"radio":break;case"imageflex":if(formValues[this.item.name].constructor!==Object){var e,t={},a=m(this.item.extra.options);try{for(a.s();!(e=a.n()).done;)t[e.value.value]=""}catch(e){a.e(e)}finally{a.f()}formValues[this.item.name]=t}break;case"datepicker":this.formValues[this.item.name]=this.util.formatDate(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimepicker":this.formValues[this.item.name]=this.util.formatDate(this.formValues[this.item.name],"yyyy-MM-dd HH:mm");break;case"daterangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd");break;case"datetimerangepicker":this.formValues[this.item.name]=this.formatDates(this.formValues[this.item.name],"yyyy-MM-dd HH:mm")}},beforeMount:function(){},mounted:function(){},methods:{rightButtonModal:(d=Object(i.a)(regeneratorRuntime.mark((function e(t){var a,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.extra,r=i="",e.t0=a.pageData.modalType,e.next="list"===e.t0?6:9;break;case 6:case 9:return a.pageData.apiBlank=a.pageData.api+i+"?"+n.a.stringify(r),a.pageData.show=!0,e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),filePickerCallback:function(e){var t=document.createElement("input");t.setAttribute("type","file"),t.onchange=function(){var t,a=this.files[0],i=new FormData;i.append("files",a),(t=new XMLHttpRequest).withCredentials=!1,t.open("POST",this.item.extra.action),xht.setRequestHeader("Authorization",this.token),t.onload=function(){var a;200==t.status?(a=JSON.parse(t.responseText))&&"string"==typeof a.location?e(a.data.url):failure("Invalid JSON: "+t.responseText):failure("HTTP Error: "+t.status)},t.send(i)}},imagesUploadHandler:(c=Object(i.a)(regeneratorRuntime.mark((function e(t,a,i){var r,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,(r=new XMLHttpRequest).withCredentials=!1,"upload_oss"==this.item.extra.driver)return e.next=6,this.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});e.next=10;break;case 6:200==(s=e.sent).code?(this.item.extra.action=s.data.params.host,s.data.params.key=s.data.params.key+Date.parse(new Date)/1e3+t.filename(),this.item.extra.data=s.data.params,r.open("POST",this.item.extra.action),n.append("key",this.item.extra.data.key),n.append("policy",this.item.extra.data.policy),n.append("OSSAccessKeyId",this.item.extra.data.OSSAccessKeyId),n.append("success_action_status",this.item.extra.data.success_action_status),n.append("signature",this.item.extra.data.signature),n.append("host",this.item.extra.data.host),n.append("expire",this.item.extra.data.expire),n.append("file",t.blob(),t.filename()),r.onload=function(){var e;200==r.status?(e=s.data.params.host+"/"+s.data.params.key,a(e)):i("HTTP Error: "+r.status)},r.send(n)):this.$Notice.warning({title:s.msg}),e.next=11;break;case 10:"upload_smms"==this.item.extra.driver?(this.item.extra.action="https://sm.ms/api/v2/upload",this.item.extra.data={format:"json"},r.open("POST",this.item.extra.action),r.setRequestHeader("Authorization","R7aVy1OLZJ1pMgWyjBkdOz9Dyh7nSFm2"),n.append("smfile",t.blob(),t.filename()),n.append("format",this.item.extra.data.format),r.onload=function(){var e;200==r.status?"success"==(e=JSON.parse(r.responseText)).code?a(e.data.url):i(e.message):i("HTTP Error: "+r.status)}):(r.open("POST",this.item.extra.action),r.setRequestHeader("Authorization",this.token),n.append("file",t.blob(),t.filename()),r.onload=function(){var e;200==r.status?(e=JSON.parse(r.responseText))&&"string"==typeof e.data.url?a(e.data.url):i("Invalid JSON: "+r.responseText):i("HTTP Error: "+r.status)}),r.send(n);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,a){return c.apply(this,arguments)}),handleView:function(e){this.previewImageUrl=e,this.previewImageVisible=!0},formlistAddrow:function(e){this.formValues[e].push(new Object)},formlistDelrow:function(e,t){this.formValues[e].splice(t,1)},getChecked:function(e){return this.$refs["checkboxtree_"+this.item.name].getCheckedProp(e)},formatDates:function(e,t){return[this.util.formatDate(e[0],t),this.util.formatDate(e[1],t)]}},watch:{item:function(){}}},g={name:"XyBuilderForm",components:{XyBuilderformItem:Object(o.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["tabs"==e.item.type?[a("el-tabs",{attrs:{value:e.item.extra.options[0].name,animated:!1}},[e._l(e.item.extra.options,(function(t,i){return[a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[e._l(t.options,(function(i,r){return[""!=e.formRules[i.name]?[a("XyBuilderFormItem",{key:r,ref:"formitemtab_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formValues,cloudId:e.cloudId,eid:e.eid,prop:e.item.name}})]:[a("XyBuilderformItem",{key:r,ref:"formitemtab_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formValues,cloudId:e.cloudId,eid:e.eid}})]]}))],2)]}))],2)]:a("el-form-item",{attrs:{label:e.item.title,prop:e.prop}},["divider"==e.item.type?[a("el-divider")]:"static"==e.item.type?[a("span",[e._v(e._s(e.item.value))]),a("el-input",{staticClass:"hidden",attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"staticUrl"==e.item.type?[a("a",{attrs:{href:e.item.value,target:"_blank"}},[e._v(e._s(e.item.extra.placeholder))])]:"text"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"password"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"password",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"url"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"url",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"email"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"email",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"number"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"number",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"digit"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"text",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tel"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"tel",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"textarea"==e.item.type||"array"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"textarea",autosize:{minRows:e.item.extra.minRows?e.item.extra.minRows:3,maxRows:e.item.extra.maxRows?e.item.extra.maxRows:10},placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"select"==e.item.type?[a("el-select",{staticClass:"full",attrs:{filterable:!0,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"selects"==e.item.type?[a("el-select",{staticClass:"full",attrs:{filterable:!0,multiple:!0,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==e.item.type?[a("el-radio-group",{model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(t,i,r){return a("el-radi",{key:r,attrs:{disabled:e.item.extra.disabled,label:t.value}},[t.icon?a("i",{class:t.icon}):e._e(),a("span",[e._v(e._s(t.title))])])})),1)]:"checkbox"==e.item.type?[a("el-checkbox-group",{model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(t,i,r){return a("el-checkbox",{key:r,attrs:{disabled:e.item.extra.disabled,label:t.value}},[e._v("\n                "+e._s(t.title)+"\n              ")])})),1)]:"switch"==e.item.type?[a("el-switch",{attrs:{disabled:e.item.extra.disabled,"active-value":e.item.extra.options[1].value,"active-text":e.item.extra.options[1].title,"inactive-value":e.item.extra.options[0].value,"inactive-text":e.item.extra.options[0].title},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"slider"==e.item.type?[a("el-slider",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"daterangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimerangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timepicker"==e.item.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timerangepicker"==e.item.type?[a("el-time-select",{attrs:{type:"timerange","is-range":"",placeholder:"选择时间区间",disabled:e.item.extra.disabled,"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"rate"==e.item.type?[a("el-rate",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"cascader"==e.item.type||"region"==e.item.type?[a("el-cascader",{attrs:{disabled:e.item.extra.disabled,data:e.item.extra.options,prop:e.cascaderProps,size:"default"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"colorpicker"==e.item.type?[a("el-color-picker",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"image"==e.item.type?[a("XyBuilderFormImage",{attrs:{item:e.item,img:{name:"",title:""},cloudId:e.cloudId,eid:e.eid,token:e.token},on:{handleView:e.handleView},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"imageflex"==e.item.type?[a("div",{staticStyle:{display:"flex"}},e._l(e.item.extra.options,(function(t,i){return a("div",{key:i,staticStyle:{"padding-right":"15px"}},[a("XyBuilderFormImage",{attrs:{item:e.item,img:t,cloudId:e.cloudId,eid:e.eid,token:e.token},on:{handleView:e.handleView},model:{value:e.formValues[e.item.name][t.value],callback:function(a){e.$set(e.formValues[e.item.name],t.value,a)},expression:"formValues[item.name][img.value]"}})],1)})),0)]:"images"==e.item.type?[a("XyBuilderFormImages",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,token:e.token},on:{handleView:e.handleView},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"file"==e.item.type?[a("XyBuilderFormFile",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,token:e.token},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"files"==e.item.type?[a("XyBuilderFormFiles",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,token:e.token},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"poster"==e.item.type?[a("XyBuilderFormPoster",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,token:e.token},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"selectlist"==e.item.type?[e._v("\n          "+e._s(e.formValues[e.item.name])+"\n          "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v("\n              点击选择\n          ")]),a("el-dialog",{attrs:{transfer:!1,"footer-hide":!0,scrollable:e.item.extra.pageData.scrollable,draggable:e.item.extra.pageData.draggable,"mask-closable":!1,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width?e.item.extra.pageData.width:600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,cloudId:e.cloudId,eid:e.eid,api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"formlist"==e.item.type?[a("el-row",e._l(e.item.extra.options,(function(t,i,r){return a("div",{key:r},[a("el-col",{attrs:{span:t.span}},[e._v("\n                      "+e._s(t.title)+"\n                  ")])],1)})),0),e._l(e.formValues[e.item.name],(function(t,i,r){return a("el-row",{key:r},[e._l(e.item.extra.options,(function(t,r,n){return a("div",{key:n},[a("el-col",{attrs:{span:t.span}},[e.item.extra.options[r].type&&"text"==e.item.extra.options[r].type||e.item.extra.options[r].type&&"switch"==e.item.extra.options[r].type?[a("el-input",{model:{value:e.formValues[e.item.name][i][t.key],callback:function(a){e.$set(e.formValues[e.item.name][i],t.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]:e.item.extra.options[r].type&&"datetimepicker"==e.item.extra.options[r].type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name][i][t.key],callback:function(a){e.$set(e.formValues[e.item.name][i],t.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]:[a("el-input",{model:{value:e.formValues[e.item.name][i][t.key],callback:function(a){e.$set(e.formValues[e.item.name][i],t.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]],2)],1)})),a("Button",{attrs:{type:"dashed"},on:{click:function(t){return e.formlistDelrow(e.item.name,i)}}},[e._v("删除")])],2)})),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"dashed",icon:"md-add"},on:{click:function(t){return e.formlistAddrow(e.item.name)}}},[e._v("\n            增加一行\n          ")])]:"datalist"==e.item.type?[a("XyBuilderList",{ref:"list_"+e.item.name,attrs:{cloudId:e.cloudId,eid:e.eid,api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show}})]:"checkboxtree"==e.item.type?void 0:"markdown"==e.item.type?[a("div",[a("mavon-editor",{staticStyle:{"min-height":"500px"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"html"==e.item.type||"tinymce"==e.item.type?[a("tinymce-vue",{attrs:{"api-key":"y1buzf80o0qtt4lt3pfj0yh98ilgq4ts6mf3nwjpqky9ea49",init:{external_plugins:{},init_instance_callback:function(e){},default_link_target:"_blank",paste_data_images:!0,images_upload_url:e.item.extra.action,automatic_uploads:!0,file_picker_types:"file image media",file_picker_callback:e.filePickerCallback,images_upload_handler:e.imagesUploadHandler,language_url:"https://admin.starideas.net/xyadmin/libs/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:e.item.extra.skin,theme:"silver",branding:!0,plugins:"link lists image code table wordcount fullscreen emoticons print codesample",toolbar:" undo redo print| cut copy paste pastetext removeformat | bold italic underline strikethrough | forecolor backcolor | formatselect fontselect fontsizeselect | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | link image codesample emoticons| code fullscreen",height:500,font_formats:"\n                      微软雅黑=微软雅黑;\n                      宋体=宋体;\n                      黑体=黑体;\n                      仿宋=仿宋;\n                      楷体=楷体;\n                      隶书=隶书;\n                      幼圆=幼圆;\n                      Andale Mono=andale mono,times;\n                      Arial=arial, helvetica,\n                      sans-serif;\n                      Arial Black=arial black, avant garde;\n                      Book Antiqua=book antiqua,palatino;\n                      Comic Sans MS=comic sans ms,sans-serif;\n                      Courier New=courier new,courier;\n                      Georgia=georgia,palatino;\n                      Helvetica=helvetica;\n                      Impact=impact,chicago;\n                      Symbol=symbol;\n                      Tahoma=tahoma,arial,helvetica,sans-serif;\n                      Terminal=terminal,monaco;\n                      Times New Roman=times new roman,times;\n                      Trebuchet MS=trebuchet ms,geneva;\n                      Verdana=verdana,geneva;\n                      Webdings=webdings;\n                      Wingdings=wingdings,zapf dingbats"}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"sku"==e.item.type?[a("XyBuilderFormSku",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"skuPrice"==e.item.type?[a("XyBuilderFormSkuPrice",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"fee"==e.item.type?[a("XyBuilderFormFee",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"amap"==e.item.type?[a("XyBuilderFormAmap",{attrs:{item:e.item,cloudId:e.cloudId,eid:e.eid,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:[a("el-input",{attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],a("el-dialog",{attrs:{title:"预览",visible:e.previewImageVisible},on:{"update:visible":function(t){e.previewImageVisible=t}}},[e.previewImageVisible?a("img",{staticStyle:{width:"100%"},attrs:{src:e.previewImageUrl}}):e._e()]),a("div",{staticStyle:{color:"#aaa","font-size":"12px"}},[e._v(e._s(e.item.extra.tip))])],2)],2)}),[],!1,null,null,null).exports,XySafetyVerify:a("6f6d").a},props:{api:"",cloudId:0,eid:0,show:!1,predata:""},data:function(){return{loading:!1,ref:"form",formData:"",labelPosition:"left",labelWidth:"100px",res:{},addNext:!1,verifyData:""}},created:function(){this.ref="form_"+(new Date).getTime(),this.cloudId||this.$route.query.cloudId&&(this.cloudId=this.$route.query.cloudId),this.eid||this.$route.query.eid&&(this.eid=this.$route.query.eid),this.predata&&(this.formData=this.predata)},beforeMount:function(){},mounted:function(){this.loadData()},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},watch:{"formData.formValues":{handler:function(e){for(var t in this.formData.formItems)if(this.formData.formItems[t].extra.con){var a=this.formData.formItems[t].extra.con,i=0;for(var r in a)switch(a[r][1]){case"=":e[a[r][0]]===a[r][2]&&i++;break;case">":e[a[r][0]]>a[r][2]&&i++;break;case">=":e[a[r][0]]>=a[r][2]&&i++;break;case"<":e[a[r][0]]<a[r][2]&&i++;break;case"<=":e[a[r][0]]<=a[r][2]&&i++;break;case"in":in_array(e[a[r][0]],a[r][2])&&i++;break;case"has":in_array(a[r][2],e[a[r][0]]);break;case"between":a[r][2][0]<e[a[r][0]]<a[r][2][1]&&i++}i===a.length?this.formData.formItems[t].extra.hide=!1:this.formData.formItems[t].extra.hide=!0}},deep:!0,immediate:!0},show:function(e){1==e&&this.loadData()}},methods:{in_array:function(e,t){for(var a in t)if(t[a]==e)return!0;return!1},loadData:(p=Object(i.a)(regeneratorRuntime.mark((function e(){var t,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=(t=0<i.length&&void 0!==i[0]?i[0]:"")&&(this.api=t),this.api)return e.next=5,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloudId,Eid:this.eid}});e.next=7;break;case 5:"200"==(a=e.sent).code?this.formData=a.data.formData:this.res=a;case 7:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)}),submit:function(){var e=this;this.loading=!0;var t=this;setTimeout((function(){t.loading=!1}),5e3);var a=!1;if(0==this.formData.formRules.length)a=!0;else if(0<this.formData.formTabs.length){for(var i="",r=0;r<this.formData.formTabs.length;r++)this.$refs[this.ref+"_"+this.formData.formTabs[r].name][0].validate((function(e){i+=e?"true":"false"}));-1==i.search("false")&&(a=!0)}else this.$refs[this.ref].validate((function(t){var i;t?a=!0:e.$store.state.app.uiAudio&&((i=new Audio).src="/audio/alert.wav",i.play())}));return a?this.submitForm():this.loading=!1},submitForm:(f=Object(i.a)(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.formData.formValues,this.verifyData&&(t._verify=this.verifyData),e.next=4,this.util.request({url:this.api,method:this.formData.formMethod,data:t,header:{CloudId:this.cloudId,Eid:this.eid}});case 4:if("200"==(a=e.sent).code)if(this.verifyData="",this.util.showToast({title:a.msg,icon:"success",duration:1e3}),a.data.url)0!=a.data.url.indexOf("http")?this.$router.push(a.data.url):window.open(a.data.url);else if(this.addNext)if(0<this.formData.formTabs.length)for(i=0;i<this.formData.formTabs.length;i++)this.$refs[this.ref+"_"+this.formData.formTabs[i].name][0].resetFields();else this.$refs[this.ref].resetFields();else this.$refs.sv.close(),this.$emit("close-model");else 401003==a.code?this.$refs.sv.open(a.data.verifyList):this.res=a;return this.loading=!1,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),cancel:function(){this.$emit("close-model")}}},x=(a("ac24"),{components:{XyBuilderForm:Object(o.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-wrapper"},[""!=this.formData?[e.formData.alertList&&e.formData.alertList.top?e._l(e.formData.alertList.top,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,effect:"dark"}},[a("div",{attrs:{slot:"description"},domProps:{innerHTML:e._s(t.desc)},slot:"description"})])})):e._e(),0<e.formData.formTabs.length?[a("el-tabs",{attrs:{value:e.formData.formTabs[0].name}},[e._l(e.formData.formTabs,(function(t,i){return[null!=t.formItems?a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[a("el-form",{ref:e.ref+"_"+t.name,refInFor:!0,attrs:{model:e.formData.formValues[t.name].tabValues,"label-position":e.labelPosition,"label-width":e.labelWidth,rules:t.formRules},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(t.formItems,(function(i,r){return[""!=t.formRules[i.name]?[a("XyBuilderformItem",{key:r,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formData.formValues[t.name].tabValues,cloudId:e.cloudId,eid:e.eid,prop:i.name}})]:[a("XyBuilderformItem",{key:r,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formData.formValues[t.name].tabValues,cloudId:e.cloudId,eid:e.eid}})]]}))],2)],1):e._e()]})),e._v(">\n            ")],2)]:[a("el-form",{ref:e.ref,attrs:{model:e.formData.formValues,"status-icon":!0,"label-position":e.formData.config.labelPosition?e.formData.config.labelPosition:e.labelPosition,"label-width":e.formData.config.labelWidth?e.formData.config.labelWidth:e.labelWidth,rules:e.formData.formRules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{type:"flex",gutter:0}},[a("el-col",{staticClass:"form-col",attrs:{span:24}},[e._l(e.formData.formItems,(function(t,i){return[[""!=e.formData.formRules[t.name]?[t.extra.hide?e._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,cloudId:e.cloudId,eid:e.eid,prop:t.name}})]:[t.extra.hide?e._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,cloudId:e.cloudId,eid:e.eid}})]]]}))],2)],1)],1)],e.formData.alertList&&e.formData.alertList.top?e._l(e.formData.alertList.bottom,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,effect:"dark"}},[a("div",{attrs:{slot:"description"},domProps:{innerHTML:e._s(t.desc)},slot:"description"})])})):e._e(),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.res.msg,expression:"res.msg"}],attrs:{type:"error","show-icon":"",closable:""},on:{"on-close":function(t){e.res={}}}},[e._v(e._s(e.res.msg))]),a("div",{staticClass:"m-t m-b flex footer-buttons"},[a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength?e.formData.config.footerButtonLength:"120px"}},[a("el-button",{staticClass:"full",attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("\n                    "+e._s(e.formData.config.submitButtonTitle?e.formData.config.submitButtonTitle:"确认")+"\n                ")])],1),a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength?e.formData.config.footerButtonLength:"120px"}},[a("el-button",{staticClass:"full",attrs:{type:"default"},on:{click:function(t){return e.cancel()}}},[e._v("\n                    "+e._s(e.formData.config.submitCancelTitle?e.formData.config.submitCancelTitle:"取消")+"\n                ")])],1)]),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:this.formData.config.continue&&"post"==this.formData.formMethod,expression:"this.formData.config.continue && this.formData.formMethod == 'post'"}],model:{value:e.addNext,callback:function(t){e.addNext=t},expression:"addNext"}},[e._v("继续录入下一条")])]:[a("el-row",[a("el-col",{staticClass:"spin-col text-center",attrs:{span:24}},[a("div",{staticClass:"spin"},[a("i",{staticClass:"el-icon-loading spin-icon-load",staticStyle:{"font-size":"22px"}}),a("div",[e._v("Loading")])])])],1)],a("XySafetyVerify",{ref:"sv",on:{"verify-request":e.submitForm},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],2)}),[],!1,null,"01d694dc",null).exports},data:function(){return{dialogVisible:!1,addApi:"",dataList:[],formData:{}}},created:function(){this.loadData()},methods:{add:(b=Object(i.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addApi="/v1/coin_otc/paytype/add?paytype="+t,this.dialogVisible=!0;case 2:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)}),edit:(y=Object(i.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addApi="/v1/coin_otc/paytype/edit/"+t,this.dialogVisible=!0;case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)}),loadData:(h=Object(i.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.util.request({url:"/v1/coin_otc/paytype/my",method:"get"});case 2:200==(t=e.sent).code?this.dataList=t.data.dataList:this.util.showToast({title:t.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)}),deleteOne:function(e){var t,a=this;this.$confirm("确认要删除吗","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"error",callback:(t=Object(i.a)(regeneratorRuntime.mark((function t(i){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.util.request({url:"/v1/coin_otc/paytype/delete/"+e,method:"deleteget"});case 2:200==(r=t.sent).code?a.util.showToast({title:r.msg,icon:"loading",duration:1e3}):a.util.showToast({title:r.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})})}}}),k=(a("15d7"),Object(o.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"center-box safe-box m-b"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("收款方式")])]),a("div",{staticClass:"content clearfix"},[a("div",{staticClass:"count-list"},[a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("银行卡")])]),a("div",{staticClass:"fr"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("3")}}},[e._v("添加")])],1),a("div",{staticClass:"clear m-l"},[e._l(e.dataList,(function(t){return[3==t.paytype?a("div",{key:t.id},[a("span",[e._v(e._s(t.name))]),a("span",[e._v(e._s(t.bank))]),a("span",[e._v(e._s(t.account))]),a("el-button",{staticClass:"m-l-lg",attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.id)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteOne(t.id)}}},[e._v("删除")])],1):e._e()]}))],2)]),a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("支付宝")])]),a("div",{staticClass:"fr"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("1")}}},[e._v("添加")])],1),a("div",{staticClass:"clear m-l"},[e._l(e.dataList,(function(t){return[1==t.paytype?a("div",{key:t.id},[a("span",[e._v(e._s(t.name))]),a("el-button",{staticClass:"m-l-lg",attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.id)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteOne(t.id)}}},[e._v("删除")])],1):e._e()]}))],2)]),a("div",{staticClass:"item clear"},[a("div",{staticClass:"fl"},[a("span",{staticClass:"title"},[e._v("微信")])]),a("div",{staticClass:"fr"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("2")}}},[e._v("添加")])],1),a("div",{staticClass:"clear m-l"},[e._l(e.dataList,(function(t){return[2==t.paytype?a("div",{key:t.id},[a("span",[e._v(e._s(t.name))]),a("el-button",{staticClass:"m-l-lg",attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.id)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteOne(t.id)}}},[e._v("删除")])],1):e._e()]}))],2)])])]),a("el-dialog",{attrs:{title:"添加收款方式",visible:e.dialogVisible,width:"540px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("XyBuilderForm",{key:e.addApi,ref:"'paytypeadd",attrs:{api:e.addApi,show:e.dialogVisible},on:{"close-model":function(t){e.dialogVisible=!1}}})],1)],1)}),[],!1,null,"47c923a0",null));t.default=k.exports},"37c8":function(e,t,a){t.f=a("2b4c")},"386d":function(e,t,a){"use strict";var i=a("cb7c"),r=a("83a1"),n=a("5f1b");a("214f")("search",1,(function(e,t,a,s){return[function(a){var i=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,i):new RegExp(a)[t](String(i))},function(e){var t=s(a,e,this);if(t.done)return t.value;var o=i(e),l=String(this),m=o.lastIndex;r(m,0)||(o.lastIndex=0);var u=n(o,l);return r(o.lastIndex,m)||(o.lastIndex=m),null===u?-1:u.index}]}))},"3a72":function(e,t,a){var i=a("7726"),r=a("8378"),n=a("2d00"),s=a("37c8"),o=a("86cc").f;e.exports=function(e){var t=r.Symbol||(r.Symbol=!n&&i.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},"5c03":function(e,t,a){"use strict";a("96cf");var i,r=a("1da1"),n=(a("c5f6"),{name:"xySendVerify",props:{noNeedAccount:{type:Boolean,default:!1},account:{type:String,default:""},title:{type:String,default:""},url:{type:String,default:"/v1/sms/verify/send"},type:{type:String,default:"手机号"},time:{type:Number,default:30}},data:function(){return{label:"发送验证码",timeLeft:0}},created:function(){},methods:{sendVerify:(i=Object(r.a)(regeneratorRuntime.mark((function e(){var t,a,i,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0<this.timeLeft)return e.abrupt("return");e.next=2;break;case 2:if(this.account||this.noNeedAccount){e.next=5;break}return this.util.showToast({title:"请输入"+this.type,icon:"loading",duration:1e3}),e.abrupt("return",!1);case 5:return this.timeLeft=this.time,this.label="剩余"+this.timeLeft+"s",t=setInterval((function(){r.timeLeft--,r.timeLeft<=0?(r.label="发送验证码",r.timeLeft=0,clearInterval(t)):r.label="剩余"+r.timeLeft+"s"}),1e3),a={},a="手机号"==this.type?{mobile:this.account,title:this.title}:{email:this.account,title:this.title},e.next=12,this.util.request({url:this.url,data:a,method:"post"});case 12:"200"==(i=e.sent).code?(this.util.showToast({title:i.msg,icon:"success",duration:1e3}),this.$emit("verifysuccess",i.data)):this.util.showToast({title:i.msg,icon:"loading",duration:2e3});case 14:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}}),s=a("2877"),o=Object(s.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"send-verify p-l-xs p-r-xs"},[a("el-button",{attrs:{type:"text"},on:{click:e.sendVerify}},[e._v(e._s(e.label))])],1)}),[],!1,null,"0372c606",null);t.a=o.exports},"5df3":function(e,t,a){"use strict";var i=a("02f4")(!0);a("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=i(t,a),this._i+=e.length,{value:e,done:!1})}))},"67ab":function(e,t,a){function i(e){o(e,r,{value:{i:"O"+ ++l,w:{}}})}var r=a("ca5a")("meta"),n=a("d3f4"),s=a("69a8"),o=a("86cc").f,l=0,m=Object.isExtensible||function(){return!0},u=!a("79e5")((function(){return m(Object.preventExtensions({}))})),c=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!m(e))return"F";if(!t)return"E";i(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!m(e))return!0;if(!t)return!1;i(e)}return e[r].w},onFreeze:function(e){return u&&c.NEED&&m(e)&&!s(e,r)&&i(e),e}}},"6f6d":function(e,t,a){"use strict";a("96cf");var i,r=a("1da1"),n={name:"xySafetyVerify",components:{XySendVerify:a("5c03").a},props:{value:{type:[String,Object],default:""}},data:function(){return{dialogVisible:!1,verifyList:[],loading:!1,form:{paypwd:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{}}},created:function(){},methods:{getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},open:function(e){this.verifyList=e,this.getRule(),this.dialogVisible=!0},eclose:function(){this.$emit("cancel")},close:function(){this.dialogVisible=!1},handleSubmit:(i=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loading=!0,t=this,setTimeout((function(){t.loading=!1}),5e3),this.$emit("input",this.form),this.$emit("verify-request"),this.loading=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),getRule:function(){for(var e in this.verifyList)switch(this.verifyList[e]){case"email":this.rule.email=[{required:!0,message:"请填写邮箱验证码",trigger:"blur"},{type:"string",min:6,message:"至少6位",trigger:"blur"}];break;case"mobile":this.rule.mobile=[{required:!0,message:"请填写手机验证码",trigger:"blur"},{type:"string",min:6,message:"至少6位",trigger:"blur"}];break;case"gauth":this.rule.gauth=[{required:!0,message:"请填写谷歌验证码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;case"paypwd":this.rule.paypwd=[{required:!0,message:"请填写支付密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;case"password":this.rule.password=[{required:!0,message:"请填写登录密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}}},s=a("2877"),o=Object(s.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"append-to-body":"",title:"安全验证",visible:e.dialogVisible,width:"450px"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.eclose}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[0<=e.verifyList.indexOf("email")?a("el-form-item",{attrs:{label:"邮箱验证码",prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"安全验证"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),0<=e.verifyList.indexOf("mobile")?a("el-form-item",{attrs:{label:"手机验证码",prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"安全验证"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),0<=e.verifyList.indexOf("gauth")?a("el-form-item",{attrs:{label:"谷歌验证码",prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),0<=e.verifyList.indexOf("paypwd")?a("el-form-item",{attrs:{label:"支付密码",prop:"paypwd"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位支付密码"},model:{value:e.form.paypwd,callback:function(t){e.$set(e.form,"paypwd",t)},expression:"form.paypwd"}})],1):e._e(),0<=e.verifyList.indexOf("password")?a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v("\n            确认\n        ")])],1)],1)}),[],!1,null,"46eee942",null);t.a=o.exports},"7bbc":function(e,t,a){var i=a("6821"),r=a("9093").f,n={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==n.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(i(e))}},"7f7f":function(e,t,a){var i=a("86cc").f,r=Function.prototype,n=/^\s*function ([^ (]*)/;"name"in r||a("9e1e")&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"8a81":function(e,t,a){"use strict";function i(e){var t=U[e]=T(j[z]);return t._k=e,t}function r(e,t){_(e);for(var a,i=V(t=S(t)),r=0,n=i.length;r<n;)te(e,a=i[r++],t[a]);return e}function n(e){var t=q.call(this,e=$(e,!0));return!(this===K&&u(U,e)&&!u(W,e))&&(!(t||!u(this,e)||!u(U,e)||u(this,H)&&this[H][e])||t)}function s(e,t){if(e=S(e),t=$(t,!0),e!==K||!u(U,t)||u(W,t)){var a=A(e,t);return!a||!u(U,t)||u(e,H)&&e[H][t]||(a.enumerable=!0),a}}function o(e){for(var t,a=B(S(e)),i=[],r=0;a.length>r;)u(U,t=a[r++])||t==H||t==p||i.push(t);return i}function l(e){for(var t,a=e===K,i=B(a?W:S(e)),r=[],n=0;i.length>n;)!u(U,t=i[n++])||a&&!u(K,t)||r.push(U[t]);return r}var m=a("7726"),u=a("69a8"),c=a("9e1e"),d=a("5ca1"),f=a("2aba"),p=a("67ab").KEY,h=a("79e5"),y=a("5537"),b=a("7f20"),v=a("ca5a"),g=a("2b4c"),x=a("37c8"),k=a("3a72"),V=a("d4c0"),w=a("1169"),_=a("cb7c"),I=a("d3f4"),D=a("4bf8"),S=a("6821"),$=a("6a99"),O=a("4630"),T=a("2aeb"),C=a("7bbc"),L=a("11e9"),R=a("2621"),M=a("86cc"),N=a("0d58"),A=L.f,F=M.f,B=C.f,j=m.Symbol,E=m.JSON,P=E&&E.stringify,z="prototype",H=g("_hidden"),X=g("toPrimitive"),q={}.propertyIsEnumerable,J=y("symbol-registry"),U=y("symbols"),W=y("op-symbols"),K=Object[z],G="function"==typeof j&&!!R.f,Y=m.QObject,Z=!Y||!Y[z]||!Y[z].findChild,Q=c&&h((function(){return 7!=T(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a}))?function(e,t,a){var i=A(K,t);i&&delete K[t],F(e,t,a),i&&e!==K&&F(K,t,i)}:F,ee=G&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof j},te=function(e,t,a){return e===K&&te(W,t,a),_(e),t=$(t,!0),_(a),u(U,t)?(a.enumerable?(u(e,H)&&e[H][t]&&(e[H][t]=!1),a=T(a,{enumerable:O(0,!1)})):(u(e,H)||F(e,H,O(1,{})),e[H][t]=!0),Q(e,t,a)):F(e,t,a)};G||(f((j=function(e){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=v(0<arguments.length?e:void 0),a=function(e){this===K&&a.call(W,e),u(this,H)&&u(this[H],t)&&(this[H][t]=!1),Q(this,t,O(1,e))};return c&&Z&&Q(K,t,{configurable:!0,set:a}),i(t)})[z],"toString",(function(){return this._k})),L.f=s,M.f=te,a("9093").f=C.f=o,a("52a7").f=n,R.f=l,c&&!a("2d00")&&f(K,"propertyIsEnumerable",n,!0),x.f=function(e){return i(g(e))}),d(d.G+d.W+d.F*!G,{Symbol:j});for(var ae="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ae.length>ie;)g(ae[ie++]);for(var re=N(g.store),ne=0;re.length>ne;)k(re[ne++]);d(d.S+d.F*!G,"Symbol",{for:function(e){return u(J,e+="")?J[e]:J[e]=j(e)},keyFor:function(e){if(!ee(e))throw TypeError(e+" is not a symbol!");for(var t in J)if(J[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),d(d.S+d.F*!G,"Object",{create:function(e,t){return void 0===t?T(e):r(T(e),t)},defineProperty:te,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:o,getOwnPropertySymbols:l});var se=h((function(){R.f(1)}));d(d.S+d.F*se,"Object",{getOwnPropertySymbols:function(e){return R.f(D(e))}}),E&&d(d.S+d.F*(!G||h((function(){var e=j();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){for(var t,a,i=[e],r=1;r<arguments.length;)i.push(arguments[r++]);if(a=t=i[1],(I(t)||void 0!==e)&&!ee(e))return w(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ee(t))return t}),i[1]=t,P.apply(E,i)}}),j[z][X]||a("32e9")(j[z],X,j[z].valueOf),b(j,"Symbol"),b(Math,"Math",!0),b(m.JSON,"JSON",!0)},aa77:function(e,t,a){function i(e,t,a){var i={},n=s((function(){return!!o[e]()||"​"!="​"[e]()})),l=i[e]=n?t(c):o[e];a&&(i[a]=l),r(r.P+r.F*n,"String",i)}var r=a("5ca1"),n=a("be13"),s=a("79e5"),o=a("fdef"),l="["+o+"]",m=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),c=i.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(m,"")),2&t&&(e=e.replace(u,"")),e};e.exports=i},ac24:function(e,t,a){"use strict";var i=a("db7b");a.n(i).a},ac4d:function(e,t,a){a("3a72")("asyncIterator")},c5f6:function(e,t,a){"use strict";function i(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var a,i,r,n=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===n||45===n){if(88===(a=t.charCodeAt(2))||120===a)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var s,o=t.slice(2),m=0,u=o.length;m<u;m++)if((s=o.charCodeAt(m))<48||r<s)return NaN;return parseInt(o,i)}}return+t}var r=a("7726"),n=a("69a8"),s=a("2d95"),o=a("5dbc"),l=a("6a99"),m=a("79e5"),u=a("9093").f,c=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",h=r[p],y=h,b=h.prototype,v=s(a("2aeb")(b))==p,g="trim"in String.prototype;if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof h&&(v?m((function(){b.valueOf.call(a)})):s(a)!=p)?o(new y(i(t)),a,h):i(t)};for(var x,k=a("9e1e")?u(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),V=0;k.length>V;V++)n(y,x=k[V])&&!n(h,x)&&d(h,x,c(y,x));(h.prototype=b).constructor=h,a("2aba")(r,p,h)}},cfc2:function(e,t,a){"use strict";var i=a("f340");a.n(i).a},d4c0:function(e,t,a){var i=a("0d58"),r=a("2621"),n=a("52a7");e.exports=function(e){var t=i(e),a=r.f;if(a)for(var s,o=a(e),l=n.f,m=0;o.length>m;)l.call(e,s=o[m++])&&t.push(s);return t}},db7b:function(e,t,a){},e55c:function(e,t,a){},f1ae:function(e,t,a){"use strict";var i=a("86cc"),r=a("4630");e.exports=function(e,t,a){t in e?i.f(e,t,r(0,a)):e[t]=a}},f340:function(e,t,a){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);