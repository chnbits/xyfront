import{_ as v}from"../index-726dc959.js";const k=window.Vue.defineComponent,y=k({setup(){return{}},data(){return{item:{extra:{height:500,toolbar:"formatselect fontsizeselect | link image media blockquote codesample | bold italic underline strikethrough | forecolor backcolor bullist numlist | code fullscreen"}},id:0,cateList:[],form:{cateId:0,title:"",content:""},rules:[]}},created:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route(){this.id=this.$route.params.id,this.loadData()}},methods:{async loadData(){let e=await this.$util.request({url:"/v1/forum/post/edit/"+this.id,method:"get"});e.code==200?(this.form=e.data.info,this.cateList=e.data.cateList):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})},async onSubmit(){let e=await this.$util.request({url:"/v1/forum/post/edit/"+this.id,data:this.form,method:"post"});e.code==200?(this.$util.showToast({title:e.msg,icon:"success",duration:2e3}),this.$router.back()):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})}}}),a=window.Vue.createTextVNode,n=window.Vue.resolveComponent,o=window.Vue.withCtx,t=window.Vue.createVNode,u=window.Vue.createElementVNode,g=window.Vue.renderList,$=window.Vue.Fragment,r=window.Vue.openBlock,m=window.Vue.createElementBlock,C=window.Vue.createBlock,I=window.Vue.pushScopeId,S=window.Vue.popScopeId,B=e=>(I("data-v-067f5c3c"),e=e(),S(),e),L={class:"container"},N=a("\u9996\u9875"),T=a("\u5E16\u5B50\u5217\u8868"),E=a("\u4FEE\u6539\u5E16\u5B50"),q=B(()=>u("div",null,[u("span",null,"\u4FEE\u6539\u5E16\u5B50")],-1)),D=a("\u7ACB\u5373\u4FDD\u5B58"),U=a("\u53D6\u6D88");function x(e,i,z,F,j,A){const s=n("el-breadcrumb-item"),_=n("el-breadcrumb"),p=n("el-option"),f=n("el-select"),d=n("el-form-item"),h=n("el-input"),w=n("xy-editor-tinymce"),c=n("el-button"),b=n("el-form"),V=n("el-card");return r(),m("div",L,[t(_,{class:"m-b","separator-class":"el-icon-arrow-right"},{default:o(()=>[t(s,{to:{path:"/forum"}},{default:o(()=>[N]),_:1}),t(s,{to:{path:"/forum"}},{default:o(()=>[T]),_:1}),t(s,null,{default:o(()=>[E]),_:1})]),_:1}),t(V,{shadow:"never","body-style":{padding:"20px"}},{header:o(()=>[q]),default:o(()=>[t(b,{model:e.form,ref:"form",rules:e.rules,"label-width":"80px",inline:!1,size:"large"},{default:o(()=>[t(d,{label:"\u8282\u70B9"},{default:o(()=>[t(f,{modelValue:e.form.cateId,"onUpdate:modelValue":i[0]||(i[0]=l=>e.form.cateId=l),"value-key":"id",placeholder:"",clearable:"",filterable:""},{default:o(()=>[(r(!0),m($,null,g(e.cateList,l=>(r(),C(p,{key:l.value,label:l.title,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"\u6807\u9898"},{default:o(()=>[t(h,{modelValue:e.form.title,"onUpdate:modelValue":i[1]||(i[1]=l=>e.form.title=l)},null,8,["modelValue"])]),_:1}),t(d,{label:"\u6B63\u6587"},{default:o(()=>[t(w,{item:e.item,modelValue:e.form.content,"onUpdate:modelValue":i[2]||(i[2]=l=>e.form.content=l)},null,8,["item","modelValue"])]),_:1}),t(d,null,{default:o(()=>[t(c,{type:"primary",onClick:e.onSubmit},{default:o(()=>[D]),_:1},8,["onClick"]),t(c,{onClick:i[3]||(i[3]=l=>e.$router.back())},{default:o(()=>[U]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}var H=v(y,[["render",x],["__scopeId","data-v-067f5c3c"]]);export{H as default};
