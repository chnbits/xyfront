import{_ as z}from"../index-726dc959.js";const P={name:"scoreLog",props:{isComp:!1},data(){return{loading:!1,filtersDefault:{id:"",orderNo:"",tradeNo:"",dateRange:[],tradeType:""},filters:{id:"",orderNo:"",tradeNo:"",dateRange:[],tradeType:""},dataList:[],dataPage:{total:0,page:1,limit:10}}},created:function(){this.loadData()},watch:{},methods:{goBack(){this.$router.back()},reset(){this.filters=this.filtersDefault},async loadData(){this.loading=!0;let o=await this.$util.request({url:"/v1/user_score/score_log/my/1",data:{page:this.dataPage.page,limit:this.dataPage.limit,...this.filters},method:"get"});o.code==200?(this.dataList=o.data.dataList,this.dataPage=o.data.dataPage):this.$util.showToast({title:o.msg,icon:"loading",duration:3e3}),this.loading=!1},pageChange(o){this.loadData()},limitChange(o){this.dataPage.page=1,this.loadData()}}},n=window.Vue.resolveComponent,e=window.Vue.createVNode,r=window.Vue.openBlock,i=window.Vue.createElementBlock,m=window.Vue.createCommentVNode,a=window.Vue.withCtx,f=window.Vue.createTextVNode,p=window.Vue.createElementVNode,g=window.Vue.toDisplayString,D=window.Vue.pushScopeId,S=window.Vue.popScopeId,T=o=>(D("data-v-1d1d47ca"),o=o(),S(),o),B={class:"box bg-white"},I={key:0,class:"p-t p-l-md p-r-md p-b"},L={class:"p-a"},U=f("\u91CD\u7F6E"),E=f("\u641C\u7D22"),R=T(()=>p("div",{class:"lh-1 p-t-lg p-b-lg text-center"},[p("div",{class:"ts-16 m-t-sm",style:{color:"#A5A5A5"}},[p("span",null,"\u6682\u65E0\u8BB0\u5F55")])],-1)),A={key:0,class:"text-default"},M={key:1,class:"text-default"},j={key:0,class:"text-primary"},q={key:0,class:"text-success"},F={key:1,class:"text-error"},G={class:"flex flex-start"};function H(o,s,w,J,l,u){const y=n("el-page-header"),c=n("el-option"),b=n("el-select"),_=n("el-form-item"),V=n("el-input"),v=n("el-date-picker"),h=n("el-button"),k=n("el-form"),x=n("el-skeleton"),d=n("el-table-column"),C=n("el-table"),N=n("el-pagination");return r(),i("div",null,[p("div",B,[w.isComp?m("",!0):(r(),i("div",I,[e(y,{onBack:u.goBack,content:"\u4F59\u989D\u8BB0\u5F55"},null,8,["onBack"])])),p("div",L,[e(k,{model:l.filters,class:"filters",size:"default",inline:!0,"label-suffix":":"},{default:a(()=>[e(_,{label:"\u53D8\u52A8\u7C7B\u578B"},{default:a(()=>[e(b,{modelValue:l.filters.tradeType,"onUpdate:modelValue":s[0]||(s[0]=t=>l.filters.tradeType=t),placeholder:"\u5168\u90E8",style:{width:"80px"}},{default:a(()=>[e(c,{label:"\u5145\u503C",value:"recharge"}),e(c,{label:"\u63D0\u73B0",value:"widthdraw"}),e(c,{label:"\u8F6C\u8D26",value:"transfer"}),e(c,{label:"\u8C03\u8D26",value:"fix"}),e(c,{label:"\u9000\u6B3E",value:"refound"}),e(c,{label:"\u6D88\u8D39",value:"pay"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"\u8BA2\u5355\u53F7"},{default:a(()=>[e(V,{modelValue:l.filters.orderNo,"onUpdate:modelValue":s[1]||(s[1]=t=>l.filters.orderNo=t),placeholder:""},null,8,["modelValue"])]),_:1}),e(_,{label:"\u65F6\u95F4\u8303\u56F4",style:{width:"290px"}},{default:a(()=>[e(v,{modelValue:l.filters.dateRange,"onUpdate:modelValue":s[2]||(s[2]=t=>l.filters.dateRange=t),"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"\u5F00\u59CB\u65E5\u671F","end-placeholder":"\u7ED3\u675F\u65E5\u671F"},null,8,["modelValue"])]),_:1}),e(_,null,{default:a(()=>[e(h,{type:"default",text:"",bg:"",onClick:u.reset,size:"default"},{default:a(()=>[U]),_:1},8,["onClick"]),e(h,{class:"m-l-md",type:"primary",plain:"",onClick:u.loadData,size:"default"},{default:a(()=>[E]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),e(C,{ref:"mytable",data:l.dataList,"tooltip-effect":"dark"},{empty:a(()=>[e(x,{class:"text-left",loading:l.loading,rows:4,animated:""},{default:a(()=>[R]),_:1},8,["loading"])]),default:a(()=>[e(d,{label:"\u8BA2\u5355\u53F7",prop:"orderNo"}),e(d,{label:"\u4EA4\u6613\u65F6\u95F4",prop:"createtime"},{default:a(t=>[f(g(o.$util.timeFormat(t.row.createTime)),1)]),_:1}),e(d,{label:"\u8BB0\u5F55\u7C7B\u578B",prop:"amount"},{default:a(t=>[t.row.amount>0?(r(),i("span",A,"\u6536\u5165")):t.row.amount<0?(r(),i("span",M,"\u652F\u51FA")):m("",!0)]),_:1}),e(d,{label:"\u53D8\u52A8\u7C7B\u578B",prop:"tradeTypeLabel"}),e(d,{label:"\u4ED8\u6B3E\u65B9\u5F0F",prop:"typeId"},{default:a(t=>[t.row.typeId==1?(r(),i("span",j,"\u7528\u6237\u4F59\u989D")):m("",!0)]),_:1}),e(d,{label:"\u5907\u6CE8",prop:"title"}),e(d,{label:"\u53D8\u52A8\u6570\u91CF",prop:"amount"},{default:a(t=>[t.row.amount>=0?(r(),i("span",q,"+"+g(t.row.amount),1)):t.row.amount<0?(r(),i("span",F,g(t.row.amount),1)):m("",!0)]),_:1}),e(d,{label:"\u53D8\u52A8\u540E\u4F59\u989D",prop:"balance"},{default:a(t=>[p("span",null,g(t.row.balance),1)]),_:1})]),_:1},8,["data"]),p("div",G,[e(N,{class:"m-t-md",size:"default",onSizeChange:u.limitChange,onCurrentChange:u.pageChange,"current-page":l.dataPage.page,"onUpdate:current-page":s[3]||(s[3]=t=>l.dataPage.page=t),background:"","page-sizes":[10,20,30,50],"page-size":l.dataPage.limit,"onUpdate:page-size":s[4]||(s[4]=t=>l.dataPage.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:l.dataPage.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])])}var O=z(P,[["render",H],["__scopeId","data-v-1d1d47ca"]]);export{O as default};
