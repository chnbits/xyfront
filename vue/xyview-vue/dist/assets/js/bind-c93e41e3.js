import{_ as z,a as F}from"./googleplay-8749c6e7.js";import{_ as N}from"../index-726dc959.js";const P={data(){return{verifyList:[],loading:!1,gauthSecret:"\u52A0\u8F7D\u4E2D...",gauthQrcode:"",form:{verify:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:""},rule:{verify:[{required:!0,message:"\u8BF7\u586B\u5199\u8C37\u6B4C\u9A8C\u8BC1\u7801",trigger:"blur"},{type:"string",min:6,message:"\u9A8C\u8BC1\u7801\u4E3A6\u4F4D",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{copySuccess(){alert("\u62F7\u8D1D\u6210\u529F")},getVerifyToken(i){this.form.emailToken=i.token},getMobileVerifyToken(i){this.form.mobileToken=i.token},async loadData(){let i=await this.$util.request({url:"/v1/gauth/user/bind",method:"get"});i.code=="200"?(this.verifyList=i.data.dataList,this.gauthSecret=i.data.gauthSecret,this.gauthQrcode=i.data.gauthQrcode):this.$util.showToast({title:i.msg,icon:"loading",duration:3e3})},async handleSubmit(){this.loading=!0;let i=this;setTimeout(function(){i.loading=!1},5e3);let n=await this.$util.request({url:"/v1/gauth/user/bind",data:this.form,method:"post"});n.code=="200"?(this.$util.showToast({title:n.msg,icon:"success",duration:2e3}),this.$xyutil.navigateBack()):this.$util.showToast({title:n.msg,icon:"loading",duration:3e3}),this.loading=!1}}},m=window.Vue.createTextVNode,l=window.Vue.resolveComponent,t=window.Vue.withCtx,e=window.Vue.createVNode,s=window.Vue.createElementVNode,D=window.Vue.toDisplayString,q=window.Vue.resolveDirective,a=window.Vue.openBlock,w=window.Vue.createElementBlock,B=window.Vue.withDirectives,f=window.Vue.createBlock,g=window.Vue.createCommentVNode,R=window.Vue.pushScopeId,I=window.Vue.popScopeId,c=i=>(R("data-v-69cb09ec"),i=i(),I(),i),L={class:"main"},A={class:"container p-t"},E=m("\u4E2A\u4EBA\u8BBE\u7F6E"),O=m("\u7ED1\u5B9A\u8C37\u6B4C\u9A8C\u8BC1\u7801"),Q=c(()=>s("div",{class:"top-tip"},"\u8C37\u6B4C\u9A8C\u8BC1\u5668\u662F\u4E00\u6B3E\u52A8\u6001\u53E3\u4EE4\u5DE5\u5177\uFF0C\u5DE5\u4F5C\u539F\u7406\u7C7B\u4F3C\u77ED\u4FE1\u52A8\u6001\u9A8C\u8BC1\u3002\u7ED1\u5B9A\u540E\u6BCF30s\u751F\u6210\u4E00\u4E2A\u52A8\u6001\u9A8C\u8BC1\u7801\uFF0C\u9A8C\u8BC1\u7801\u53EF\u7528\u4E8E\u767B\u5F55\u3001\u63D0\u73B0\u3001\u4FEE\u6539\u5B89\u5168\u8BBE\u7F6E\u7B49\u64CD\u4F5C\u7684\u5B89\u5168\u9A8C\u8BC1\u3002",-1)),U={style:{height:"500px"}},M=c(()=>s("div",{slot:"description"},[s("div",{class:"des"},"iOS\u7528\u6237\u767B\u5F55App Store\u641C\u7D22\u201CAuthenticator\u201D\u4E0B\u8F7D\u5B89\u5353\u7528\u6237\u767B\u5F55\u5E94\u7528\u5546\u5E97\u6216\u4F7F\u7528\u624B\u673A\u6D4F\u89C8\u5668\u641C\u7D22\u201C\u8C37\u6B4C\u9A8C\u8BC1\u5668\u201D\u4E0B\u8F7D"),s("div",{style:{"margin-bottom":"60px"}},[s("img",{style:{"margin-right":"60px"},src:z,alt:"appstore"}),s("img",{src:F,alt:"googleplay"})])],-1)),j={slot:"description"},K=c(()=>s("div",{class:"des"},"\u6253\u5F00\u8C37\u6B4C\u9A8C\u8BC1\u5668\uFF0C\u626B\u63CF\u4E0B\u65B9\u4E8C\u7EF4\u7801\u6216\u624B\u52A8\u8F93\u5165\u4E0B\u8FF0\u5BC6\u94A5\u6DFB\u52A0\u9A8C\u8BC1\u4EE4\u724C\u3002",-1)),G={class:"gauth flex"},H={class:"qr"},J={class:"key"},W={class:"copy"},X=c(()=>s("i",{class:"el-icon-copy-document"},null,-1)),Y=m(" \u590D\u5236\u79D8\u94A5 "),Z=[X,Y],$=c(()=>s("div",{class:"m-b"}," \u8C37\u6B4C\u9A8C\u8BC1\u7801 ",-1)),ee=m(" \u7ED1\u5B9A ");function te(i,n,oe,ie,o,d){const h=l("el-breadcrumb-item"),V=l("el-breadcrumb"),_=l("el-step"),k=l("xy-qrcode"),S=l("el-steps"),u=l("el-input"),p=l("el-form-item"),y=l("xy-send-verify"),C=l("el-button"),T=l("el-form"),v=l("el-col"),b=l("el-row"),x=q("clipboard");return a(),w("div",L,[s("div",A,[e(V,{"separator-class":"el-icon-arrow-right",class:"p-l m-b"},{default:t(()=>[e(h,{to:{path:"/user/center"}},{default:t(()=>[E]),_:1}),e(h,null,{default:t(()=>[O]),_:1})]),_:1}),e(b,{type:"flex",justify:"center"},{default:t(()=>[e(v,{xs:22,sm:20,md:16,lg:14},{default:t(()=>[Q,s("div",U,[e(S,{direction:"vertical",space1:"60",active:0},{default:t(()=>[e(_,{status:"process",title:"\u4E0B\u8F7D\u8C37\u6B4C\u9A8C\u8BC1"},{default:t(()=>[M]),_:1}),e(_,{status:"process",title:"\u5728\u8C37\u6B4C\u9A8C\u8BC1\u5668\u4E2D\u6DFB\u52A0\u5BC6\u94A5\u5E76\u5907\u4EFD"},{default:t(()=>[s("div",j,[K,s("div",G,[s("div",H,[e(k,{value:o.gauthQrcode,options:{width:118}},null,8,["value"])]),s("div",null,[s("div",J,"Key\uFF1A"+D(o.gauthSecret),1),B((a(),w("div",W,Z)),[[x,o.gauthSecret,"copy"],[x,d.copySuccess,"success"]])])])])]),_:1}),e(_,{status:"process",title:"\u8F93\u5165\u8C37\u6B4C\u9A8C\u8BC1\u5668\u4E2D6\u4F4D\u9A8C\u8BC1\u7801",description:""})]),_:1})]),e(b,{class:"m-t",style:{"margin-left":"30px"},type:"flex",justify:"start",align:"middle"},{default:t(()=>[e(v,{xs:22,sm:22,md:18,lg:18,class:"login-box bg-white1 p-a-0"},{default:t(()=>[$,e(T,{ref:"form",model:o.form,rules:o.rule},{default:t(()=>[e(p,{prop:"verify"},{default:t(()=>[e(u,{size:"large",type:"text",prefix:"ios-lock-outline",modelValue:o.form.verify,"onUpdate:modelValue":n[0]||(n[0]=r=>o.form.verify=r),placeholder:"\u8BF7\u8F93\u5165\u8C37\u6B4C\u9A8C\u8BC1\u7801"},null,8,["modelValue"])]),_:1}),o.verifyList.indexOf("email")>=0?(a(),f(p,{key:0,prop:"emailVerify"},{default:t(()=>[e(u,{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",modelValue:o.form.emailVerify,"onUpdate:modelValue":n[1]||(n[1]=r=>o.form.emailVerify=r),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u9A8C\u8BC1\u7801"},{default:t(()=>[e(y,{slot:"append",onVerifysuccess:d.getVerifyToken,url:"/v1/email/verify/send",type:"\u90AE\u7BB1",noNeedAccount:!0,title:"\u7ED1\u5B9A\u8C37\u6B4C\u9A8C\u8BC1"},null,8,["onVerifysuccess"])]),_:1},8,["modelValue"])]),_:1})):g("",!0),o.verifyList.indexOf("mobile")>=0?(a(),f(p,{key:1,prop:"mobileVerify"},{default:t(()=>[e(u,{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",modelValue:o.form.mobileVerify,"onUpdate:modelValue":n[2]||(n[2]=r=>o.form.mobileVerify=r),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u9A8C\u8BC1\u7801"},{default:t(()=>[e(y,{slot:"append",onVerifysuccess:d.getMobileVerifyToken,url:"/v1/sms/verify/send",type:"\u624B\u673A\u53F7",noNeedAccount:!0,title:"\u7ED1\u5B9A\u8C37\u6B4C\u9A8C\u8BC1"},null,8,["onVerifysuccess"])]),_:1},8,["modelValue"])]),_:1})):g("",!0),o.verifyList.indexOf("password")>=0?(a(),f(p,{key:2,prop:"password"},{default:t(()=>[e(u,{size:"large",type:"password",prefix:"ios-lock-outline",modelValue:o.form.password,"onUpdate:modelValue":n[3]||(n[3]=r=>o.form.password=r),placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})):g("",!0),e(C,{class:"full submit-btn",size:"large",loading:o.loading,type:"primary",onClick:n[4]||(n[4]=r=>d.handleSubmit("form"))},{default:t(()=>[ee]),_:1},8,["loading"])]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1})])])}var le=N(P,[["render",te],["__scopeId","data-v-69cb09ec"]]);export{le as default};
