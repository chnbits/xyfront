import{_ as k}from"../index-726dc959.js";const x={data(){return{verifyList:[],loading:!1,form:{paypwd:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{paypwd:[{required:!0,message:"\u8BF7\u586B\u5199\u652F\u4ED8\u5BC6\u7801",trigger:"blur"},{type:"string",min:6,message:"\u5BC6\u7801\u81F3\u5C116\u4F4D",trigger:"blur"}]}}},created:function(){this.loadData()},methods:{getVerifyToken(i){this.form.emailToken=i.token},getMobileVerifyToken(i){this.form.mobileToken=i.token},async loadData(){let i=await this.$util.request({url:"/v1/paypwd/pwd/set",method:"get"});i.code=="200"?this.verifyList=i.data.dataList:this.$util.showToast({title:i.msg,icon:"loading",duration:3e3})},async handleSubmit(){this.loading=!0;let i=this;setTimeout(function(){i.loading=!1},5e3);let o=await this.$util.request({url:"/v1/paypwd/pwd/set",data:this.form,method:"post"});o.code=="200"?(this.$util.showToast({title:o.msg,icon:"success",duration:2e3}),this.$xyutil.navigateBack()):this.$util.showToast({title:o.msg,icon:"loading",duration:3e3}),this.loading=!1}}},f=window.Vue.createTextVNode,r=window.Vue.resolveComponent,l=window.Vue.withCtx,t=window.Vue.createVNode,y=window.Vue.createElementVNode,a=window.Vue.openBlock,u=window.Vue.createBlock,m=window.Vue.createCommentVNode,v=window.Vue.createElementBlock,T={class:"bg-white p-t p-b"},N=f("\u4E2A\u4EBA\u8BBE\u7F6E"),B=f("\u8BBE\u7F6E\u652F\u4ED8\u5BC6\u7801"),C={class:"container p-a-md"},L=y("div",{class:"title m-b"}," \u8BBE\u7F6E\u652F\u4ED8\u5BC6\u7801 ",-1),z=f(" \u786E\u8BA4 ");function U(i,o,E,O,e,p){const c=r("el-breadcrumb-item"),V=r("el-breadcrumb"),n=r("el-input"),d=r("el-form-item"),_=r("xy-send-verify"),w=r("el-button"),g=r("el-form"),h=r("el-col"),b=r("el-row");return a(),v("div",T,[t(V,{"separator-class":"el-icon-arrow-right",class:"p-l m-b"},{default:l(()=>[t(c,{to:{path:"/user/center"}},{default:l(()=>[N]),_:1}),t(c,null,{default:l(()=>[B]),_:1})]),_:1}),y("div",C,[t(b,{type:"flex",justify:"center",align:"middle"},{default:l(()=>[t(h,{xs:22,sm:12,md:10,lg:10,class:"login-box bg-white"},{default:l(()=>[L,t(g,{ref:"form",model:e.form,rules:e.rule},{default:l(()=>[t(d,{prop:"paypwd"},{default:l(()=>[t(n,{size:"large",type:"password",prefix:"ios-lock-outline",modelValue:e.form.paypwd,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.paypwd=s),placeholder:"\u8BF7\u8F93\u51656-18\u4F4D\u652F\u4ED8\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e.verifyList.indexOf("email")>=0?(a(),u(d,{key:0,prop:"emailVerify"},{default:l(()=>[t(n,{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",modelValue:e.form.emailVerify,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.emailVerify=s),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u9A8C\u8BC1\u7801"},{default:l(()=>[t(_,{slot:"append",onVerifysuccess:p.getVerifyToken,url:"/v1/email/verify/send",type:"\u90AE\u7BB1",noNeedAccount:!0,title:"\u8BBE\u7F6E\u8D44\u91D1\u5BC6\u7801"},null,8,["onVerifysuccess"])]),_:1},8,["modelValue"])]),_:1})):m("",!0),e.verifyList.indexOf("mobile")>=0?(a(),u(d,{key:1,prop:"mobileVerify"},{default:l(()=>[t(n,{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",modelValue:e.form.mobileVerify,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.mobileVerify=s),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u9A8C\u8BC1\u7801"},{default:l(()=>[t(_,{slot:"append",onVerifysuccess:p.getMobileVerifyToken,url:"/v1/sms/verify/send",type:"\u624B\u673A\u53F7",noNeedAccount:!0,title:"\u8BBE\u7F6E\u8D44\u91D1\u5BC6\u7801"},null,8,["onVerifysuccess"])]),_:1},8,["modelValue"])]),_:1})):m("",!0),e.verifyList.indexOf("gauth")>=0?(a(),u(d,{key:2,prop:"gauth"},{default:l(()=>[t(n,{size:"large",type:"password",prefix:"ios-lock-outline",modelValue:e.form.gauth,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.gauth=s),placeholder:"\u8BF7\u8F93\u5165\u8C37\u6B4C\u9A8C\u8BC1\u7801"},null,8,["modelValue"])]),_:1})):m("",!0),e.verifyList.indexOf("password")>=0?(a(),u(d,{key:3,prop:"password"},{default:l(()=>[t(n,{size:"large",type:"password",prefix:"ios-lock-outline",modelValue:e.form.password,"onUpdate:modelValue":o[4]||(o[4]=s=>e.form.password=s),placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["modelValue"])]),_:1})):m("",!0),t(w,{class:"full submit-btn m-b-lg",size:"large",loading:e.loading,type:"primary",onClick:o[5]||(o[5]=s=>p.handleSubmit("form"))},{default:l(()=>[z]),_:1},8,["loading"])]),_:1},8,["model","rules"])]),_:1})]),_:1})])])}var A=k(x,[["render",U]]);export{A as default};
