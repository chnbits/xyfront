import{_ as x}from"../index-726dc959.js";const k={name:"safeSet",data(){return{loading:!1,safeSet:{},verifyData:"",mfa:0}},created:function(){this.loadSafeSet(),this.mfa=this.safeSet["2fa"]},methods:{close(){this.mfa=this.safeSet["2fa"]},handle2fa:async function(t){var h;let s={action:t};this.verifyData&&(s._verify=this.verifyData);let p=await this.$util.request({url:"/v1/user/user/loginVerifySet",data:s,method:"put"});if(p.code==200)(h=this.$refs)!=null&&h.sv&&this.$refs.sv.close(),this.$util.showToast({title:p.msg,icon:"success",duration:2e3}),this.verifyData="";else{if(p.code==401003){this.$refs.sv.open(p.data.verifyList);return}this.mfa=this.safeSet["2fa"],this.$util.showToast({title:p.msg,icon:"loading",duration:3e3})}},async loadSafeSet(){this.loading=!0;let t=await this.$util.request({url:"/v1/user/user/safeSet",method:"get"});t.code==200?this.safeSet=t.data.dataList:this.$util.showToast({title:t.msg,icon:"loading",duration:3e3}),this.loading=!1}}},e=window.Vue.createElementVNode,_=window.Vue.resolveComponent,v=window.Vue.createVNode,a=window.Vue.openBlock,f=window.Vue.createElementBlock,o=window.Vue.createCommentVNode,u=window.Vue.createTextVNode,n=window.Vue.withCtx,d=window.Vue.createBlock,b=window.Vue.pushScopeId,V=window.Vue.popScopeId,c=t=>(b("data-v-35e6f991"),t=t(),V(),t),C={slot:"header",class:"clearfix flex"},E=c(()=>e("span",{class:"title"},"\u8D26\u53F7\u4E0E\u5B89\u5168",-1)),T={key:0,class:"m-l-md"},$={class:"safety-level",style:{"padding-top":"10px"}},z={class:"flex"},I={class:"tip ts-12 m-t-xs text-gray flex flex-alignCenter"},N=c(()=>e("i",{class:"xyicon xyicon-help-o ts-13 m-r-xs"},null,-1)),B={key:0},D={key:1},L={class:"content clearfix"},P={class:"count-list"},q={key:0,class:"item clear"},F=c(()=>e("div",{class:"fl"},[e("span",{class:"title"},"\u624B\u673A\u7ED1\u5B9A"),e("span",{class:"tip"},"\u77ED\u4FE1\u9A8C\u8BC1\u7528\u4E8E\u767B\u5F55\u548C\u4FEE\u6539\u5B89\u5168\u9A8C\u8BC1")],-1)),R={class:"fr"},U=u("\u7ED1\u5B9A"),W=u("\u6362\u7ED1"),j={key:1,class:"item clear"},A=c(()=>e("div",{class:"fl"},[e("span",{class:"title"},"\u90AE\u7BB1\u7ED1\u5B9A"),e("span",{class:"tip"},"\u4E3A\u4E86\u60A8\u7684\u8D26\u6237\u5B89\u5168\uFF0C\u8BF7\u7ED1\u5B9A\u90AE\u7BB1")],-1)),G={class:"fr"},H=u("\u7ED1\u5B9A"),J=u("\u6362\u7ED1"),K={class:"item clear"},M=c(()=>e("div",{class:"fl"},[e("span",{class:"title"},"\u767B\u5F55\u5BC6\u7801"),e("span",{class:"tip"},"\u767B\u5F55\u65F6\u4F7F\u7528\uFF0C\u662F\u60A8\u7684\u7B2C\u4E00\u9053\u5B89\u5168\u9632\u7EBF")],-1)),O={class:"fr"},Q=u("\u4FEE\u6539"),X=u("\u8BBE\u7F6E"),Y={key:2,class:"item clear"},Z=c(()=>e("div",{class:"fl"},[e("span",{class:"title"},"\u652F\u4ED8\u5BC6\u7801"),e("span",{class:"tip"},"\u4EA4\u6613\u65F6\u4F7F\u7528\uFF0C\u5F00\u542F\u624B\u673A\u9A8C\u8BC1\u6216\u8005\u8C37\u6B4C\u9A8C\u8BC1\u540E\u65B9\u53EF\u8FDB\u884C\u8BBE\u7F6E")],-1)),ee={class:"fr"},te=u("\u4FEE\u6539"),se=u("\u8BBE\u7F6E"),ie={key:3,class:"item clear"},ae=c(()=>e("div",{class:"fl"},[e("span",{class:"title"},"\u8C37\u6B4C\u9A8C\u8BC1"),e("span",{class:"tip"},"\u4E3A\u4E86\u60A8\u7684\u8D26\u6237\u5B89\u5168\uFF0C\u8BF7\u7ED1\u5B9A\u8C37\u6B4C\u9A8C\u8BC1\u5668")],-1)),oe={class:"fr"},le=u("\u7ED1\u5B9A"),ne=u("\u6362\u7ED1"),de={key:4,class:"item clear"},re=c(()=>e("div",{class:"fl"},[e("span",{class:"title"},"\u4E24\u6B65\u9A8C\u8BC1"),e("span",{class:"tip"},"\u5F00\u542F\u540E\uFF0C\u6BCF\u6B21\u767B\u5F55\u5747\u9700\u8981\u901A\u8FC7\u77ED\u4FE1\u6216\u8C37\u6B4C\u9A8C\u8BC1")],-1)),ue={class:"fr"};function fe(t,s,p,h,i,y){const m=_("xy-safety-level"),r=_("el-button"),g=_("el-switch"),w=_("xy-safety-verify"),S=_("el-card");return a(),d(S,{class:"center-box safe-box m-b",shadow:"never"},{default:n(()=>[e("div",C,[E,t.$util.hasExt("user")?(a(),f("div",T,[e("div",$,[e("div",z,[v(m,{levelWidt:"80px",level:t.$store.state.user.userInfo.moduleExtend.user.safetyLevel},null,8,["level"])]),e("div",I,[N,t.$store.state.user.userInfo.moduleExtend.user.safetyLevel<3?(a(),f("span",B," \u8D26\u53F7\u5B89\u5168\u7EA7\u522B\u8F83\u4F4E\uFF0C\u5EFA\u8BAE\u5B8C\u5584\u5B9E\u540D\u8BA4\u8BC1\u3001\u624B\u673A\u53F7\u53CA\u90AE\u7BB1\u7ED1\u5B9A\u3002 ")):o("",!0),t.$store.state.user.userInfo.moduleExtend.user.safetyLevel==3?(a(),f("span",D," \u5F53\u524D\u8D26\u53F7\u5F88\u5B89\u5168\uFF0C\u5EFA\u8BAE\u60A8\u5B9A\u671F\u5B9A\u671F\u4FEE\u6539\u5BC6\u7801\u7EE7\u7EED\u4FDD\u6301\uFF01 ")):o("",!0)])])])):o("",!0)]),e("div",L,[e("div",P,[t.$util.hasExt("reg_mobile")?(a(),f("div",q,[F,e("div",R,[i.safeSet.mobile?o("",!0):(a(),d(r,{key:0,onClick:s[0]||(s[0]=l=>t.$xyutil.navigateTo({url:"/reg_mobile/user/bind"})),type:"primary",size:"default",plain:"",class:""},{default:n(()=>[U]),_:1})),i.safeSet.mobile?(a(),d(r,{key:1,onClick:s[1]||(s[1]=l=>t.$xyutil.navigateTo({url:"/reg_mobile/user/change"})),type:"primary",size:"default",plain:"",class:"ghost"},{default:n(()=>[W]),_:1})):o("",!0)])])):o("",!0),t.$util.hasExt("reg_email")?(a(),f("div",j,[A,e("div",G,[i.safeSet.email?o("",!0):(a(),d(r,{key:0,onClick:s[2]||(s[2]=l=>t.$xyutil.navigateTo({url:"/reg_email/user/bind"})),type:"primary",size:"default",plain:"",class:""},{default:n(()=>[H]),_:1})),i.safeSet.email?(a(),d(r,{key:1,onClick:s[3]||(s[3]=l=>t.$xyutil.navigateTo({url:"/reg_email/user/change"})),type:"primary",size:"default",plain:"",class:"ghost"},{default:n(()=>[J]),_:1})):o("",!0)])])):o("",!0),e("div",K,[M,e("div",O,[i.safeSet.password&&i.safeSet.password.isset?(a(),d(r,{key:0,onClick:s[4]||(s[4]=l=>t.$xyutil.navigateTo({url:"/user/editPassword"})),type:"primary",size:"default",plain:"",class:"ghost"},{default:n(()=>[Q]),_:1})):o("",!0),i.safeSet.password&&!i.safeSet.password.isset?(a(),d(r,{key:1,type:"primary",size:"default",plain:"",class:""},{default:n(()=>[X]),_:1})):o("",!0)])]),t.$util.hasExt("paypwd")?(a(),f("div",Y,[Z,e("div",ee,[i.safeSet.paypwd&&i.safeSet.paypwd.isset?(a(),d(r,{key:0,onClick:s[5]||(s[5]=l=>t.$xyutil.navigateTo({url:"/paypwd/change"})),type:"primary",size:"default",plain:"",class:"ghost"},{default:n(()=>[te]),_:1})):o("",!0),i.safeSet.paypwd&&!i.safeSet.paypwd.isset?(a(),d(r,{key:1,onClick:s[6]||(s[6]=l=>t.$xyutil.navigateTo({url:"/paypwd/set"})),type:"primary",size:"default",plain:"",disabled:!i.safeSet.mobile&!i.safeSet.email},{default:n(()=>[se]),_:1},8,["disabled"])):o("",!0)])])):o("",!0),t.$util.hasExt("gauth")?(a(),f("div",ie,[ae,e("div",oe,[i.safeSet.gauth?o("",!0):(a(),d(r,{key:0,onClick:s[7]||(s[7]=l=>t.$xyutil.navigateTo({url:"/gauth/user/bind"})),type:"primary",disabled:!i.safeSet.mobile&!i.safeSet.email,size:"default",plain:"",class:""},{default:n(()=>[le]),_:1},8,["disabled"])),i.safeSet.gauth?(a(),d(r,{key:1,onClick:s[8]||(s[8]=l=>t.$xyutil.navigateTo({url:"/gauth/user/change"})),type:"primary",size:"default",plain:"",class:"ghost"},{default:n(()=>[ne]),_:1})):o("",!0)])])):o("",!0),t.$util.hasExt("gauth")>=0||t.$util.hasExt("reg_mobile")>=0||t.$util.hasExt("email")?(a(),f("div",de,[re,e("div",ue,[v(g,{disabled:!i.safeSet.mobile&!i.safeSet.email,modelValue:i.mfa,"onUpdate:modelValue":s[9]||(s[9]=l=>i.mfa=l),"active-value":1,"inactive-value":0,onChange:y.handle2fa},null,8,["disabled","modelValue","onChange"])])])):o("",!0)])]),v(w,{modelValue:i.verifyData,"onUpdate:modelValue":s[10]||(s[10]=l=>i.verifyData=l),onVerifyRequest:y.handle2fa,onCancel:y.close,ref:"sv"},null,8,["modelValue","onVerifyRequest","onCancel"])]),_:1})}var pe=x(k,[["render",fe],["__scopeId","data-v-35e6f991"]]);export{pe as default};
