import{_ as q}from"../index-726dc959.js";const K={name:"editExtendInfo",data(){return{loading:!1,extendInfo:{},publicAttrCates:[],userTypeList:[],userType:1,regionInit:{showInput:!1,labelField:"name",valueField:"name",deep:1,maxLevel:3,nodeKey:"id",lazy:!0,action:"/v1/region/region/lists"}}},created:function(){this.loadData()},watch:{"extendInfo.own.country":{handler(t){t!="\u4E2D\u56FD"?this.regionInit.showInput=!0:this.regionInit.showInput=!1},deep:!0,immediate:!0},"extendInfo.org.country":{handler(t){t!="\u4E2D\u56FD"?this.regionInit.showInput=!0:this.regionInit.showInput=!1},deep:!0,immediate:!0}},methods:{getOptionValue(t){return t!=null&&t.value?t==null?void 0:t.value:t==null?void 0:t.title},async saveTypeInfo(t){t=t.split(",");let c={};t.forEach(v=>{c[v]=this.extendInfo[v]});let h=await this.$util.request({url:"/v1/user/user/extendInfo",data:{userType:this.usertype,extendInfo:c},method:"put"});h.code==200?this.$util.showToast({title:h.msg,icon:"loading",duration:2e3}):this.$util.showToast({title:h.msg,icon:"loading",duration:3e3})},async saveInfo(t){let c={};c[t]=this.extendInfo[t];let h=await this.$util.request({url:"/v1/user/user/extendInfo",data:{extendInfo:c},method:"put"});h.code==200?this.$util.showToast({title:h.msg,icon:"loading",duration:2e3}):this.$util.showToast({title:h.msg,icon:"loading",duration:3e3})},async loadData(t){let c=await this.$util.request({url:"/v1/user/user/extendInfo",data:{},method:"get"});c.code==200?(this.userTypeList=c.data.userTypeList,this.publicAttrCates=c.data.publicAttrCates,this.extendInfo=c.data.extendInfo):this.$util.showToast({title:c.msg,icon:"loading",duration:3e3})}}},p=window.Vue.renderList,i=window.Vue.Fragment,l=window.Vue.openBlock,d=window.Vue.createElementBlock,y=window.Vue.toDisplayString,f=window.Vue.createElementVNode,_=window.Vue.resolveComponent,r=window.Vue.createBlock,I=window.Vue.createCommentVNode,u=window.Vue.withCtx,b=window.Vue.createTextVNode,x=window.Vue.createVNode,j=window.Vue.pushScopeId,G=window.Vue.popScopeId,N=t=>(j("data-v-6b4e2eb4"),t=t(),G(),t),H={class:"title tw4 ts-16 m-b-xs m-t"},J={class:"box bg-white"},M={key:0,class:"text-gray ts-12 m-l-md"},P=N(()=>f("i",{class:"xyicon xyicon-help-o m-r-xs"},null,-1)),Q={class:"p-b",style:{width:"100%"}},R=b("\u4FDD\u5B58\u8BBE\u7F6E"),W={key:0},X=N(()=>f("div",{class:"title tw4 ts-16 m-b-xs m-t"},"\u8054\u7CFB\u4FE1\u606F",-1)),Y={class:"box bg-white"},Z={key:5,class:"text-gray ts-12"},$=N(()=>f("i",{class:"xyicon xyicon-help-o m-r-xs"},null,-1)),ee={class:"p-b m-r-lg",style:{width:"100%"}},le=b("\u4FDD\u5B58\u8BBE\u7F6E");function ne(t,c,h,v,o,m){const E=_("el-input"),z=_("el-option"),O=_("el-select"),D=_("xy-cascader2"),k=_("el-radio"),U=_("el-radio-group"),S=_("el-checkbox"),B=_("el-checkbox-group"),T=_("el-form-item"),C=_("el-form"),A=_("el-button"),F=_("xy-cascader");return l(),d("div",null,[(l(!0),d(i,null,p(o.publicAttrCates,(a,w)=>(l(),d("div",{key:w},[f("div",H,y(a.title),1),f("div",J,[x(C,{model:o.extendInfo[a.name],"label-width":"140px","label-suffix":":",size:"default"},{default:u(()=>[(l(!0),d(i,null,p(a.attrList,(n,L)=>(l(),d("div",{key:L},[x(T,{label:n.title},{default:u(()=>[n.type=="text"?(l(),r(E,{key:0,size:"default",modelValue:o.extendInfo[a.name][n.name],"onUpdate:modelValue":e=>o.extendInfo[a.name][n.name]=e,placeholder:n.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):n.type=="select"?(l(),r(O,{key:1,modelValue:o.extendInfo[a.name][n.name],"onUpdate:modelValue":e=>o.extendInfo[a.name][n.name]=e,placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[(l(!0),d(i,null,p(n.options,(e,V)=>(l(),r(z,{key:V,label:e.title,value:m.getOptionValue(e)},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):n.type=="cascader2"?(l(),r(D,{key:2,options:n.options,modelValue:o.extendInfo[a.name][n.name],"onUpdate:modelValue":e=>o.extendInfo[a.name][n.name]=e},null,8,["options","modelValue","onUpdate:modelValue"])):n.type=="radio"?(l(),r(U,{key:3,modelValue:o.extendInfo[a.name][n.name],"onUpdate:modelValue":e=>o.extendInfo[a.name][n.name]=e},{default:u(()=>[(l(!0),d(i,null,p(n.options,(e,V)=>(l(),r(k,{label:m.getOptionValue(e),key:V},{default:u(()=>[b(y(e.title),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):n.type=="checkbox"?(l(),r(B,{key:4,modelValue:o.extendInfo[a.name][n.name],"onUpdate:modelValue":e=>o.extendInfo[a.name][n.name]=e},{default:u(()=>[(l(!0),d(i,null,p(n.options,(e,V)=>(l(),r(S,{label:m.getOptionValue(e),key:V},{default:u(()=>[b(y(e.title),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):I("",!0)]),_:2},1032,["label"]),n.tip?(l(),d("div",M,[P,f("span",null,y(n.tip),1)])):I("",!0)]))),128))]),_:2},1032,["model"]),f("div",Q,[x(A,{class:"fr",size:"default",type:"primary",onClick:n=>m.saveInfo(a.name)},{default:u(()=>[R]),_:2},1032,["onClick"])])])]))),128)),o.userTypeList.length>0?(l(),d("div",W,[X,f("div",Y,[f("div",null,[x(C,{"label-width":"140px","label-suffix":":"},{default:u(()=>[x(T,{label:"\u8EAB\u4EFD"},{default:u(()=>[x(U,{modelValue:o.userType,"onUpdate:modelValue":c[0]||(c[0]=a=>o.userType=a)},{default:u(()=>[(l(!0),d(i,null,p(o.userTypeList,(a,w)=>(l(),r(k,{label:a.id,key:w},{default:u(()=>[b(y(a.title),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),(l(!0),d(i,null,p(o.userTypeList,(a,w)=>(l(),d("div",{key:w},[a.id==o.userType?(l(),d(i,{key:0},[(l(!0),d(i,null,p(a.attrCates,(n,L)=>(l(),d("div",{key:L},[x(C,{model:o.extendInfo[n.name],"label-width":"140px","label-suffix":":"},{default:u(()=>[(l(!0),d(i,null,p(n.attrList,(e,V)=>(l(),d("div",{key:V},[x(T,{label:e.title},{default:u(()=>[e.type=="text"?(l(),r(E,{key:0,size:"default",modelValue:o.extendInfo[n.name][e.name],"onUpdate:modelValue":s=>o.extendInfo[n.name][e.name]=s,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.type=="select"?(l(),r(O,{key:1,modelValue:o.extendInfo[n.name][e.name],"onUpdate:modelValue":s=>o.extendInfo[n.name][e.name]=s,placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[(l(!0),d(i,null,p(e.options,(s,g)=>(l(),r(z,{key:g,label:s.title,value:m.getOptionValue(s)},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type=="radio"?(l(),r(U,{key:2,modelValue:o.extendInfo[n.name][e.name],"onUpdate:modelValue":s=>o.extendInfo[n.name][e.name]=s},{default:u(()=>[(l(!0),d(i,null,p(e.options,(s,g)=>(l(),r(k,{label:m.getOptionValue(s),key:g},{default:u(()=>[b(y(s.title),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type=="checkbox"?(l(),r(B,{key:3,modelValue:o.extendInfo[n.name][e.name],"onUpdate:modelValue":s=>o.extendInfo[n.name][e.name]=s},{default:u(()=>[(l(!0),d(i,null,p(e.options,(s,g)=>(l(),r(S,{label:m.getOptionValue(s),key:g},{default:u(()=>[b(y(s.title),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type=="region"?(l(),r(F,{key:4,init:o.regionInit,modelValue:o.extendInfo[n.name][e.name],"onUpdate:modelValue":s=>o.extendInfo[n.name][e.name]=s},null,8,["init","modelValue","onUpdate:modelValue"])):I("",!0),e.tip?(l(),d("div",Z,[$,f("span",null,y(e.tip),1)])):I("",!0)]),_:2},1032,["label"])]))),128))]),_:2},1032,["model"])]))),128)),f("div",ee,[x(A,{class:"fr",size:"default",type:"primary",onClick:n=>m.saveTypeInfo(a.attrCateNames)},{default:u(()=>[le]),_:2},1032,["onClick"])])],64)):I("",!0)]))),128))])])):I("",!0)])}var te=q(K,[["render",ne],["__scopeId","data-v-6b4e2eb4"]]);export{te as default};
