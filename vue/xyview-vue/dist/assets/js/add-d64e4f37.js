import{a as v}from"../index-91ea30ae.js";const y=window.Vue.defineComponent,k=y({setup(){return{}},data(){return{item:{extra:{height:500,toolbar:"formatselect fontsizeselect | link image media blockquote codesample | bold italic underline strikethrough | forecolor backcolor bullist numlist | code fullscreen"}},cateList:[],form:{cateId:"",title:"",content:""},rules:[]}},created:function(){this.$route.query.cateId&&(this.cateId=this.$route.query.cateId),this.loadData()},methods:{async loadData(){let e=await this.$util.request({url:"/v1/forum/post/add",method:"get"});e.code==200?this.cateList=e.data.cateList:this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})},async onSubmit(){let e=await this.$util.request({url:"/v1/forum/post/add",data:this.form,method:"post"});e.code==200?(this.$util.showToast({title:e.msg,icon:"success",duration:2e3}),this.$router.back()):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})}}}),d=window.Vue.createTextVNode,n=window.Vue.resolveComponent,o=window.Vue.withCtx,t=window.Vue.createVNode,u=window.Vue.createElementVNode,g=window.Vue.renderList,$=window.Vue.Fragment,r=window.Vue.openBlock,m=window.Vue.createElementBlock,I=window.Vue.createBlock,C=window.Vue.pushScopeId,S=window.Vue.popScopeId,B=e=>(C("data-v-ac6b280c"),e=e(),S(),e),L={class:"container"},N=d("\u9996\u9875"),q=d("\u5E16\u5B50\u5217\u8868"),T=d("\u53D1\u5E03\u5E16\u5B50"),E=B(()=>u("div",null,[u("span",null,"\u53D1\u5E03\u5E16\u5B50")],-1)),U=d(" \u7ACB\u5373\u53D1\u5E03 "),x=d("\u53D6\u6D88");function z(e,a,D,F,j,A){const i=n("el-breadcrumb-item"),_=n("el-breadcrumb"),p=n("el-option"),f=n("el-select"),s=n("el-form-item"),w=n("el-input"),h=n("xy-editor-tinymce"),c=n("el-button"),b=n("el-form"),V=n("el-card");return r(),m("div",L,[t(_,{class:"m-b","separator-class":"el-icon-arrow-right"},{default:o(()=>[t(i,{to:{path:"/forum"}},{default:o(()=>[N]),_:1}),t(i,{to:{path:"/forum"}},{default:o(()=>[q]),_:1}),t(i,null,{default:o(()=>[T]),_:1})]),_:1}),t(V,{shadow:"never","body-style":{padding:"20px"}},{header:o(()=>[E]),default:o(()=>[t(b,{model:e.form,ref:"form",rules:e.rules,"label-width":"80px",inline:!1,size:"large"},{default:o(()=>[t(s,{label:"\u8282\u70B9"},{default:o(()=>[t(f,{modelValue:e.form.cateId,"onUpdate:modelValue":a[0]||(a[0]=l=>e.form.cateId=l),"value-key":"id",placeholder:"",clearable:"",filterable:""},{default:o(()=>[(r(!0),m($,null,g(e.cateList,l=>(r(),I(p,{key:l.value,label:l.title,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(s,{label:"\u6807\u9898"},{default:o(()=>[t(w,{modelValue:e.form.title,"onUpdate:modelValue":a[1]||(a[1]=l=>e.form.title=l)},null,8,["modelValue"])]),_:1}),t(s,{label:"\u6B63\u6587"},{default:o(()=>[t(h,{item:e.item,modelValue:e.form.content,"onUpdate:modelValue":a[2]||(a[2]=l=>e.form.content=l)},null,8,["item","modelValue"])]),_:1}),t(s,null,{default:o(()=>[t(c,{type:"primary",onClick:e.onSubmit},{default:o(()=>[U]),_:1},8,["onClick"]),t(c,{onClick:a[3]||(a[3]=l=>e.$router.back())},{default:o(()=>[x]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}var H=v(k,[["render",z],["__scopeId","data-v-ac6b280c"]]);export{H as default};
