import{_ as e,b as a,d as t,l}from"../../index.js";const d=(0,window.Vue.defineComponent)({components:{Vue3JsonEditor:(0,window.Vue.defineAsyncComponent)((()=>new Promise(((e,t)=>{a((()=>import("./vue3-json-editor.esm.prod-1bf497a3.js")),[]).then((a=>{e(a.Vue3JsonEditor)}))}))))},data:()=>({httpClient:"",requestIng:!1,ContentTypeList:["application/x-www-form-urlencoded","application/json","multipart/form-data","text/xml","text/plain"],tab:"params",httpData:{method:"GET",url:"",headerContentType:"application/x-www-form-urlencoded",header:[{key:"Accept",value:"*/*"},{key:"Content-Type",value:""}],params:[{key:"",value:""},{key:"",value:""}],formUrlencodeData:[{key:"",value:""}],formData:[{key:"",value:""}],jsonData:"",data:""},resTab:"res",resData:{data:""}}),watch:{"httpData.method"(e){"GET"==e&&(this.httpData.headerContentType="application/x-www-form-urlencoded")}},created:function(){this.httpClient=t.create({baseURL:"",timeout:3e4,withCredentials:!1})},methods:{sendHttp(){this.resData={data:""};let e="";switch(this.httpData.headerContentType){case"application/x-www-form-urlencoded":let a={};this.httpData.formUrlencodeData.forEach((e=>{e.key&&e.value&&(a[e.key]=e.value)})),e=l.stringify(a);break;case"multipart/form-data":let t=new FormData;for(const e in this.httpData.formData)t.append(this.httpData.formData[e].key,this.httpData.formData[e].value);e=t;break;case"application/json":e=JSON.stringify(this.httpData.jsonData);break;default:e=this.httpData.data}let a={};this.httpData.params.forEach((e=>{e.key&&e.value&&(a[e.key]=e.value)}));let t={};this.httpData.header.forEach((e=>{t[e.key]=e.value}));let d=this;this.httpClient({method:this.httpData.method,url:this.httpData.url,data:e,params:a,headers:t}).then((function(e){d.resData=e,d.showToast({message:"请求发送成功",type:"success"})})).catch((function(e){return a=this,t=null,l=function*(){},new Promise(((e,d)=>{var o=e=>{try{r(l.next(e))}catch(a){d(a)}},n=e=>{try{r(l.throw(e))}catch(a){d(a)}},r=a=>a.done?e(a.value):Promise.resolve(a.value).then(o,n);r((l=l.apply(a,t)).next())}));var a,t,l}))},addOne(e){this.httpData[e].push({key:"",value:""})},delOne(e,a){this.httpData[e].splice(a,1)}}}),o=window.Vue.resolveComponent,n=window.Vue.createVNode,r=window.Vue.withCtx,p=window.Vue.createTextVNode,u=window.Vue.createElementVNode,i=window.Vue.renderList,s=window.Vue.Fragment,m=window.Vue.openBlock,h=window.Vue.createElementBlock,c=window.Vue.toDisplayString,f=window.Vue.createBlock,y=window.Vue.createCommentVNode,D=window.Vue.resolveDirective,V=window.Vue.withDirectives,w={class:"container"},v={class:"flex items-center"},k={class:"m-t"},b={class:"m-t"},x={key:0},_={class:"m-t"},C={key:1},U={class:"m-t"},T={key:3},z={class:"m-t"},g={key:0,class:"m-b"};const E=e(d,[["render",function(e,a,t,l,d,E){const $=o("el-option"),O=o("el-select"),j=o("el-input"),L=o("el-button"),P=o("el-radio"),R=o("el-radio-group"),G=o("el-alert"),N=o("el-table-column"),S=o("el-table"),J=o("el-tab-pane"),A=o("el-tabs"),B=o("el-tag"),I=o("Vue3JsonEditor"),q=o("el-col"),F=o("el-row"),H=o("el-card"),K=D("loading");return m(),h("div",w,[n(H,{shadow:"never",class:"p-a"},{default:r((()=>[n(F,{gutter:20},{default:r((()=>[n(q,{xs:24,span:18,offset:0},{default:r((()=>[u("div",null,[u("div",v,[n(j,{type:"text",size:"default",modelValue:e.httpData.url,"onUpdate:modelValue":a[1]||(a[1]=a=>e.httpData.url=a),placeholder:"请输入请求网址"},{prepend:r((()=>[n(O,{size:"default",modelValue:e.httpData.method,"onUpdate:modelValue":a[0]||(a[0]=a=>e.httpData.method=a),placeholder:"请求方法",style:{width:"115px"}},{default:r((()=>[n($,{label:"GET",value:"GET"}),n($,{label:"POST",value:"POST"}),n($,{label:"PUT",value:"PUT"}),n($,{label:"DELETE",value:"DELETE"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),n(L,{class:"m-l",type:"primary",size:"default",onClick:e.sendHttp},{default:r((()=>[p("发送")])),_:1},8,["onClick"])]),n(R,{class:"m-t",disabled:"GET"==e.httpData.method,modelValue:e.httpData.headerContentType,"onUpdate:modelValue":a[2]||(a[2]=a=>e.httpData.headerContentType=a),size:"normal"},{default:r((()=>[(m(!0),h(s,null,i(e.ContentTypeList,((e,a)=>(m(),f(P,{key:a,label:e},{default:r((()=>[p(c(e),1)])),_:2},1032,["label"])))),128))])),_:1},8,["disabled","modelValue"]),n(A,{class:"m-t",modelValue:e.tab,"onUpdate:modelValue":a[10]||(a[10]=a=>e.tab=a),type:"card","tab-position":"top"},{default:r((()=>[n(J,{label:"params参数",name:"params"},{default:r((()=>[n(G,{class:"m-b",type:"warning",effect:"light"},{default:r((()=>[p(" params参数一般是指URL后边的参数行如key1=value1&key2=value2 ")])),_:1}),n(S,{data:e.httpData.params,border:""},{default:r((()=>[n(N,{prop:"key",label:"key"},{default:r((a=>[n(j,{modelValue:e.httpData.params[a.$index].key,"onUpdate:modelValue":t=>e.httpData.params[a.$index].key=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value"},{default:r((a=>[n(j,{modelValue:e.httpData.params[a.$index].value,"onUpdate:modelValue":t=>e.httpData.params[a.$index].value=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value",width:"80px"},{default:r((a=>[n(L,{type:"danger",size:"default",onClick:t=>e.delOne("params",a.$index)},{default:r((()=>[p("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",k,[n(L,{type:"primary",size:"default",onClick:a[3]||(a[3]=a=>e.addOne("params"))},{default:r((()=>[p("添加")])),_:1})])])),_:1}),n(J,{label:"header参数",name:"header"},{default:r((()=>[n(S,{data:e.httpData.header,border:""},{default:r((()=>[n(N,{prop:"key",label:"key",width:"300px"},{default:r((a=>[n(j,{modelValue:e.httpData.header[a.$index].key,"onUpdate:modelValue":t=>e.httpData.header[a.$index].key=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value"},{default:r((t=>["Content-Type"==t.row.key?(m(),f(j,{key:0,modelValue:e.httpData.headerContentType,"onUpdate:modelValue":a[4]||(a[4]=a=>e.httpData.headerContentType=a)},{default:r((()=>[p(' placeholder="" size="normal" clearable>')])),_:1},8,["modelValue"])):(m(),f(j,{key:1,modelValue:e.httpData.header[t.$index].value,"onUpdate:modelValue":a=>e.httpData.header[t.$index].value=a,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"]))])),_:1}),n(N,{prop:"value",label:"value",width:"80px"},{default:r((a=>[n(L,{type:"danger",size:"default",onClick:t=>e.delOne("header",a.$index)},{default:r((()=>[p("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",b,[n(L,{type:"primary",size:"default",onClick:a[5]||(a[5]=a=>e.addOne("header"))},{default:r((()=>[p("添加")])),_:1})])])),_:1}),n(J,{label:"body内容",name:"body"},{default:r((()=>["GET"==e.httpData.method?(m(),f(G,{key:0,type:"warning",effect:"light"},{default:r((()=>[p(" get请求无bady数据 ")])),_:1})):(m(),h(s,{key:1},["application/x-www-form-urlencoded"==e.httpData.headerContentType?(m(),h("div",x,[n(S,{data:e.httpData.formUrlencodeData,border:""},{default:r((()=>[n(N,{prop:"key",label:"key"},{default:r((a=>[n(j,{modelValue:e.httpData.formUrlencodeData[a.$index].key,"onUpdate:modelValue":t=>e.httpData.formUrlencodeData[a.$index].key=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value"},{default:r((a=>[n(j,{modelValue:e.httpData.formUrlencodeData[a.$index].value,"onUpdate:modelValue":t=>e.httpData.formUrlencodeData[a.$index].value=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value",width:"80px"},{default:r((a=>[n(L,{type:"danger",size:"default",onClick:t=>e.delOne("formUrlencodeData",a.$index)},{default:r((()=>[p("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",_,[n(L,{type:"primary",size:"default",onClick:a[6]||(a[6]=a=>e.addOne("formUrlencodeData"))},{default:r((()=>[p("添加")])),_:1})])])):"multipart/form-data"==e.httpData.headerContentType?(m(),h("div",C,[n(S,{data:e.httpData.formData,border:""},{default:r((()=>[n(N,{prop:"key",label:"key"},{default:r((a=>[n(j,{modelValue:e.httpData.formData[a.$index].key,"onUpdate:modelValue":t=>e.httpData.formData[a.$index].key=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value"},{default:r((a=>[n(j,{modelValue:e.httpData.formData[a.$index].value,"onUpdate:modelValue":t=>e.httpData.formData[a.$index].value=t,placeholder:"",size:"normal",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),n(N,{prop:"value",label:"value",width:"80px"},{default:r((a=>[n(L,{type:"danger",size:"default",onClick:t=>e.delOne("formData",a.$index)},{default:r((()=>[p("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",U,[n(L,{type:"primary",size:"default",onClick:a[7]||(a[7]=a=>e.addOne("formData"))},{default:r((()=>[p("添加")])),_:1})])])):"application/json"==e.httpData.headerContentType?(m(),f(j,{key:2,type:"textarea",rows:8,modelValue:e.httpData.jsonData,"onUpdate:modelValue":a[8]||(a[8]=a=>e.httpData.jsonData=a),placeholder:"","show-word-limit":!1,autosize:{minRows:8,maxRows:100}},null,8,["modelValue"])):(m(),h("div",T,[e.ContentTypeList.includes(e.httpData.headerContentType)?y("",!0):(m(),f(G,{key:0,class:"m-b",type:"warning",effect:"light"},{default:r((()=>[p(" 您可能修改了header中的Content-Type为不常见的值，请确保您真的需要这样做。 ")])),_:1})),n(j,{type:"textarea",rows:8,modelValue:e.httpData.data,"onUpdate:modelValue":a[9]||(a[9]=a=>e.httpData.data=a),placeholder:"","show-word-limit":!1,autosize:{minRows:8,maxRows:100}},null,8,["modelValue"])]))],64))])),_:1})])),_:1},8,["modelValue"])]),u("div",z,[n(A,{modelValue:e.resTab,"onUpdate:modelValue":a[12]||(a[12]=a=>e.resTab=a),type:"card","tab-position":"top"},{default:r((()=>[V((m(),f(J,{label:"请求结果",name:"res"},{default:r((()=>[e.resData.status?(m(),h("div",g,[p(" 状态码： "),n(B,{type:200==e.resData.status?"success":"danger",size:"normal",effect:"dark"},{default:r((()=>[p(c(e.resData.status),1)])),_:1},8,["type"])])):y("",!0),n(I,{modelValue:e.resData.data,"onUpdate:modelValue":a[11]||(a[11]=a=>e.resData.data=a),"show-btns":!0,expandedOnStart:!0},null,8,["modelValue"])])),_:1})),[[K,e.requestIng]])])),_:1},8,["modelValue"])])])),_:1}),n(q,{xs:24,span:6,offset:0,class:"p-t"})])),_:1})])),_:1})])}]]);export{E as default};
