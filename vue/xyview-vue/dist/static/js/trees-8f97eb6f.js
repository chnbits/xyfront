var e=(e,t,a)=>new Promise(((i,l)=>{var d=e=>{try{o(a.next(e))}catch(t){l(t)}},n=e=>{try{o(a.throw(e))}catch(t){l(t)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(d,n);o((a=a.apply(e,t)).next())}));import{c as t}from"./lists-63b7875b.js";import{_ as a}from"../../index.js";window.Vue.defineAsyncComponent;const i=window.Vue.nextTick,l={components:{"comment-lists":t},data:()=>({id:0,info:{},dataList:[],current:{},loading:!1,showReplyForm:!0,query:{},navShow:!1,defaultExpandedKeys:[]}),created:function(){return e(this,null,(function*(){this.id=this.$route.params.id,this.query=this.$util.getUrlQuery(),yield this.loadData(),this.query.id?this.current=this.$util.treeSearch(this.dataList,this.query.id):this.current=this.dataList[0],yield i()}))},watch:{$route(e,t){this.id=this.$route.params.id,this.loadData()},"current.content"(e){}},methods:{open(t,a){return e(this,null,(function*(){this.current=a,this.navShow=!1;let e=location.href;e=location.href.split("?");const t=e[0]+`?id=${a.id}`;window.history.replaceState("","",t),document.getElementById("right").scrollTop=0,yield i()}))},loadData(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$util.request({url:"/v1/doc/chapter/trees/"+this.id,data:{},method:"get"});200==e.code?(this.info=e.data.info,this.dataList=e.data.dataList,this.defaultExpandedKeys=e.data.info.defaultExpandedKeys):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3}),this.loading=!1}))}}},d=window.Vue.toDisplayString,n=window.Vue.normalizeClass,o=window.Vue.createElementVNode,s=window.Vue.createTextVNode,r=window.Vue.resolveComponent,c=window.Vue.withCtx,u=window.Vue.createVNode,h=window.Vue.renderList,p=window.Vue.Fragment,m=window.Vue.openBlock,w=window.Vue.createElementBlock,f=window.Vue.createCommentVNode,x=window.Vue.resolveDirective,g=window.Vue.withDirectives,y=window.Vue.pushScopeId,v=window.Vue.popScopeId,V=e=>(y("data-v-453ee665"),e=e(),v(),e),k={class:"wrap"},b=V((()=>o("div",{class:"p-l-lg p-r-lg hidden-xs"},[o("a",{href:"https://www.aliyun.com/minisite/goods?userCode=gi8nxxhq",target:"_blank"},[o("img",{class:"opacity-82",style:{"max-width":"700px"},src:"https://img.alicdn.com/tfs/TB1otdTyAT2gK0jSZFkXXcIQFXa-2880-120.png"})])],-1))),C={class:"p-l-sm p-t-sm p-b-sm sub-nav flex justify-between hidden-md-and-up"},_=V((()=>o("span",{class:"xyicon xyicon-nav m-r-xs"},null,-1))),S={class:"main p"},F={class:"container1","element-loading-text":"拼命加载中"},T={class:"custom-tree-node flex flex-1 flex-alignCenter"},I=["onClick"],L={class:"custom-tree-node flex flex-1 flex-alignCenter"},$=["onClick"],q=V((()=>o("div",{class:"m-t m-b hidden-xs"},[o("a",{href:"https://www.aliyun.com/minisite/goods?userCode=gi8nxxhq",target:"_blank"},[o("img",{class:"opacity-85",src:"https://img.alicdn.com/tfs/TB1otdTyAT2gK0jSZFkXXcIQFXa-2880-120.png"})])],-1))),E={class:"m-t"},B={key:0,class:"m-t-md"};const D=a(l,[["render",function(e,t,a,i,l,y){const v=r("el-button"),V=r("xy-header-default"),D=r("el-tree"),K=r("el-drawer"),R=r("el-col"),X=r("xy-mavon-editor"),j=r("comment-lists"),P=r("el-row"),z=r("el-card"),N=x("loading");return m(),w("div",k,[u(V,{hasContainerProp:!1},{logo:c((()=>{var e;return[o("div",{class:n(["tw5 ts-22","text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-blue-500 via-blue-600"])},d((null==(e=l.info)?void 0:e.title)||l.id+"文档"),1)]})),"sub-nav1":c((()=>[b])),"sub-nav-container":c((()=>[o("div",C,[u(v,{link:"",size:"default",onClick:t[0]||(t[0]=e=>l.navShow=!0),class:"hidden-lg-and-up"},{default:c((()=>[_,s(" 目录 ")])),_:1})])])),_:1}),o("div",S,[g((m(),w("div",F,[u(z,{shadow:"none",style:{"min-height":"400px"}},{default:c((()=>[u(K,{title:"文档目录",modelValue:l.navShow,"onUpdate:modelValue":t[1]||(t[1]=e=>l.navShow=e),size:"250px",direction:"ltr"},{default:c((()=>[u(D,{class:"m-b-md",data:l.dataList,"node-key":"id","default-expand-all":!1,"highlight-current":"","expand-on-click-node":!0},{default:c((({node:e,data:t})=>[o("div",T,[o("div",{class:"flex-1 ts-14 tw5 flex flex-alignCenter",style:{height:"100%"},onClick:a=>y.open(e,t)},d(null==t?void 0:t.title),9,I)])])),_:1},8,["data"])])),_:1},8,["modelValue"]),u(P,{class:"flex flex-wrap",type:"flex",gutter:25},{default:c((()=>[u(R,{xs:0,sm:24,md:5,lg:5,xl:4,class:"left hidden-md-and-down"},{default:c((()=>[u(D,{class:"m-b-md p-t-sm",data:l.dataList,"node-key":"id","default-expand-all":!1,"default-expanded-keys":l.defaultExpandedKeys,"highlight-current":"","expand-on-click-node":!0},{default:c((({node:e,data:t})=>[o("div",L,[o("div",{class:"flex-1 ts-14 tw5 flex flex-alignCenter",style:{height:"100%"},onClick:a=>y.open(e,t)},d(null==t?void 0:t.title),9,$)])])),_:1},8,["data","default-expanded-keys"])])),_:1}),u(R,{xs:24,sm:24,md:24,lg:{span:17,offset:1},xl:{span:14,offset:3},class:"right p-l p-r",id:"right"},{default:c((()=>[u(X,{class:"p-t",defaultOpen:"preview",codeStyle:"solarized-dark",previewBackground:"#fff",navigation:!1,editable:!1,subfield:!1,border:!1,toolbarsFlag:!1,modelValue:l.current.content,"onUpdate:modelValue":t[2]||(t[2]=e=>l.current.content=e)},null,8,["modelValue"]),q,o("div",E,[(m(!0),w(p,null,h(l.current.children,((e,t)=>(m(),w("div",{key:t},[u(v,{type:"text",class:"ts-16 tw5",onClick:t=>y.open("",e)},{default:c((()=>[s(d(e.title),1)])),_:2},1032,["onClick"])])))),128))]),l.current.id?(m(),w("div",B,[u(j,{title:"评论",urlPrefix:"/docs/"+this.id,showReplyForm:l.showReplyForm,"onUpdate:showReplyForm":t[3]||(t[3]=e=>l.showReplyForm=e),dataId:l.current.id,dataModel:"doc_chapter"},null,8,["urlPrefix","showReplyForm","dataId"])])):f("",!0)])),_:1})])),_:1})])),_:1})])),[[N,l.loading]])])])}],["__scopeId","data-v-453ee665"]]);export{D as default};
