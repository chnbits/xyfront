var t=(t,e,o)=>new Promise(((a,l)=>{var n=t=>{try{s(o.next(t))}catch(e){l(e)}},i=t=>{try{s(o.throw(t))}catch(e){l(e)}},s=t=>t.done?a(t.value):Promise.resolve(t.value).then(n,i);s((o=o.apply(t,e)).next())}));import{_ as e}from"../../index.js";const o={name:"WorkSheet",props:[],components:{},data:()=>({loading:!1,tableData:[],dataPage:{total:0,page:1,limit:10}}),created:function(){this.loadlists()},methods:{close(e){return t(this,null,(function*(){let t=yield this.$util.request({url:"/v1/worksheet/worksheet/close/"+this.tableData[e].id,method:"put"});200==t.code?(this.tableData[e].state=0,this.$util.showToast({title:t.msg,icon:"loading",duration:2e3})):this.$util.showToast({title:t.msg,icon:"loading",duration:3e3})}))},deleteOne(e){return t(this,null,(function*(){this.getSelectedIds();let t=yield this.$util.request({url:"/v1/worksheet/worksheet/delete/"+this.tableData[e].id,method:"delete"});200==t.code?(this.loadlists(),this.$util.showToast({title:t.msg,icon:"loading",duration:2e3})):this.$util.showToast({title:t.msg,icon:"loading",duration:3e3})}))},loadlists(){return t(this,null,(function*(){this.loading=!0;let t=yield this.$util.request({url:"/v1/worksheet/worksheet/my",data:{page:this.dataPage.page,limit:this.dataPage.limit},method:"get"});200==t.code?(this.tableData=t.data.dataList,this.dataPage=t.data.dataPage):this.$util.showToast({title:t.msg,icon:"loading",duration:3e3}),this.loading=!1}))}}},a=window.Vue.createElementVNode,l=window.Vue.createTextVNode,n=window.Vue.resolveComponent,i=window.Vue.createVNode,s=window.Vue.toDisplayString,d=window.Vue.withCtx,r=window.Vue.openBlock,u=window.Vue.createElementBlock,c=window.Vue.createCommentVNode,h=window.Vue.pushScopeId,p=window.Vue.popScopeId,w=t=>(h("data-v-0f554832"),t=t(),p(),t),g={class:"top"},m=w((()=>a("span",{class:"iconfont iconbianji"},null,-1))),b=w((()=>a("div",null,[a("input",{type:"text"}),a("span",{class:"iconfont iconsousuo"})],-1))),f=w((()=>a("button",{type:"button",class:"toSearch"},"查找",-1))),k={class:"orderList"},y=w((()=>a("span",{class:"iconfont iconshaixuan"},null,-1))),v=w((()=>a("span",null,"状态(全部)",-1))),V=w((()=>a("span",{class:"iconfont iconsanjiaoxiabiaozhengfangxing"},null,-1))),x={key:0},$={key:1},T={key:2},C={class:"operateBtn","slot-scope":"scope"},_=[w((()=>a("span",{class:"iconfont iconchakan"},null,-1))),w((()=>a("button",null,"查看",-1)))],D=[w((()=>a("span",{class:"iconfont iconzantingtingzhi"},null,-1))),w((()=>a("button",null,"关闭",-1)))],P=[w((()=>a("span",{class:"iconfont iconshanchu"},null,-1))),w((()=>a("button",null,"删除",-1)))];const S=e(o,[["render",function(t,e,o,h,p,w){const S=n("el-table-column"),I=n("el-table");return r(),u("div",null,[a("div",g,[a("button",{type:"button",class:"addOrder",onClick:e[0]||(e[0]=e=>t.$router.push({path:"/worksheet/worksheet/add"}))},[m,l(" 提交工单 ")]),b,f]),a("div",k,[i(I,{data:p.tableData,style:{width:"100%"},class:"orderTable","header-cell-style":{color:"#181818",fontSize:"14px",backgroundColor:"#F5F9FA"}},{default:d((()=>[i(S,{prop:"id",label:"工单编号"}),i(S,{prop:"description",label:"问题内容"},{default:d((t=>[l(s(t.row.description),1)])),_:1}),i(S,{prop:"cateTitle",label:"问题类别"}),i(S,{prop:"createTime",label:"提交时间"},{default:d((e=>[l(s(e.$util.timeFormat(t.row.createTime)),1)])),_:1}),i(S,{prop:"state"},{header:d((()=>[y,v,V])),default:d((t=>[1==t.row.state?(r(),u("span",x,"待客服回复")):2==t.row.state?(r(),u("span",$,"待您回复")):0==t.row.state?(r(),u("span",T,"已关闭")):c("",!0)])),_:1}),i(S,{prop:"name",label:"操作"},{default:d((()=>[a("ul",C,[a("li",{onClick:e[1]||(e[1]=e=>t.$router.push({path:"/worksheet/worksheet/info"}))},_),a("li",{onClick:e[2]||(e[2]=e=>w.close(t.scope.row.rowIndex))},D),a("li",{onClick:e[3]||(e[3]=e=>w.deleteOne(t.scope.row.rowIndex))},P)])])),_:1})])),_:1},8,["data"])])])}],["__scopeId","data-v-0f554832"]]);export{S as default};
