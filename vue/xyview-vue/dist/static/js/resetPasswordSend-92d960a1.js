import{_ as e}from"../../index.js";const t={data(){return{regTab:"email",sendResult:!1,loading:!1,form:{email:"",redirect:this.$util.util.frontDomain()+"/reg_email/user/resetPasswordByLink"},rule:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}]}}},created:function(){},methods:{handleClick(){switch(this.regTab){case"mobile":this.$xyutil.navigateTo("/reg_mobile/user/resetPassword");break;case"email":this.$xyutil.navigateTo("/reg_email/user/resetPasswordSend")}},handleSubmit(){return e=this,t=null,l=function*(){this.loading=!0;let e=this;setTimeout((function(){e.loading=!1}),5e3);let t=yield this.$util.request({url:"/v1/reg_email/user/sendResetLink",data:this.form,method:"post"});"200"==t.code?(this.$util.showToast({title:t.msg,icon:"success",duration:2e3}),this.sendResult=!0):this.$util.showToast({title:t.msg,icon:"loading",duration:3e3}),this.loading=!1},new Promise(((a,i)=>{var o=e=>{try{n(l.next(e))}catch(t){i(t)}},s=e=>{try{n(l.throw(e))}catch(t){i(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,s);n((l=l.apply(e,t)).next())}));var e,t,l}}},l=window.Vue.resolveComponent,a=window.Vue.createVNode,i=window.Vue.createElementVNode,o=window.Vue.withCtx,s=window.Vue.openBlock,n=window.Vue.createBlock,d=window.Vue.createCommentVNode,r=window.Vue.createTextVNode,u=window.Vue.createElementBlock,m=window.Vue.pushScopeId,c=window.Vue.popScopeId,p=e=>(m("data-v-8905fe35"),e=e(),c(),e),f={id:"wrap",class:"wrap"},h={class:"main"},w=p((()=>i("div",{class:"main-banner hidden-md-and-up"},[i("h1",{class:"title m-t"}," 账号中心 "),i("p",{class:"info m-t-md p-l p-r"})],-1))),g={class:"container main-content"},b=["src"],V=p((()=>i("div",{class:"title"}," 邮箱找回 ",-1)));const x=e(t,[["render",function(e,t,m,c,p,x){const v=l("xy-header"),y=l("el-col"),_=l("el-tab-pane"),k=l("el-tabs"),T=l("el-input"),$=l("el-form-item"),C=l("el-button"),P=l("xy-captcha"),S=l("el-form"),I=l("el-row"),B=l("xy-footer");return s(),u("div",f,[a(v),i("div",h,[w,i("div",g,[a(I,{type:"flex",justify:"space-between",align:"middle"},{default:o((()=>[a(y,{xs:1,sm:1,md:8,lg:10,class:"left-box hidden-sm-and-down"},{default:o((()=>[i("img",{src:e.$store.state.app.loginPic,width:"500"},null,8,b)])),_:1}),a(y,{xs:24,sm:{span:12,offset:6},md:{span:13,offset:0},lg:{span:9,offset:0},class:"login-box bg-white"},{default:o((()=>[V,a(k,{stretch:"",modelValue:p.regTab,"onUpdate:modelValue":t[0]||(t[0]=e=>p.regTab=e),onTabClick:x.handleClick},{default:o((()=>[e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_mobile")>=0?(s(),n(_,{key:0,class:"p-t",label:"手机号码",name:"mobile"})):d("",!0),e.$store.state.app.siteInfo.versionFuncsAll.indexOf("reg_email")>=0?(s(),n(_,{key:1,class:"p-t",label:"邮箱找回",name:"email"})):d("",!0)])),_:1},8,["modelValue","onTabClick"]),a(S,{ref:"form",model:p.form,rules:p.rule},{default:o((()=>[a($,{prop:"email"},{default:o((()=>[a(T,{size:"large",type:"text",prefix:"ios-at-outline",modelValue:p.form.email,"onUpdate:modelValue":t[1]||(t[1]=e=>p.form.email=e),placeholder:"请输入注册时绑定的邮箱号码"},null,8,["modelValue"])])),_:1}),a(P,{onSuccess:t[2]||(t[2]=e=>x.handleSubmit("form"))},{default:o((()=>[a(C,{id:"Captcha",class:"full submit-btn",size:"large",loading:p.loading,type:"primary"},{default:o((()=>[r(" 发送邮件 ")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})])]),a(B)])}],["__scopeId","data-v-8905fe35"]]);export{x as default};
