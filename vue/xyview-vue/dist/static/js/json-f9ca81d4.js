import{_ as e,b as t}from"../../index.js";let n={indentStr:"  ",lineBreak:"\n",normalTypes:["string","number","boolean"]};const o=e=>"[object Array]"===Object.prototype.toString.call(e);const a=e=>e="string"==typeof e?`"${e=r(e)}"`:`${e}`,r=e=>e.replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})),l=(e,t,r)=>{if(!e.length)return t+"[]";if(t+="[",(e=>{let t=!0;for(const n of e)if("object"==typeof n){t=!1;break}return t})(e))for(let o=0;o<e.length;o++)t+=`${n.lineBreak}${r+n.indentStr}`+a(e[o])+(o!==e.length-1?",":"");else if((e=>{let t=!0;for(const o of e)if(n.normalTypes.includes(typeof o)||o instanceof Array||!o instanceof Object){t=!1;break}return t})(e))for(let o=0;o<e.length;o++)t+=`${0===o?"":","}${n.lineBreak}${r}${n.indentStr}`,t=s(e[o],t,r+n.indentStr);else for(let i=0;i<e.length;i++)t+=`${n.lineBreak}${r+n.indentStr}`,n.normalTypes.includes(typeof e[i])?t+=a(e[i]):t=o(e[i])?l(e[i],t,r+n.indentStr):s(e[i],t,r+n.indentStr),t+=""+(i!==e.length-1?",":"");return t+=`${n.lineBreak}${r}]`},s=(e,t,r)=>{let i=[];try{i=Reflect.ownKeys(e)}catch(u){return t+e}if(!i.length)return t+"{}";t+="{";for(let c=0;c<i.length;c++)t+=`${0===c?"":","}${n.lineBreak}${n.indentStr}${r}${d=i[c],`${d}`}: `,n.normalTypes.includes(typeof e[i[c]])?t+=`${a(e[i[c]])}`:t=o(e[i[c]])?l(e[i[c]],t,r+n.indentStr):s(e[i[c]],t,r+n.indentStr);var d;return t+=`${n.lineBreak}${r}}`};var i=(e,t={})=>{n=Object.assign(n,t);let o="";try{const t="string"==typeof e?JSON.parse(e):e;a=t,o="[object Object]"===Object.prototype.toString.call(a)?s(t,o,""):l(t,o,"")}catch(r){o=r.message}var a;return o};const d=(0,window.Vue.defineComponent)({components:{Vue3JsonEditor:(0,window.Vue.defineAsyncComponent)((()=>new Promise(((e,n)=>{t((()=>import("./vue3-json-editor.esm.prod-1bf497a3.js")),[]).then((t=>{e(t.Vue3JsonEditor)}))}))))},data:()=>({textData:"",jsonData:{}}),methods:{formatJson(){this.textData=i(this.textData)},textChange(e){this.jsonData=JSON.parse(e)},jsonChange(e){this.textData=JSON.stringify(this.jsonData)}}}),u=window.Vue.resolveComponent,c=window.Vue.createVNode,f=window.Vue.createElementVNode,p=window.Vue.withCtx,m=window.Vue.createTextVNode,h=window.Vue.openBlock,g=window.Vue.createElementBlock,w={class:"container"},y={class:"m-t"};const V=e(d,[["render",function(e,t,n,o,a,r){const l=u("el-input"),s=u("Vue3JsonEditor"),i=u("el-col"),d=u("el-button"),V=u("xy-copy"),$=u("el-row"),j=u("el-card");return h(),g("div",w,[c(j,{shadow:"never",class:"p-a"},{default:p((()=>[c($,{gutter:20},{default:p((()=>[c(i,{xs:24,span:18,offset:0},{default:p((()=>[f("div",null,[c(l,{onChange:e.textChange,type:"textarea",rows:1,modelValue:e.textData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.textData=t),placeholder:"请输入json字符串",maxlength:-1,"show-word-limit":!1,autosize:{minRows:15,maxRows:1e4}},null,8,["onChange","modelValue"])]),f("div",y,[c(s,{modelValue:e.jsonData,"onUpdate:modelValue":t[1]||(t[1]=t=>e.jsonData=t),"show-btns":!0,expandedOnStart:!0,onJsonChange:e.jsonChange},null,8,["modelValue","onJsonChange"])])])),_:1}),c(i,{xs:24,span:6,offset:0,class:"p-t"},{default:p((()=>[c(d,{type:"primary",size:"default",onClick:e.formatJson},{default:p((()=>[m("格式化")])),_:1},8,["onClick"]),c(d,{type:"primary",size:"default",onClick:e.jsonChange},{default:p((()=>[m("压缩一行")])),_:1},8,["onClick"]),c(V,{content:e.textData},{default:p((()=>[c(d,{type:"primary",size:"default"},{default:p((()=>[m("复制")])),_:1})])),_:1},8,["content"])])),_:1})])),_:1})])),_:1})])}]]);export{V as default};
