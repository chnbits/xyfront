var e=(e,l,t)=>new Promise(((a,n)=>{var o=e=>{try{i(t.next(e))}catch(l){n(l)}},d=e=>{try{i(t.throw(e))}catch(l){n(l)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,d);i((t=t.apply(e,l)).next())}));import{_ as l}from"../../index.js";const t={name:"editExtendInfo",data:()=>({loading:!1,extendInfo:{},publicAttrCates:[],userTypeList:[],userType:1,regionInit:{showInput:!1,labelField:"name",valueField:"name",deep:1,maxLevel:3,nodeKey:"id",lazy:!0,action:"/v1/region/region/lists"}}),created:function(){this.loadData()},watch:{"extendInfo.own.country":{handler(e){this.regionInit.showInput="中国"!=e},deep:!0,immediate:!0},"extendInfo.org.country":{handler(e){this.regionInit.showInput="中国"!=e},deep:!0,immediate:!0}},methods:{getOptionValue:e=>(null==e?void 0:e.value)?null==e?void 0:e.value:null==e?void 0:e.title,saveTypeInfo(l){return e(this,null,(function*(){l=l.split(",");let e={};l.forEach((l=>{e[l]=this.extendInfo[l]}));let t=yield this.$util.request({url:"/v1/user/user/extendInfo",data:{userType:this.usertype,extendInfo:e},method:"put"});200==t.code?this.$util.showToast({title:t.msg,icon:"loading",duration:2e3}):this.$util.showToast({title:t.msg,icon:"loading",duration:3e3})}))},saveInfo(l){return e(this,null,(function*(){let e={};e[l]=this.extendInfo[l];let t=yield this.$util.request({url:"/v1/user/user/extendInfo",data:{extendInfo:e},method:"put"});200==t.code?this.$util.showToast({title:t.msg,icon:"loading",duration:2e3}):this.$util.showToast({title:t.msg,icon:"loading",duration:3e3})}))},loadData(l){return e(this,null,(function*(){let e=yield this.$util.request({url:"/v1/user/user/extendInfo",data:{},method:"get"});200==e.code?(this.userTypeList=e.data.userTypeList,this.publicAttrCates=e.data.publicAttrCates,this.extendInfo=e.data.extendInfo):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})}))}}},a=window.Vue.renderList,n=window.Vue.Fragment,o=window.Vue.openBlock,d=window.Vue.createElementBlock,i=window.Vue.toDisplayString,u=window.Vue.createElementVNode,s=window.Vue.resolveComponent,m=window.Vue.createBlock,p=window.Vue.createCommentVNode,r=window.Vue.withCtx,c=window.Vue.createTextVNode,f=window.Vue.createVNode,y=window.Vue.pushScopeId,x=window.Vue.popScopeId,V=e=>(y("data-v-58524226"),e=e(),x(),e),h={class:"title tw4 ts-16 m-b-xs m-t"},w={class:"box bg-white"},I={key:0,class:"text-gray ts-12 m-l-md"},b=V((()=>u("i",{class:"xyicon xyicon-help-o m-r-xs"},null,-1))),v={class:"p-b",style:{width:"100%"}},g={key:0},k=V((()=>u("div",{class:"title tw4 ts-16 m-b-xs m-t"},"联系信息",-1))),_={class:"box bg-white"},U={key:5,class:"text-gray ts-12"},T=V((()=>u("i",{class:"xyicon xyicon-help-o m-r-xs"},null,-1))),C={class:"p-b m-r-lg",style:{width:"100%"}};const L=l(t,[["render",function(e,l,t,y,x,V){const L=s("el-input"),$=s("el-option"),O=s("el-select"),z=s("xy-cascader2"),N=s("el-radio"),A=s("el-radio-group"),E=s("el-checkbox"),q=s("el-checkbox-group"),B=s("el-form-item"),D=s("el-form"),F=s("el-button"),S=s("xy-cascader");return o(),d("div",null,[(o(!0),d(n,null,a(x.publicAttrCates,((e,l)=>(o(),d("div",{key:l},[u("div",h,i(e.title),1),u("div",w,[f(D,{model:x.extendInfo[e.name],"label-width":"140px","label-suffix":":",size:"default"},{default:r((()=>[(o(!0),d(n,null,a(e.attrList,((l,t)=>(o(),d("div",{key:t},[f(B,{label:l.title},{default:r((()=>["text"==l.type?(o(),m(L,{key:0,size:"default",modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t,placeholder:l.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):"select"==l.type?(o(),m(O,{key:1,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t,placeholder:"请选择"},{default:r((()=>[(o(!0),d(n,null,a(l.options,((e,l)=>(o(),m($,{key:l,label:e.title,value:V.getOptionValue(e)},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):"cascader2"==l.type?(o(),m(z,{key:2,options:l.options,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t},null,8,["options","modelValue","onUpdate:modelValue"])):"radio"==l.type?(o(),m(A,{key:3,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t},{default:r((()=>[(o(!0),d(n,null,a(l.options,((e,l)=>(o(),m(N,{label:V.getOptionValue(e),key:l},{default:r((()=>[c(i(e.title),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):"checkbox"==l.type?(o(),m(q,{key:4,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t},{default:r((()=>[(o(!0),d(n,null,a(l.options,((e,l)=>(o(),m(E,{label:V.getOptionValue(e),key:l},{default:r((()=>[c(i(e.title),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):p("",!0)])),_:2},1032,["label"]),l.tip?(o(),d("div",I,[b,u("span",null,i(l.tip),1)])):p("",!0)])))),128))])),_:2},1032,["model"]),u("div",v,[f(F,{class:"fr",size:"default",type:"primary",onClick:l=>V.saveInfo(e.name)},{default:r((()=>[c("保存设置")])),_:2},1032,["onClick"])])])])))),128)),x.userTypeList.length>0?(o(),d("div",g,[k,u("div",_,[u("div",null,[f(D,{"label-width":"140px","label-suffix":":"},{default:r((()=>[f(B,{label:"身份"},{default:r((()=>[f(A,{modelValue:x.userType,"onUpdate:modelValue":l[0]||(l[0]=e=>x.userType=e)},{default:r((()=>[(o(!0),d(n,null,a(x.userTypeList,((e,l)=>(o(),m(N,{label:e.id,key:l},{default:r((()=>[c(i(e.title),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),(o(!0),d(n,null,a(x.userTypeList,((e,l)=>(o(),d("div",{key:l},[e.id==x.userType?(o(),d(n,{key:0},[(o(!0),d(n,null,a(e.attrCates,((e,l)=>(o(),d("div",{key:l},[f(D,{model:x.extendInfo[e.name],"label-width":"140px","label-suffix":":"},{default:r((()=>[(o(!0),d(n,null,a(e.attrList,((l,t)=>(o(),d("div",{key:t},[f(B,{label:l.title},{default:r((()=>["text"==l.type?(o(),m(L,{key:0,size:"default",modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t,placeholder:l.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):"select"==l.type?(o(),m(O,{key:1,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t,placeholder:"请选择"},{default:r((()=>[(o(!0),d(n,null,a(l.options,((e,l)=>(o(),m($,{key:l,label:e.title,value:V.getOptionValue(e)},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):"radio"==l.type?(o(),m(A,{key:2,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t},{default:r((()=>[(o(!0),d(n,null,a(l.options,((e,l)=>(o(),m(N,{label:V.getOptionValue(e),key:l},{default:r((()=>[c(i(e.title),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):"checkbox"==l.type?(o(),m(q,{key:3,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t},{default:r((()=>[(o(!0),d(n,null,a(l.options,((e,l)=>(o(),m(E,{label:V.getOptionValue(e),key:l},{default:r((()=>[c(i(e.title),1)])),_:2},1032,["label"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])):"region"==l.type?(o(),m(S,{key:4,init:x.regionInit,modelValue:x.extendInfo[e.name][l.name],"onUpdate:modelValue":t=>x.extendInfo[e.name][l.name]=t},null,8,["init","modelValue","onUpdate:modelValue"])):p("",!0),l.tip?(o(),d("div",U,[T,u("span",null,i(l.tip),1)])):p("",!0)])),_:2},1032,["label"])])))),128))])),_:2},1032,["model"])])))),128)),u("div",C,[f(F,{class:"fr",size:"default",type:"primary",onClick:l=>V.saveTypeInfo(e.attrCateNames)},{default:r((()=>[c("保存设置")])),_:2},1032,["onClick"])])],64)):p("",!0)])))),128))])])):p("",!0)])}],["__scopeId","data-v-58524226"]]);export{L as default};
