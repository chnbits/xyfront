var e=(e,l,t)=>new Promise(((i,a)=>{var o=e=>{try{s(t.next(e))}catch(l){a(l)}},d=e=>{try{s(t.throw(e))}catch(l){a(l)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(o,d);s((t=t.apply(e,l)).next())}));import{_ as l}from"../../index.js";const t={name:"WorkSheetAdd",props:[],data(){var e;return{loading:!1,item:{name:"files",extra:{type:"files",drag:!1,driver:this.$store.state.app.uploadDriver,signUrl:"",action:"",tip:"",format:"jpg,png,bmp",maxSize:2048}},form:{level:1,cate:"",description:"",tel:null==(e=this.$store.state.user.userInfo.mobile)?void 0:e.identifier,tel2:"",email:"",email2:"",files:[]},cateList:{}}},created:function(){this.loadlists()},methods:{handleSubmit(){return e(this,null,(function*(){this.loading=!0;let e=this;setTimeout((function(){e.loading=!1}),5e3);let l=yield this.$util.request({url:"/v1/worksheet/worksheet/add",data:this.form,method:"post"});"200"==l.code?(this.$util.showToast({title:l.msg,icon:"success",duration:2e3}),this.$router.back()):this.$util.showToast({title:l.msg,icon:"loading",duration:3e3}),this.loading=!1}))},loadlists(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$util.request({url:"/v1/worksheet/worksheet/add",method:"get"});200==e.code?this.cateList=e.data.cateList:this.$util.showToast({title:e.msg,icon:"loading",duration:3e3}),this.loading=!1}))}}},i=window.Vue.createElementVNode,a=window.Vue.createTextVNode,o=window.Vue.resolveComponent,d=window.Vue.withCtx,s=window.Vue.createVNode,n=window.Vue.renderList,r=window.Vue.Fragment,u=window.Vue.openBlock,c=window.Vue.createElementBlock,m=window.Vue.createBlock,p=window.Vue.vModelText,f=window.Vue.withDirectives,v=window.Vue.pushScopeId,h=window.Vue.popScopeId,w=e=>(v("data-v-6c81a6a2"),e=e(),h(),e),V={class:"box"},g=w((()=>i("h4",{class:"addTitle"},"创建工单",-1))),b={action:"",class:"addOrderForm"},x=w((()=>i("div",{class:"left"},[i("span",null,"*"),i("label",{for:"",style:{"margin-left":"5px"}},"优先级:")],-1))),y={class:"right"},k=w((()=>i("p",{class:"firstP"},"选择优先级为一般：业务咨询或普通业务受影响，需要协助",-1))),U=w((()=>i("div",{class:"left middleSpan"},[i("span",null,"*"),i("label",{for:""},"选择类别:")],-1))),S={class:"right"},$=w((()=>i("div",{class:"left middleSpan"},[i("span",null,"*"),i("label",{for:""},"问题描述:")],-1))),T={class:"right"},_=w((()=>i("div",{class:"left"},[i("label",{for:""},"机密信息:")],-1))),I={class:"right"},L=w((()=>i("div",{class:"left middleSpan"},[i("span",null,"*"),i("label",{for:""},"手机号:")],-1))),C={class:"right"},B=w((()=>i("p",null,"默认为您的绑定手机号，紧急情况时乐帆云工程师会与您联系，请您填写正确的手机号。",-1))),N=w((()=>i("div",{class:"left"},[i("label",{for:""},"接收短信提醒:")],-1))),P={class:"right"},j=w((()=>i("p",null,"默认为您的绑定手机号，紧急情况时乐帆云工程师会与您联系，请您填写正确的手机号。",-1))),q=w((()=>i("div",{class:"left"},[i("label",{for:""},"邮箱:")],-1))),A={class:"right"},D=w((()=>i("div",{class:"left"},[i("label",{for:""},"抄送邮箱:")],-1))),E={class:"right"},F=w((()=>i("div",{class:"left"},[i("label",{for:""},"上传附件:")],-1))),z={class:"right"};const K=l(t,[["render",function(e,l,t,v,h,w){const K=o("el-radio"),M=o("el-option"),O=o("el-select"),W=o("xy-upload"),G=o("el-button");return u(),c("div",null,[i("div",V,[g,i("form",b,[i("div",null,[x,i("div",y,[i("div",null,[s(K,{modelValue:h.form.level,"onUpdate:modelValue":l[0]||(l[0]=e=>h.form.level=e),label:1},{default:d((()=>[a("一般")])),_:1},8,["modelValue"]),s(K,{modelValue:h.form.level,"onUpdate:modelValue":l[1]||(l[1]=e=>h.form.level=e),label:2},{default:d((()=>[a("重要")])),_:1},8,["modelValue"])]),k])]),i("div",null,[U,i("div",S,[i("div",null,[s(O,{modelValue:h.form.cate,"onUpdate:modelValue":l[2]||(l[2]=e=>h.form.cate=e),placeholder:"请选择",class:"typeSelect"},{default:d((()=>[(u(!0),c(r,null,n(h.cateList,((e,l)=>(u(),m(M,{key:l,label:e,value:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])]),i("div",null,[$,i("div",T,[i("div",null,[f(i("textarea",{"onUpdate:modelValue":l[3]||(l[3]=e=>h.form.description=e),placeholder:"若提交密码或AccessKeys等信息，请通过'机密信息'方式添加，并在问题处理完毕后及时修改。"},null,512),[[p,h.form.description]])])])]),i("div",null,[_,i("div",I,[i("div",null,[f(i("textarea",{"onUpdate:modelValue":l[4]||(l[4]=e=>h.form.secretInfo=e),placeholder:"请在此填写账户、密码等机密信息，提交后机密信息将做加密处理。"},null,512),[[p,h.form.secretInfo]])])])]),i("div",null,[L,i("div",C,[i("div",null,[f(i("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=e=>h.form.tel=e)},null,512),[[p,h.form.tel]])]),B])]),i("div",null,[N,i("div",P,[i("div",null,[f(i("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=e=>h.form.tel2=e)},null,512),[[p,h.form.tel2]])]),j])]),i("div",null,[q,i("div",A,[i("div",null,[f(i("input",{type:"text","onUpdate:modelValue":l[7]||(l[7]=e=>h.form.email=e),placeholder:""},null,512),[[p,h.form.email]])])])]),i("div",null,[D,i("div",E,[i("div",null,[f(i("input",{type:"text","onUpdate:modelValue":l[8]||(l[8]=e=>h.form.email2=e),placeholder:""},null,512),[[p,h.form.email2]])])])]),i("div",null,[F,i("div",z,[s(W,{item:h.item,header:{},modelValue:h.form.files,"onUpdate:modelValue":l[9]||(l[9]=e=>h.form.files=e)},null,8,["item","modelValue"])])]),s(G,{type:"primary",class:"m-b-md",onClick:w.handleSubmit},{default:d((()=>[a("提交")])),_:1},8,["onClick"])])])])}],["__scopeId","data-v-6c81a6a2"]]);export{K as default};
