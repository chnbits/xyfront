var e=(e,t,a)=>new Promise(((i,l)=>{var s=e=>{try{n(a.next(e))}catch(t){l(t)}},d=e=>{try{n(a.throw(e))}catch(t){l(t)}},n=e=>e.done?i(e.value):Promise.resolve(e.value).then(s,d);n((a=a.apply(e,t)).next())}));import{_ as t}from"../../index.js";const a={data:()=>({loading:!1,icateId:0,keyword:"",id:"",icateList:[],dataList:[],dataPage:{page:1,limit:20,total:0}}),created:function(){return e(this,null,(function*(){this.$route.query.icateId&&(this.icateId=this.$route.query.icateId),this.$route.query.keyword&&(this.keyword=this.$route.query.keyword),this.loadData()}))},watch:{$route(e,t){this.$route.query.icateId&&(this.icateId=this.$route.query.icateId),this.$route.query.keyword&&(this.keyword=this.$route.query.keyword),this.loadData()}},methods:{loadData(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$xyutil.request({url:"/v1/ishop/item/lists",data:{icateId:this.icateId,keyword:this.keyword},method:"get"});200==e.code&&(this.icateList=e.data.icateList,this.dataList=e.data.dataList,this.dataPage=e.data.dataPage),this.loading=!1}))},handleSizeChange(e){this.dataPage.limit=e,this.loadData()},handleCurrentChange(e){this.dataPage.page=e,this.loadData()}}},i=window.Vue.resolveComponent,l=window.Vue.createVNode,s=window.Vue.createElementVNode,d=window.Vue.openBlock,n=window.Vue.createBlock,o=window.Vue.createCommentVNode,r=window.Vue.renderList,u=window.Vue.Fragment,g=window.Vue.createElementBlock,c=window.Vue.toDisplayString,h=window.Vue.createTextVNode,p=window.Vue.withCtx,w={class:"bg-white container m-t"},m={class:"max-w-2xl mx-auto py-16 px-4 sm:py-16 sm:px-6 lg:max-w-7xl lg:px-8"},y={style:{width:"240px",margin:"0 15px"}},x={style:{padding:"14px"}},v={style:{display:"flex","align-items":"center","justify-items":"space-between"}},f={class:"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8"},k={class:"w-full min-h-90 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-90 lg:aspect-none"},C=["src","alt"],V={class:"mt-4 flex justify-between"},P={class:"item-title text-sm text-gray-700"},z=s("span",{"aria-hidden":"true",class:"absolute inset-0"},null,-1),L={class:"mt-1 text-sm text-gray-500"},$={class:"text-sm font-medium text-gray-900"},b={key:1,class:"flex flex-start"};const q=t(a,[["render",function(e,t,a,q,I,j){const D=i("el-skeleton-item"),S=i("el-empty"),N=i("router-link"),B=i("el-pagination"),_=i("el-skeleton");return d(),g("div",null,[s("div",w,[s("div",m,[l(_,{class:"flex",loading:I.loading,animated:"",count:4},{template:p((()=>[s("div",y,[l(D,{variant:"image",style:{width:"240px",height:"240px"}}),s("div",x,[l(D,{variant:"p",style:{width:"50%"}}),s("div",v,[l(D,{variant:"text",style:{"margin-right":"16px"}}),l(D,{variant:"text",style:{width:"30%"}})])])])])),default:p((()=>[0==I.dataList.length?(d(),n(S,{key:0,description:"暂无数据"})):o("",!0),s("div",f,[(d(!0),g(u,null,r(I.dataList,(e=>(d(),g("div",{key:e.id,class:"group relative"},[s("div",k,[s("img",{src:e.cover,alt:e.title,lass:"w-full h-full object-center object-cover lg:w-full lg:h-full"},null,8,C)]),s("div",V,[s("div",null,[s("h3",P,[l(N,{to:"/ishop/item/info/"+e.id},{default:p((()=>[z,h(" "+c(e.title),1)])),_:2},1032,["to"])]),s("p",L,"最近购买"+c(e.buyCount),1)]),s("p",$,c(e.price),1)])])))),128))]),0!=I.dataList.length?(d(),g("div",b,[l(B,{class:"m-t-md",size:"default",onSizeChange:j.handleSizeChange,onCurrentChange:j.handleCurrentChange,"current-page":I.dataPage.page,"onUpdate:current-page":t[0]||(t[0]=e=>I.dataPage.page=e),background:"","page-sizes":[10,20,30,50],"page-size":I.dataPage.limit,"onUpdate:page-size":t[1]||(t[1]=e=>I.dataPage.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:I.dataPage.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])):o("",!0)])),_:1},8,["loading"])])])])}]]);export{q as default};
