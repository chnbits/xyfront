var e=(e,t,i)=>new Promise(((a,n)=>{var r=e=>{try{l(i.next(e))}catch(t){n(t)}},o=e=>{try{l(i.throw(e))}catch(t){n(t)}},l=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,o);l((i=i.apply(e,t)).next())}));import{_ as t}from"../../index.js";const i={data:()=>({loading:!1,info:{}}),created:function(){this.loadData()},watch:{},methods:{pullback(){return e(this,null,(function*(){this.$confirm("确定要撤回实名认证申请吗？",{distinguishCancelAndClose:!0,confirmButtonText:"确定撤销",cancelButtonText:"取消操作",dangerouslyUseHTMLString:!0}).then((()=>{this.doPullback()})).catch((e=>{}))}))},doPullback(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$util.request({url:"/v1/user_cert/cert/pullback",data:{id:this.info.id},method:"put"});200==e.code?(this.info=e.data.info,this.loadData(),this.$util.showToast({title:e.msg,icon:"success",duration:2e3})):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3}),this.loading=!1}))},loadData(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$util.request({url:"/v1/user_cert/cert/my",data:{},method:"get"});if(200==e.code){if(this.info=e.data.info,this.info&&1===this.info.certCate)this.$router.push({path:"/user_cert/cert/person"})}else this.$util.showToast({title:e.msg,icon:"loading",duration:3e3});this.loading=!1}))}}},a=window.Vue.createTextVNode,n=window.Vue.resolveComponent,r=window.Vue.withCtx,o=window.Vue.createVNode,l=window.Vue.toDisplayString,s=window.Vue.openBlock,d=window.Vue.createElementBlock,u=window.Vue.createCommentVNode,c=window.Vue.createElementVNode,p=window.Vue.createBlock,f=window.Vue.Fragment,y=window.Vue.pushScopeId,w=window.Vue.popScopeId,h=e=>(y("data-v-227fcdb6"),e=e(),w(),e),m={class:"box p-t"},x={class:"content flex space-between"},b={key:0},g={key:1},k={key:2},_={key:3},v={key:4},S={class:"m-b-md"},V={key:0,class:"ts-16",style:{"margin-bottom":"17px"}},C=[h((()=>c("span",null,[c("i",{class:"xyicon xyicon-warning text-warning m-r-xs"}),a(" 认证超时，您认证失败超过3次，请您使用 "),c("span",{class:"text-primary"},"人工视频审核")],-1)))],$={key:1,class:"ts-16",style:{"margin-bottom":"17px"}},T=h((()=>c("i",{class:"xyicon xyicon-warning text-warning m-r-xs"},null,-1))),N=h((()=>c("div",{class:"ts-16",style:{"margin-bottom":"17px"}},[c("span",null,[c("i",{class:"xyicon xyicon-warning text-warning m-r-xs"}),a(" 如对结果疑问或者异议，您可以联系客服。 ")])],-1))),B={class:"text-right"};const D=t(i,[["render",function(e,t,i,y,w,h){const D=n("el-breadcrumb-item"),I=n("el-breadcrumb"),P=n("el-descriptions-item"),F=n("el-descriptions"),L=n("el-col"),q=n("el-alert"),A=n("el-button"),E=n("el-row");return s(),d("div",null,[c("div",m,[o(I,{"separator-class":"el-icon-arrow-right",class:"p-l m-b"},{default:r((()=>[o(D,{to:{path:"/user/center"}},{default:r((()=>[a("个人设置")])),_:1}),o(D,null,{default:r((()=>[a("实名认证")])),_:1})])),_:1}),c("div",x,[o(E,{gutter:20},{default:r((()=>[o(L,{xs:24,sm:24,md:14,lg:16,offset:0},{default:r((()=>[o(F,{title:"",column:2},{default:r((()=>[o(P,{label:"审核方式"},{default:r((()=>[a(l(w.info.apiTypeLabel),1)])),_:1}),o(P,{label:"组织名称"},{default:r((()=>[a(l(w.info.realName),1)])),_:1}),o(P,{label:"证照代码"},{default:r((()=>[a(l(e.$util.middleAsterisk(w.info.certNo,4,4)),1)])),_:1}),o(P,{label:"银行类型"},{default:r((()=>[a(l(w.info.bankInfo.bank),1)])),_:1}),o(P,{label:"证照类型"},{default:r((()=>[a(l(w.info.certTypeLabel),1)])),_:1}),o(P,{label:"认证时间"},{default:r((()=>[a(l(e.$util.timeFormat(w.info.updateTime)),1)])),_:1}),o(P,{label:"当前状态"},{default:r((()=>[1==w.info.reviewState?(s(),d("span",b,"已通过审核")):0==w.info.reviewState?(s(),d("span",g,"待审核")):-1==w.info.reviewState?(s(),d("span",k,"认证失败")):-2==w.info.reviewState?(s(),d("span",_,"撤回认证")):-3==w.info.reviewState?(s(),d("span",v,"待提交")):u("",!0)])),_:1})])),_:1})])),_:1}),o(L,{xs:24,sm:24,md:10,lg:8,offset:0},{default:r((()=>[c("div",S,[-1==w.info.reviewState?(s(),p(q,{key:0,class:"lh-1-6 ts-14",type:"warning",closable:!1},{default:r((()=>[w.info.apiFailCount>=3?(s(),d("div",V,C)):u("",!0),w.info.failReason?(s(),d("div",$,[c("span",null,[T,a(" "+l(w.info.failReason),1)])])):u("",!0),N])),_:1})):u("",!0)]),c("div",B,[-3==w.info.reviewState?(s(),d(f,{key:0},[8==w.info.apiType?(s(),p(A,{key:0,type:"primary",style:{width:"142px","border-radius":"4px"},onClick:t[0]||(t[0]=t=>e.$router.push("/user_cert/orgverify/recharge_step2"))},{default:r((()=>[a("验证打款金额")])),_:1})):(s(),p(A,{key:1,type:"primary",style:{width:"142px","border-radius":"4px"},onClick:t[1]||(t[1]=t=>e.$router.push("/user_cert/cert/organization"))},{default:r((()=>[a("继续认证")])),_:1}))],64)):u("",!0),-1==w.info.reviewState||-2==w.info.reviewState?(s(),p(A,{key:1,type:"primary",style:{width:"142px","border-radius":"4px"},onClick:t[2]||(t[2]=t=>e.$router.push("/user_cert/cert/index?change=1"))},{default:r((()=>[a("重新认证")])),_:1})):u("",!0),0==w.info.reviewState?(s(),d(f,{key:2},[9==w.info.apiType?(s(),d(f,{key:0},[1==w.info.transferState?(s(),p(A,{key:0,type:"primary",style:{width:"142px","border-radius":"4px"},onClick:t[3]||(t[3]=t=>e.$router.push("/user_cert/orgverify/transfer_step2"))},{default:r((()=>[a("验证打款金额")])),_:1})):u("",!0),0==w.info.transferState?(s(),p(A,{key:1,type:"primary",style:{width:"142px","border-radius":"4px"}},{default:r((()=>[a("等待打款")])),_:1})):u("",!0)],64)):(s(),p(A,{key:1,type:"primary",style:{width:"142px","border-radius":"4px"},onClick:h.pullback},{default:r((()=>[a("撤回申请")])),_:1},8,["onClick"]))],64)):u("",!0),1==w.info.reviewState?(s(),p(A,{key:3,type:"primary",style:{width:"142px","border-radius":"4px"},onClick:t[4]||(t[4]=t=>e.$router.push("/user_cert/cert/index?change=1"))},{default:r((()=>[a("重新认证")])),_:1})):u("",!0)])])),_:1})])),_:1})])])])}],["__scopeId","data-v-227fcdb6"]]);export{D as default};
