var e=(e,t,i)=>new Promise(((s,l)=>{var n=e=>{try{o(i.next(e))}catch(t){l(t)}},a=e=>{try{o(i.throw(e))}catch(t){l(t)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,a);o((i=i.apply(e,t)).next())}));import{_ as t}from"../../index.js";const i={name:"xyThreePsv",emits:["update:modelValue"],props:{item:{},modelValue:{type:[String],default:""},header:{type:Object,default:()=>({cloudId:0,eid:0,token:""})}},data:()=>({PSV:null,factoryLink:"",loadedScript:!1,imageLoaded:!1}),watch:{value(e){this.factoryLink=e,this.loadedScript&&(this.PSV?(this.imageLoaded=!1,this.PSV.setPanorama(this.factoryLink,!0,!0).then((()=>{this.imageLoaded=!0}))):this.initPhotoSphere())}},created:function(){return e(this,null,(function*(){this.factoryLink=this.modelValue,yield this.loadScript(),this.loadedScript=!0,this.initPhotoSphere()}))},methods:{initPhotoSphere(){this.PSV=new PhotoSphereViewer.Viewer({container:document.getElementById("viewer"),panorama:this.factoryLink,navbar:!1,fisheye:!1,autorotateDelay:100,autorotateSpeed:"0.2rpm",moveSpeed:1})},loadScript(){let e=this;return new Promise(((t,i)=>{e.VueLink2.load(this.$xyutil.config.cdnDomain+"/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.min.css").then((function(){})),e.VueScript2.load(this.$xyutil.config.cdnDomain+"/npm/uevent@2/browser.min.js").then((function(){})),e.VueScript2.load(this.$xyutil.config.cdnDomain+"/npm/three@0.125.2/build/three.min.js").then((function(){e.VueScript2.load(this.$xyutil.config.cdnDomain+"/npm/photo-sphere-viewer@4/dist/photo-sphere-viewer.js").then((function(){t()}))}))}))}}},s=window.Vue.openBlock,l=window.Vue.createElementBlock;window.Vue.pushScopeId,window.Vue.popScopeId;const n={id:"viewer",class:"xy-three-psv"};const a={name:"XyBuilderPage",components:{"three-psv":t(i,[["render",function(e,t,i,a,o,d){return s(),l("div",n)}],["__scopeId","data-v-277b11f8"]])},props:{data:""},data:()=>({}),created(){},beforeMount(){},mounted(){},activated(){},deativated(){},beforeUpdate(){},updated(){},beforeUnmount(){},computed:{},watch:{},methods:{}},o=window.Vue.renderList,d=window.Vue.Fragment,r=window.Vue.openBlock,c=window.Vue.createElementBlock,p=window.Vue.normalizeStyle,u=window.Vue.createCommentVNode,h=window.Vue.createElementVNode,m=window.Vue.toDisplayString,g=window.Vue.normalizeClass,y=window.Vue.createTextVNode,f=window.Vue.resolveComponent,w=window.Vue.withCtx,x=window.Vue.createBlock,v=window.Vue.createVNode,k=window.Vue.pushScopeId,b=window.Vue.popScopeId,V=e=>(k("data-v-1a270568"),e=e(),b(),e),S={class:"page-wrapper"},_={key:0},L=["src"],P=["src","loop"],C={class:"tc-w xs-margin-center"},$={key:0,class:"m-b title"},j={key:2,class:"m-b subtitle"},D={key:3,class:"m-b-md description hidden-xs-only"},I={key:4,class:"ts-14"},z=V((()=>h("div",null,null,-1))),B={key:1},U={key:2},F={class:"bg-white"},T={class:"container"},E={style:{width:"550px"}},N={style:{"font-size":"16px"}},M=["src"],R={key:3},X={key:0,class:"text-center m-b-md tw5 ts-32"},q={key:1,class:"text-center m-b-lg ts-17"},H={class:"text-center m-b xs-m-b m-b-md"},O=["src"],Q={class:"p-l p-r flex-1"},A={class:"title text-center xs-text-left ts-16 tw6"},G={key:0,class:"title text-center xs-text-left ts-14 lh-1-8 m-t-md"},J={key:4},K={class:"container"},W={class:"text-center m-b-md"},Y={class:"text-center m-b tw5 ts-32"},Z={class:"ts-18 lh-2"},ee=["src"],te={key:5},ie={class:"container"},se={class:"text-center"},le=["onClick"],ne={key:6},ae={class:"session5 p-t-lg p-b-lg p-l-sm p-r-sm bg-white"},oe={class:"container p-t-lg p-b-md"},de={key:0,class:"text-center m-b-lg tw5 ts-32"},re=V((()=>h("i",{class:"xyicon xyicon-help-o cursor-pointer ts-12"},null,-1))),ce={class:"item"},pe=["src"],ue=V((()=>h("div",{class:"pos-a hover hidden"},null,-1))),he=V((()=>h("div",{class:"ts-10 text-gray text-center m-t-lg"},null,-1)));const me=t(a,[["render",function(e,t,i,s,l,n){const a=f("el-button"),k=f("el-col"),b=f("el-row"),V=f("el-carousel-item"),me=f("el-carousel"),ge=f("el-tooltip");return r(),c("div",S,[(r(!0),c(d,null,o(i.data,((t,i)=>(r(),c("div",{key:i},["banner"==t.type?(r(),c("div",_,[h("div",{class:"banner-instalce",style:p({height:t.height})},[v(me,{height:t.height,interval:3e4},{default:w((()=>[(r(!0),c(d,null,o(t.lists,((i,s)=>(r(),x(V,{key:s},{default:w((()=>[h("div",{class:"bg flex pos-a",style:p({width:"100%",height:t.height})},[i.background.image?(r(),c("img",{key:0,class:"bgImg",src:i.background.image,style:p({width:"100%",height:i.height})},null,12,L)):u("",!0),i.bgVideo?(r(),c("video",{key:1,"webkit-playsinline":"true",playsinline:"true",src:i.bgVideo.src,autoplay:"autoplay",style:{width:"100%"},loop:i.bgVideo.loop},null,8,P)):u("",!0)],4),h("div",{class:"pos-a container flex space-between flex-alignCenter",style:p({height:t.height})},[h("div",C,[v(b,{type:"flex",justify:"spance-between",align:"middle"},{default:w((()=>[v(k,{xs:24,sm:24,md:12,lg:11,xl:12},{default:w((()=>[i.titleColor?(r(),c("div",$,m(i.title),1)):(r(),c("div",{key:1,class:g(["m-b title","text-transparent bg-clip-text bg-gradient-to-r from-amber-500 via-pink-500 to-orange-500"])},m(i.title),1)),i.subtitle?(r(),c("div",j,m(i.subtitle),1)):u("",!0),i.description?(r(),c("div",D,m(i.description),1)):u("",!0),i.actions?(r(),c("div",I,[(r(!0),c(d,null,o(i.actions,((t,i)=>(r(),x(a,{key:i,onClick:i=>e.$xyutil.navigateTo({url:t.url}),size:t.size,plain:t.plain,round:t.round,type:t.type},{default:w((()=>[y(m(t.label),1)])),_:2},1032,["onClick","size","plain","round","type"])))),128))])):u("",!0)])),_:2},1024),v(k,{xs:0,sm:0,md:6,lg:8,xl:10})])),_:2},1024)]),z],4)])),_:2},1024)))),128))])),_:2},1032,["height"])],4)])):"slider"==t.type?(r(),c("div",B,[v(me,{height:t.height,interval:5e3,arrow:"always"},{default:w((()=>[v(V)])),_:2},1032,["height"])])):"session1"==t.type?(r(),c("div",U,[h("div",F,[h("div",T,[v(b,{type:"flex",justify:"center",align:"middle",style:{padding:"50px"}},{default:w((()=>[v(k,{span:16,style:{"text-align":"center","font-size":"20px","margin-bottom":"80px"}},{default:w((()=>[h("div",E,[h("h3",null,m(t.title),1),h("p",N,m(t.description),1)])])),_:2},1024),v(k,{span:8},{default:w((()=>[h("img",{style:{height:"200px"},src:t.image},null,8,M)])),_:2},1024)])),_:2},1024)])])])):"session2"==t.type?(r(),c("div",R,[h("div",{class:"session2 flex flex-column flex-center flex-alignCenter",style:p({height:t.height,background:t.background})},[h("div",{class:"container p-b-md",style:p({color:t.style.color})},[t.title?(r(),c("div",X,m(t.title),1)):u("",!0),t.description?(r(),c("div",q,m(t.description),1)):u("",!0),t.list?(r(),x(b,{key:2,class:"list flex flex-wrap",type:"flex",justify:"center",align:"middle"},{default:w((()=>[(r(!0),c(d,null,o(t.list,((e,t)=>(r(),x(k,{xs:24,md:8,lg:8,class:"item m-b-md xs-flex xs-flex-alignCenter xs-space-between",key:t},{default:w((()=>[h("div",H,[h("img",{src:e.image?e.image:"https://i.loli.net/2020/07/08/1HlwfyUQ5zjr4Tg.png",style:p({borderRadius:e.imageRadius})},null,12,O)]),h("div",Q,[h("div",A,m(e.title),1),e.description?(r(),c("div",G,m(e.description),1)):u("",!0)])])),_:2},1024)))),128))])),_:2},1024)):u("",!0)],4)],4)])):"session3"==t.type?(r(),c("div",J,[h("div",{class:"session3",style:p({height:t.height,background:t.background})},[h("div",K,[v(b,{style:{"flex-wrap":"wrap"},type:"flex",justify:"center",align:"middle"},{default:w((()=>[v(k,{span:24},{default:w((()=>[h("div",W,[h("div",Y,m(t.title),1),h("p",Z,m(t.description),1)])])),_:2},1024),v(k,{span:24,class:"text-center"},{default:w((()=>[h("img",{style:{width:"80%"},src:t.image.src},null,8,ee)])),_:2},1024)])),_:2},1024)])],4)])):"session4"==t.type?(r(),c("div",te,[h("div",{class:"session4 p-t-lg p-b-lg",style:p({height:t.height,background:t.background})},[h("div",ie,[h("div",se,[h("span",{class:"bg-white button text-primary cursor-pointer ts-20",onClick:i=>e.$xyutil.navigateTo({url:t.button.url})},m(t.button.title),9,le)])])],4)])):"session5"==t.type?(r(),c("div",ne,[h("div",ae,[h("div",oe,[t.title?(r(),c("div",de,[y(m(t.title)+" ",1),v(ge,{class:"item",effect:"dark",content:t.help,placement:"right-start"},{default:w((()=>[re])),_:2},1032,["content"])])):u("",!0),v(b,{gutter:40,type:"flex",class:"flex flex-wrap"},{default:w((()=>[(r(!0),c(d,null,o(t.list,((e,t)=>(r(),x(k,{key:t,xs:12,sm:8,md:8,lg:6,class:"pos-r m-b-md m-t-md cursor-pointer flex flex-center flex-alignCenter"},{default:w((()=>[h("div",ce,[h("img",{src:e.image,class:"image",style:p([{filter:"grayscale(100%)","max-width":"145px","max-height":"65px"},{opacity:e.opacity?e.opacity:"0.5"}])},null,12,pe),ue])])),_:2},1024)))),128))])),_:2},1024),he])])])):u("",!0)])))),128))])}],["__scopeId","data-v-1a270568"]]),ge={name:"flink",data:()=>({showFlink:!1,flinkList:[]}),created:function(){this.flinkList=this.$store.state.app.flinkList,(!this.$store.state.app.flinkListUtime||Date.parse(new Date)/1e3-this.$store.state.app.flinkListUtime>3600)&&this.loadFlink(),window.matchMedia("(max-width: 992px)").matches||(this.showFlink=!0)},mounted:function(){},computed:{},methods:{loadFlink(){return e(this,null,(function*(){let e=yield this.$util.request({url:"/v1/flink/flink/lists",method:"get"});200==e.code?(this.flinkList=e.data.dataList,this.$store.state.app.flinkList=e.data.dataList,this.$store.state.app.flinkListUtime=Date.parse(new Date)/1e3):this.$Message.error(e.msg)}))}},watch:{}};export{me as X,ge as f};
