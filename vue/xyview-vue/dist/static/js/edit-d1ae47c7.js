var e=(e,l,t)=>new Promise(((a,o)=>{var d=e=>{try{n(t.next(e))}catch(l){o(l)}},i=e=>{try{n(t.throw(e))}catch(l){o(l)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(d,i);n((t=t.apply(e,l)).next())}));import{_ as l}from"../../index.js";const t={data:()=>({id:0,loading:!1,regionInit:{showInput:!1,labelField:"name",valueField:"name",deep:1,maxLevel:3,nodeKey:"id",lazy:!0,action:"/v1/region/region/lists"},form:{gender:0,name:"",tel:"",city:["北京"],address:"",isDefault:1}}),created:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route(){this.id=this.$route.params.id,this.loadData()}},methods:{handleSubmit(){return e(this,null,(function*(){this.loading=!0;let e=this;setTimeout((function(){e.loading=!1}),5e3);let l=yield this.$util.request({url:"/v1/user_address/address/edit/"+this.id,data:this.form,method:"put"});"200"==l.code?(this.$util.showToast({title:l.msg,icon:"success",duration:2e3}),this.$router.back()):this.$util.showToast({title:l.msg,icon:"loading",duration:3e3}),this.loading=!1}))},loadData(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$util.request({url:"/v1/user_address/address/info/"+this.id,data:{},method:"get"});200==e.code?this.form=e.data.info:this.$util.showToast({title:e.msg,icon:"loading",duration:3e3}),this.loading=!1}))}}},a=window.Vue.resolveComponent,o=window.Vue.createVNode,d=window.Vue.createElementVNode,i=window.Vue.withCtx,n=window.Vue.createTextVNode,s=window.Vue.resolveDirective,u=window.Vue.openBlock,r=window.Vue.createElementBlock,m=window.Vue.withDirectives;window.Vue.pushScopeId,window.Vue.popScopeId;const c={class:"bg-white"},h={class:"p-a m-b"},f={class:"box"},p={class:"content p-t-md"},w={class:"content"},V={class:"m-l-md p-b-md"};const v=l(t,[["render",function(e,l,t,v,g,b){const _=a("el-page-header"),y=a("el-option"),x=a("el-select"),$=a("el-form-item"),D=a("el-input"),k=a("xy-cascader"),I=a("el-form"),U=a("el-divider"),T=a("el-button"),C=s("loading");return u(),r("div",c,[d("div",h,[o(_,{onBack:l[0]||(l[0]=l=>e.$router.back(-1)),content:"修改地址"})]),d("div",f,[m((u(),r("div",p,[o(I,{model:g.form,size:"large","label-width":"140px","label-position":"left"},{default:i((()=>[o($,{label:"性别"},{default:i((()=>[o(x,{modelValue:g.form.gender,"onUpdate:modelValue":l[1]||(l[1]=e=>g.form.gender=e),placeholder:"性别",class:"full"},{default:i((()=>[o(y,{label:"默认",value:0}),o(y,{label:"先生",value:1}),o(y,{label:"女士",value:-1})])),_:1},8,["modelValue"])])),_:1}),o($,{label:"收货人名称"},{default:i((()=>[o(D,{modelValue:g.form.name,"onUpdate:modelValue":l[2]||(l[2]=e=>g.form.name=e),placeholder:"收货人名称"},null,8,["modelValue"])])),_:1}),o($,{label:"联系电话"},{default:i((()=>[o(D,{modelValue:g.form.tel,"onUpdate:modelValue":l[3]||(l[3]=e=>g.form.tel=e),placeholder:"联系电话"},null,8,["modelValue"])])),_:1}),o($,{label:"收货城市"},{default:i((()=>[o(k,{init:g.regionInit,modelValue:g.form.city,"onUpdate:modelValue":l[4]||(l[4]=e=>g.form.city=e)},null,8,["init","modelValue"])])),_:1}),o($,{label:"详细地址"},{default:i((()=>[o(D,{modelValue:g.form.address,"onUpdate:modelValue":l[5]||(l[5]=e=>g.form.address=e),placeholder:"详细地址"},null,8,["modelValue"])])),_:1}),o($,{label:"设为默认"},{default:i((()=>[o(x,{modelValue:g.form.isDefault,"onUpdate:modelValue":l[6]||(l[6]=e=>g.form.isDefault=e),placeholder:"设为默认",class:"full"},{default:i((()=>[o(y,{label:"是",value:1}),o(y,{label:"否",value:0})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"]),o(U),d("div",w,[d("div",V,[o(T,{type:"primary",onClick:b.handleSubmit},{default:i((()=>[n("提交")])),_:1},8,["onClick"])])])])),[[C,g.loading]])])])}],["__scopeId","data-v-3c94f256"]]);export{v as default};
