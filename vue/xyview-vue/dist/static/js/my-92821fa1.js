var e=(e,t,l)=>new Promise(((s,a)=>{var i=e=>{try{n(l.next(e))}catch(t){a(t)}},o=e=>{try{n(l.throw(e))}catch(t){a(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,o);n((l=l.apply(e,t)).next())}));import{X as t,S as l,a as s}from"../../index.js";const a=window.Vue.createVNode,i=window.Vue.openBlock,o=window.Vue.createElementBlock,n=window.Vue.createCommentVNode,u=window.Vue.toDisplayString,r=window.Vue.resolveComponent,d=window.Vue.createElementVNode,c=window.Vue.withCtx,f=window.Vue.createTextVNode,h=window.Vue.createBlock,m=window.Vue.normalizeClass,p={class:"wrap my-wrap"},x={key:0},w={class:"bg-primary flex justify-between h-24 items-center"},v={class:"container p-t-sm p-b-sm"},_=["src"],y={key:1,class:"text-white tw5 ts-28 m-l"},g=d("div",{class:"subtitle text-gray-100"}," 用户中心 ",-1),k=d("i",{class:"xyicon xyicon-cart"},null,-1),$={class:"hidden-md-and-up"},V={key:2},b=d("i",{class:"el-icon-user"},null,-1),S=d("i",{class:"el-icon-postcard"},null,-1),C=d("i",{class:"el-icon-bell"},null,-1),E=d("i",{class:"el-icon-location-outline"},null,-1),T=d("span",{slot:"title"},null,-1),N=d("i",{class:"el-icon-tickets"},null,-1),B=d("i",{class:"el-icon-tickets"},null,-1),D=d("i",{class:"el-icon-tickets"},null,-1),z=d("i",{class:"el-icon-tickets"},null,-1),I=d("i",{class:"el-icon-tickets"},null,-1),j=d("i",{class:"el-icon-tickets"},null,-1),A=window.Vue.ref,U={data:()=>({isCollapse:!1,isShow:!1,defaultActive:"",keyword:""}),created:function(){},watch:{defaultActive(e){}},methods:{toggleNav(){this.isShow=!this.isShow},logout(){this.$confirm("确定要注销登录吗？","提示",{confirmButtonText:"注销",confirmButtonClass:"el-button--danger",cancelButtonText:"取消",type:"warning"}).then((()=>e(this,null,(function*(){this.$store.dispatch("user/setToken",""),this.$store.dispatch("user/setUserInfo","");let e=yield this.$util.request({url:"/v1/core/user/logout",method:"delete"});200==e.code?(this.$util.showToast({title:"注销成功",icon:"success",duration:2e3}),window.location.href=this.$xyutil.config.frontDomain()):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})})))).catch((()=>{}))},loadData(){return e(this,null,(function*(){let e=yield this.$util.request({url:"/v1/api",data:{},method:"get"});200==e.code||this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})}))}}},q=Object.assign(U,{__name:"my",setup(e){const U=A(!1);return(e,A)=>{const q=r("el-divider"),P=r("router-link"),O=r("el-col"),W=r("el-button"),X=r("el-row"),F=r("el-drawer"),G=r("xy-header"),H=r("el-menu-item"),J=r("el-menu"),K=r("xy-header-default"),L=r("el-header"),M=r("el-menu-item-group"),Q=r("el-aside"),R=r("router-view"),Y=r("el-main"),Z=r("el-container"),ee=r("xy-footer");return i(),o("div",p,[a(Z,null,{default:c((()=>[a(L,null,{default:c((()=>{var n,r,m,p;return["ishop"==(null==(r=null==(n=e.$store.state)?void 0:n.app)?void 0:r.mainExt)?(i(),o("div",x,[a(t),d("div",w,[d("div",v,[a(X,{gutter:20,align:"middle"},{default:c((()=>[a(O,{xs:24,span:6},{default:c((()=>[a(P,{to:"/",class:"flex items-center"},{default:c((()=>[e.$store.state.app.siteInfo.logoTitleDark?(i(),o("img",{key:0,class:"logo",style:{height:"60px"},src:e.$store.state.app.siteInfo.logoTitleDark},null,8,_)):(i(),o("div",y,u(e.$store.state.app.siteInfo.title),1)),a(q,{direction:"vertical"}),g])),_:1})])),_:1}),a(O,{xs:24,span:5,offset:1,class:"flex text-white ts-14"},{default:c((()=>[a(P,{to:"/user/center",class:"m-r"},{default:c((()=>[f("首页")])),_:1}),a(P,{to:"/user/center",class:"m-r"},{default:c((()=>[f("用户设置")])),_:1})])),_:1}),a(O,{xs:24,span:6,offset:2},{default:c((()=>[a(l,{"show-hotkeys":!1})])),_:1}),a(O,{xs:24,span:2,offset:1},{default:c((()=>[a(W,{class:"cart-btn text-danger",size:"large",onClick:A[0]||(A[0]=e=>U.value=!0)},{default:c((()=>[k,f(" 购物车 ")])),_:1})])),_:1})])),_:1})])]),a(F,{title:"购物车",modelValue:U.value,"onUpdate:modelValue":A[2]||(A[2]=e=>U.value=e),width:"300px",onClose:A[3]||(A[3]=e=>U.value=!1)},{default:c((()=>[a(s,{isComp:!0,comShow:U.value,"onUpdate:comShow":A[1]||(A[1]=e=>U.value=e)},null,8,["comShow"])])),_:1},8,["modelValue"])])):"default"==(null==(p=null==(m=e.$store.state)?void 0:m.app)?void 0:p.mainExt)?(i(),h(G,{key:1,transparent:!1},{"nav-right":c((()=>[d("div",$,[d("i",{class:"nav-toggle xyicon xyicon-my-o cursor-pointer m-r-sm",style:{"font-size":"22px"},onClick:A[4]||(A[4]=(...t)=>e.toggleNav&&e.toggleNav(...t))})])])),_:1})):(i(),o("div",V,[a(K,null,{subtitle:c((()=>[f(" 用户中心 ")])),"sub-nav":c((()=>[a(J,{ellipsis:!1,router:"",class:"flex-1",mode:"horizontal"},{default:c((()=>[a(H,{index:"/user/center"},{default:c((()=>[f(" 首页 ")])),_:1}),a(H,{index:"/user/center"},{default:c((()=>[f(" 用户设置 ")])),_:1})])),_:1})])),_:1})]))]})),_:1}),a(Z,{class:"container main-container"},{default:c((()=>[a(Q,{class:m(e.isShow?"isShow":""),width:"auto"},{default:c((()=>[a(J,{onSelect:A[5]||(A[5]=t=>{e.isShow=!1}),collapse:e.isCollapse,"default-active":e.defaultActive,router:"","default-openeds":["0","1","2"]},{title:c((()=>[T])),default:c((()=>[a(M,{class:"m-t"},{title:c((()=>[f("用户")])),default:c((()=>[a(H,{index:"/user/center",class:m("/user/center"==e.$route.path?"is-active":"")},{default:c((()=>[b,f(" 个人中心 ")])),_:1},8,["class"]),e.$util.hasExt("user_cert")?(i(),h(H,{key:0,index:"/user_cert/cert/index",class:m("/user_cert/"==e.$route.path.startsWith()?"is-active":"")},{default:c((()=>[S,f(" 实名认证 ")])),_:1},8,["class"])):n("",!0),e.$util.hasExt("msg")?(i(),h(H,{key:1,index:"/msg/msg/lists",class:m("/msg/msg/lists"==e.$route.path?"is-active":"")},{default:c((()=>[C,f(" 消息中心 ")])),_:1},8,["class"])):n("",!0),e.$util.hasExt("user_address")?(i(),h(H,{key:2,index:"/user_address/address/lists",class:m("/user_address/address/lists"==e.$route.path?"is-active":"")},{default:c((()=>[E,f(" 我的地址 ")])),_:1},8,["class"])):n("",!0)])),_:1}),e.$util.hasExt("ishop")?(i(),h(M,{key:0},{title:c((()=>[f("商城")])),default:c((()=>[a(H,{index:"/ishop/order/my"},{default:c((()=>[N,f(" 我的订单 ")])),_:1}),a(H,{index:"/ishop/collect/my"},{default:c((()=>[B,f(" 我的收藏 ")])),_:1})])),_:1})):n("",!0),e.$util.hasExt("user_score")?(i(),h(M,{key:1},{title:c((()=>[f("财务")])),default:c((()=>[a(H,{index:"/user_score/index"},{default:c((()=>[D,f(" 我的钱包 ")])),_:1}),e.$util.hasExt("pay")?(i(),h(H,{key:0,index:"/pay/bill/log"},{default:c((()=>[z,f(" 支付流水 ")])),_:1})):n("",!0)])),_:1})):n("",!0),e.$util.hasExt("ext")?(i(),h(M,{key:2},{title:c((()=>[f("插件市场")])),default:c((()=>[a(H,{index:"/ext/addon/my"},{default:c((()=>[I,f(" 我发布的 ")])),_:1}),a(H,{index:"/ext/order/my"},{default:c((()=>[j,f(" 我购买的 ")])),_:1})])),_:1})):n("",!0)])),_:1},8,["collapse","default-active"])])),_:1},8,["class"]),a(Y,null,{default:c((()=>[a(R)])),_:1})])),_:1})])),_:1}),a(ee)])}}});export{q as default};
