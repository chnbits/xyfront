var e=(e,t,a)=>new Promise(((l,s)=>{var d=e=>{try{i(a.next(e))}catch(t){s(t)}},o=e=>{try{i(a.throw(e))}catch(t){s(t)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(d,o);i((a=a.apply(e,t)).next())}));import{_ as t}from"../../index.js";const a={data:()=>({loading:!1,keyword:"",dataList:[]}),created(){this.loadData()},methods:{loadData(){return e(this,null,(function*(){this.loading=!0;let e=yield this.$util.request({url:"/v1/user_address/address/my",data:{keyword:this.keyword},method:"get"});200==e.code?this.dataList=e.data.dataList:this.$util.showToast({title:e.msg,icon:"loading",duration:3e3}),this.loading=!1}))},deleteOne(t){return e(this,null,(function*(){this.$confirm("此操作将删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>e(this,null,(function*(){let e=yield this.$util.request({url:"/v1/user_address/addressdelete/"+t,data:{},method:"delete"});200==e.code?(this.loadData(),this.$util.showToast({title:e.msg,icon:"success",duration:2e3})):this.$util.showToast({title:e.msg,icon:"loading",duration:3e3})})))).catch((()=>{}))}))}}},l=window.Vue.createElementVNode,s=window.Vue.createTextVNode,d=window.Vue.resolveComponent,o=window.Vue.withCtx,i=window.Vue.createVNode,n=window.Vue.toDisplayString,r=window.Vue.openBlock,c=window.Vue.createElementBlock;window.Vue.createCommentVNode;const u=window.Vue.pushScopeId,p=window.Vue.popScopeId,w=e=>(u("data-v-2f97de63"),e=e(),p(),e),h=w((()=>l("div",{class:"top-box"},null,-1))),m={class:"box"},f={class:"content p-b-md"},y={class:"flex space-between"},g=w((()=>l("div",{class:"ts-18 tw5",style:{color:"#545454"}},"收货地址",-1))),x=w((()=>l("i",{class:"xyicon xyicon-search m-r"},null,-1))),v={class:"m-t"},V={class:"content p-t-md"},_={class:"lh-1 p-t-lg p-b-lg"},b={class:"ts-16"},k=w((()=>l("span",null,"暂无地址，",-1))),D={key:0},$={key:1},C={class:"flex space-center","slot-scope":"scope"},T=[w((()=>l("span",{class:"xyicon xyicon-edit"},null,-1)))],B=[w((()=>l("span",{class:"xyicon xyicon-trash text-danger"},null,-1)))];const L=t(a,[["render",function(e,t,a,u,p,w){const L=d("el-input"),N=d("el-button"),I=d("router-link"),S=d("el-skeleton"),j=d("el-table-column"),q=d("el-table");return r(),c("div",null,[h,l("div",m,[l("div",f,[l("div",y,[g,l("div",null,[i(L,{modelValue:p.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>p.keyword=e),placeholder:"请输入你要查找的地址",size:"default"},{append:o((()=>[l("div",{class:"cursor-pointer text-white",onClick:t[0]||(t[0]=(...e)=>w.loadData&&w.loadData(...e))},[x,s(" 搜索 ")])])),_:1},8,["modelValue"])])]),l("div",v,[i(I,{to:"/user_address/address/add"},{default:o((()=>[i(N,{class:"primary-linear",type:"primary",size:"default"},{default:o((()=>[s("添加地址")])),_:1})])),_:1})])]),l("div",V,[i(q,{ref:"mytable",data:p.dataList,"tooltip-effect":"dark"},{empty:o((()=>[i(S,{class:"text-left",loading:p.loading,rows:3,animated:""},{default:o((()=>[l("div",_,[l("div",b,[k,i(I,{to:"/user_address/address/add"},{default:o((()=>[s("添加地址")])),_:1})])])])),_:1},8,["loading"])])),default:o((()=>[i(j,{align:"left",prop:"name",label:"名称"}),i(j,{align:"left",prop:"tel",label:"电话",width:"120px"}),i(j,{align:"left",prop:"",label:"城市",minWidth:"150"},{default:o((e=>[s(n(e.row.city.join("|")),1)])),_:1}),i(j,{align:"left",prop:"address",label:"详细地址",width:"300px"}),i(j,{align:"center",prop:"isDefault",label:"默认"},{default:o((e=>[1==e.row.isDefault?(r(),c("span",D,"是")):(r(),c("span",$,"否"))])),_:1}),i(j,{align:"center",label:"操作"},{default:o((()=>[l("ul",C,[l("li",{class:"m-r-sm cursor-pointer",onClick:t[2]||(t[2]=t=>e.$router.push({path:"/user_address/address/edit/"+e.scope.row.id}))},T),l("li",{class:"cursor-pointer",onClick:t[3]||(t[3]=t=>w.deleteOne(e.scope.row.id))},B)])])),_:1})])),_:1},8,["data"])])])])}],["__scopeId","data-v-2f97de63"]]);export{L as default};
