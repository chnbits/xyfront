(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manifest"],{"0dc4":function(t,e,a){"use strict";a("bf88")},1146:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("el-row",{staticClass:"user-info m-b flex flex-wrap",attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{attrs:{xs:12,sm:4}},[a("div",{staticClass:"avatar-box flex flex-alignCenter"},[a("div",[a("img",{staticClass:"avatar",attrs:{src:t.$store.state.user.userInfo.avatar,alt:"avatar"}})]),a("div",[a("div",{staticClass:"nickname"},[t._v(t._s(t.$store.state.user.userInfo.nickname))]),a("div",{staticClass:"uid"},[t._v("UID: "+t._s(t.$store.state.user.userInfo.id))])])])]),a("el-col",{staticClass:"count-list flex",attrs:{xs:12,sm:5}},[a("div",{staticClass:"item"},[a("div",{staticClass:"title"},[t._v("粉丝")]),a("div",{staticClass:"value"},[t._v("0")])]),a("div",{staticClass:"item"},[a("div",{staticClass:"title"},[t._v("关注")]),a("div",{staticClass:"value"},[t._v("0")])])])],1),a("userLoginHoistory")],1)])},i=[],n=a("1da1"),r=(a("96cf"),a("52b3")),o={components:{userLoginHoistory:r["default"]},data:function(){return{}},created:function(){},methods:{loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/core/user/center",data:{},method:"get"});case 2:a=e.sent,200==a.code||t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}},c=o,l=(a("e9bc"),a("2877")),u=Object(l["a"])(c,s,i,!1,null,"f4355206",null);e["default"]=u.exports},"19f9":function(t,e,a){},"1c64":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},["iframe"==t.$store.state.app.mainNav[t.$store.state.app.currentNav].listsTpl?a("div",{staticStyle:{position:"absolute",top:"50px",bottom:"0",left:"0",right:"0"}},[a("iframe",{staticStyle:{border:"0",width:"100%",height:"100%"},attrs:{src:t.$store.state.app.mainNav[t.$store.state.app.currentNav].url}})]):t._e(),a("div",{staticClass:"container p-t"},[t.$store.state.app.mainNav[t.$store.state.app.currentNav].bannerName?a("div",{staticClass:"sub-header text-center m-t-md m-b-md"},[a("div",{staticClass:"ts-26 tw5 m-b"},[t._v(t._s(t.$store.state.app.mainNav[t.$store.state.app.currentNav].bannerName))]),a("div",{staticClass:"text-gray ts-22 tw3"},[t._v(t._s(t.$store.state.app.mainNav[t.$store.state.app.currentNav].subtitle))])]):t._e(),"page"==t.$store.state.app.mainNav[t.$store.state.app.currentNav].listsTpl?[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{shadow:"none","element-loading-text":"拼命加载中"}},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"ts-16",domProps:{innerHTML:t._s(t.content)}})])]:"case"==t.$store.state.app.mainNav[t.$store.state.app.currentNav].listsTpl?a("div",[a("lists-case",{attrs:{loading:t.loading,list:t.dataList}})],1):"ask"==t.$store.state.app.mainNav[t.$store.state.app.currentNav].listsTpl?a("div",[a("lists-ask",{attrs:{loading:t.loading,list:t.dataList,cateId:t.$store.state.app.mainNav[t.$store.state.app.currentNav].id},on:{"refresh-ist":t.loadlists}})],1):t._e()],2)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),a("ac1f"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"case-list"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"flex flex-wrap",staticStyle:{"min-height":"300px"},attrs:{type:"flex",justify:"center",align:"middle","element-loading-text":"拼命加载中"}},t._l(t.dataList,(function(e,s){return a("el-col",{key:s,staticClass:"item",attrs:{xs:24,sm:12,md:8,lg:8}},[a("div",{staticClass:"image"},[a("img",{attrs:{src:e.cover,alt:e.title}})]),a("div",{staticClass:"p-a bg-white"},[a("div",{staticClass:"title ts-16"},[t._v(t._s(e.title))]),a("div",{staticClass:"info flex space-between text-gray ts-12"},[a("div",[t._v(t._s(e.userInfo.nickname))]),a("div",[t._v(t._s(e.viewCount)+"次浏览")])]),a("div",{staticClass:"subtitle text-gray ts-12"},[t._v(t._s(e.subtitle))])])])})),1)],1)])}),o=[],c={name:"listsCase",data:function(){return{dataList:[]}},props:{loading:!1,list:{type:Array,default:function(){return[]}}},created:function(){this.dataList=this.list},watch:{list:function(){this.dataList=this.list}},methods:{}},l=c,u=(a("d95c"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"dc1c848a",null),m=d.exports,p={watch:{$route:function(t,e){this.loadlists()}},components:{"lists-case":m},data:function(){return{loading:!1,dataList:[]}},created:function(){this.loadlists()},computed:{content:function(){return this.$store.state.app.mainNav[this.$store.state.app.currentNav].content.replace(/\<img/gi,'<img style="max-width:100%;height:auto" ')}},methods:{loadlists:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0==t.$store.state.app.mainNav[t.$store.state.app.currentNav].cateType){e.next=2;break}return e.abrupt("return");case 2:return t.dataList=[],t.loading=!0,e.next=6,t.$xyutil.request({url:"/v1/icms/post/lists/"+t.$store.state.app.mainNav[t.$store.state.app.currentNav].id,data:{},method:"get"});case 6:a=e.sent,200==a.code?t.dataList=a.data.dataList:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()}}},f=p,h=Object(u["a"])(f,s,i,!1,null,"210b5dbb",null);e["default"]=h.exports},"1dc0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outerBox"},[a("div",{staticClass:"backOperation"},[a("a",{attrs:{href:"#"},on:{click:function(e){return t.$router.back(-1)}}},[t._v(" 返回上一级 "),a("span",{staticStyle:{display:"inline-block","margin-left":"5px"}},[t._v(">>")])]),a("span"),a("p",[t._v("消息 > 消息详情")])]),a("div",{staticClass:"box text-center bg-white"},[t._m(0),a("div",{staticClass:"inner p-t-sm"},[a("div",{staticClass:"ts-30 tw5 m-b-lg"},[t._v(" "+t._s(t.info.title)+" ")]),a("div",{staticClass:"content pos-r"},[t._v(" "+t._s(t.info.content)+" "),t._m(1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content text-left ts-14 lh-1 text-primary "},[a("div",{staticClass:"bg-primary inline-block m-t m-l-sm",staticStyle:{"margin-bottom":"-2px",width:"14px",height:"14px"}}),t._v(" 公告 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pos-a",staticStyle:{left:"10px",top:"0"}},[a("i",{staticClass:"xyicon xyicon-notify1  ts-22 text-primary"})])}],n=a("1da1"),r=(a("96cf"),{name:"MsgDetail",components:{},data:function(){return{loading:!1,id:0,info:{}}},created:function(){this.id=this.$route.query.id,this.loadData()},methods:{loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$xyutil.request({url:"/v1/msg/msg/info/"+t.id,method:"get"});case 3:a=e.sent,200==a.code?t.info=a.data.info:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}}),o=r,c=(a("5957"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"4052c64b",null);e["default"]=l.exports},"20b9":function(t,e,a){},"22ce":function(t,e,a){"use strict";a("3889")},"232f":function(t,e,a){"use strict";a("7819")},3083:function(t,e,a){"use strict";a("dccc")},3889:function(t,e,a){},"3a33":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"main-banner"},[a("h1",{staticClass:"title"},[t._v("课程搜索")]),a("p",{staticClass:"info m-t-md"},[a("Searchbar")],1)]),a("div",{staticClass:"container"},[a("div",{staticClass:"tw5 m-b ts-24 m-t"},[t._v(" 搜索结果 ")]),a("el-row",{staticClass:"cate-list flex-wrap",attrs:{gutter:30}},t._l(t.itemList,(function(e,s){return a("el-col",{key:s,attrs:{span:6}},[a("router-link",{attrs:{to:"/course/item/info/"+e.id}},[a("div",{staticClass:"cate-item"},[a("img",{staticClass:"cover",attrs:{src:e.cover,alt:""}}),a("div",{staticClass:"bottom"},[t._v(t._s(e.title))])])])],1)})),1),0==t.itemList.length?a("el-empty",{attrs:{description:"暂无结果"}}):t._e()],1)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),a("7f6a")),o={components:{Searchbar:r["a"]},data:function(){return{keyword:0,itemList:[]}},created:function(){this.keyword=this.$route.query.keyword,this.loadItems()},watch:{$route:function(t,e){this.keyword=this.$route.query.keyword,this.loadItems()}},methods:{loadItems:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/course/item/lists",data:{keyword:t.keyword},method:"get"});case 2:a=e.sent,200==a.code?t.itemList=a.data.dataList:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}},c=o,l=(a("0dc4"),a("2877")),u=Object(l["a"])(c,s,i,!1,null,"183a7732",null);e["default"]=u.exports},"3bf5":function(t,e,a){"use strict";a("68ca")},"3ce5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"main-banner"},[a("h1",{staticClass:"title"},[t._v(t._s(t.cataInfo.title))]),a("p",{staticClass:"info m-t-md"},[a("Searchbar")],1)]),a("div",{staticClass:"container"},[a("div",{staticClass:"tw5 m-b ts-24 m-t"},[t._v(" 课程列表 ")]),a("el-row",{staticClass:"cate-list flex-wrap",attrs:{gutter:30}},t._l(t.itemList,(function(e,s){return a("el-col",{key:s,attrs:{span:6}},[a("router-link",{attrs:{to:"/course/item/info/"+e.id}},[a("div",{staticClass:"cate-item"},[a("img",{staticClass:"cover",attrs:{src:e.cover,alt:""}}),a("div",{staticClass:"bottom"},[t._v(t._s(e.title))])])])],1)})),1),0==t.itemList.length?a("el-empty",{attrs:{description:"此分类暂无课程"}}):t._e()],1)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),a("7f6a")),o={components:{Searchbar:r["a"]},data:function(){return{cateId:0,cataInfo:{title:""},itemList:[]}},created:function(){this.cateId=this.$route.query.cateId,this.loadItems()},watch:{$route:function(t,e){this.cateId=this.$route.query.cateId,this.loadItems()}},methods:{loadItems:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/course/item/lists",data:{cateId:t.cateId},method:"get"});case 2:a=e.sent,200==a.code?(t.cataInfo=a.data.cateInfo,t.itemList=a.data.dataList):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}},c=o,l=(a("523f"),a("2877")),u=Object(l["a"])(c,s,i,!1,null,"22474d27",null);e["default"]=u.exports},4746:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"main-banner"},[a("h1",{staticClass:"title"},[t._v("课程中心")]),a("p",{staticClass:"info m-t-md"},[a("Searchbar")],1)]),a("div",{staticClass:"container"},[a("div",{staticClass:"tw5 m-b ts-24"},[t._v(" 课程分类 ")]),a("el-row",{staticClass:"cate-list flex-wrap",attrs:{gutter:30}},t._l(t.cateList,(function(e,s){return a("el-col",{key:s,attrs:{span:6}},[a("router-link",{attrs:{to:"/course/item/lists?cateId="+e.id}},[a("div",{staticClass:"cate-item"},[a("img",{staticClass:"cover",attrs:{src:e.cover,alt:""}}),a("div",{staticClass:"bottom"},[t._v(t._s(e.title))])])])],1)})),1),0==t.cateList.length?a("el-empty",{attrs:{description:"暂无分类"}}):t._e(),a("div",{staticClass:"tw5 m-b ts-24 m-t"},[t._v(" 基础课程 ")]),a("el-row",{staticClass:"cate-list flex-wrap",attrs:{gutter:30}},t._l(t.itemList,(function(e,s){return a("el-col",{key:s,attrs:{span:6}},[a("router-link",{attrs:{to:"/course/item/info/"+e.id}},[a("div",{staticClass:"cate-item"},[a("img",{staticClass:"cover",attrs:{src:e.cover,alt:""}}),a("div",{staticClass:"bottom"},[t._v(t._s(e.title))])])])],1)})),1),0==t.itemList.length?a("el-empty",{attrs:{description:"暂无课程"}}):t._e()],1)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),a("7f6a")),o={components:{Searchbar:r["a"]},data:function(){return{keyword:"",cateList:[],itemList:[]}},created:function(){this.loadItems(),this.loadCates()},watch:{},methods:{loadCates:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/course/cate/lists",data:{},method:"get"});case 2:a=e.sent,200==a.code?t.cateList=a.data.dataList:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},loadItems:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/course/item/lists",data:{},method:"get"});case 2:a=e.sent,200==a.code?t.itemList=a.data.dataList:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}},c=o,l=(a("232f"),a("2877")),u=Object(l["a"])(c,s,i,!1,null,"2eb4b4a2",null);e["default"]=u.exports},"4f03":function(t,e,a){"use strict";a("ce71")},"4f43":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-wrap"},[a("div",[a("el-header",[a("xy-header",{attrs:{transparent:!1}})],1),t._v(" asd "),a("el-container",{staticClass:"container",staticStyle:{border:"1px solid #eee"}},[a("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"auto"}},[a("el-menu",{attrs:{collapse:t.isCollapse,"default-active":t.defaultActive,router:"","default-openeds":["0","1","2"]}},[a("el-submenu",{attrs:{index:"0"}},[a("template",{slot:"title"},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户")])]),a("el-menu-item",{class:"/user/center"==t.$route.path?"active":"",attrs:{index:"/user/center"}},[a("i",{staticClass:"el-icon-user"}),t._v("个人中心"),a("i",{staticClass:"active-img"})])],2)],1)],1),a("el-main",[a("router-view")],1)],1)],1)])},i=[],n=a("1da1"),r=(a("96cf"),{data:function(){return{isCollapse:!1,defaultActive:"",keyword:""}},created:function(){this.$xyutil.isLogin(!1,!0)},watch:{defaultActive:function(t){}},methods:{toggleNav:function(){this.isCollapse=!this.isCollapse},logout:function(){var t=this;this.$confirm("确定要注销登录吗？","提示",{confirmButtonText:"注销",confirmButtonClass:"el-button--danger",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("user/setToken",""),t.$store.dispatch("user/setUserInfo",""),e.next=4,t.$xyutil.request({url:"/v1/core/user/logout",method:"delete"});case 4:a=e.sent,200==a.code?(t.$xyutil.showToast({title:"注销成功",icon:"success",duration:2e3}),window.location.href=t.$xyutil.config.baseDomain()):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 6:case"end":return e.stop()}}),e)})))).catch((function(){}))},loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/api",data:{},method:"get"});case 2:a=e.sent,200==a.code||t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}}),o=r,c=(a("22ce"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports},"523f":function(t,e,a){"use strict";a("d443")},"52b3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"center-box safe-box m-b"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[t._v("最近登录记录")])]),a("div",{staticClass:"content clearfix"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.loginHistory,stripe:""}},[a("el-table-column",{attrs:{prop:"loginTime",label:"时间","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.$xyutil.timeFormat(e.row.loginTime)))])]}}])}),a("el-table-column",{attrs:{prop:"clientIp",label:"IP地址","min-width":"180"}}),a("el-table-column",{attrs:{prop:"city",label:"地点"}})],1)],1)])},i=[],n=a("1da1"),r=(a("96cf"),{components:{},data:function(){return{loginHistory:[]}},created:function(){this.loadLoginHistory()},methods:{loadLoginHistory:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/user/user/loginHistory",method:"get"});case 2:a=e.sent,200==a.code?t.loginHistory=a.data.dataList:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}}),o=r,c=(a("d8fd"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"16a1a6e9",null);e["default"]=l.exports},"561a":function(t,e,a){},"571d":function(t,e,a){"use strict";a("6194")},5957:function(t,e,a){"use strict";a("20b9")},"59e6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main p-t"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container",attrs:{"element-loading-text":"拼命加载中"}},[a("el-card",{staticStyle:{"min-height":"400px"},attrs:{shadow:"none"}},[a("h1",{staticClass:"title text-center"},[t._v(t._s(t.info.title))]),a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],domProps:{innerHTML:t._s(t.info.content)}})])],1)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),{data:function(){return{id:0,info:{},loading:!1}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(t,e){this.id=this.$route.params.id,this.loadData()}},methods:{loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$xyutil.request({url:"/v1/icms/post/info/"+t.id,data:{},method:"get"});case 3:a=e.sent,200==a.code?t.info=a.data.info:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}}),o=r,c=a("2877"),l=Object(c["a"])(o,s,i,!1,null,"955ceb8e",null);e["default"]=l.exports},"5df8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"main-banner"},[a("div",{staticClass:"container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v(t._s(t.info.title))])],1),a("div",{staticClass:"course-title m-b-sm"},[t._v(" "+t._s(t.chapterList[t.chapterIndex]?t.chapterList[t.chapterIndex].title:"")+" ")]),a("el-row",{staticClass:"course-content",attrs:{gutter:0}},[a("el-col",{attrs:{span:17,offset:0}},[a("div",{staticClass:"player-wrap m-t m-b"},[t.loadedScript&&"video"==t.courseType?a("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.playerOptions,playsinline:!0},on:{play:function(e){return t.onPlayerPlay(e)},pause:function(e){return t.onPlayerPause(e)},ended:function(e){return t.onPlayerEnded(e)},loadeddata:function(e){return t.onPlayerLoadeddata(e)},waiting:function(e){return t.onPlayerWaiting(e)},playing:function(e){return t.onPlayerPlaying(e)},timeupdate:function(e){return t.onPlayerTimeupdate(e)},canplay:function(e){return t.onPlayerCanplay(e)},canplaythrough:function(e){return t.onPlayerCanplaythrough(e)},ready:t.playerReadied,statechanged:function(e){return t.playerStateChanged(e)}}}):"pdf"==t.courseType?a("div",{staticClass:"pdf-box"},[a("vue-pdf-app",{staticStyle:{height:"1000px"},attrs:{pdf:t.fileUrl}})],1):"office"==t.courseType?a("iframe",{attrs:{width:"100%",height:"1000px",src:"http://view.officeapps.live.com/op/view.aspx?src="+t.fileUrl}}):t._e()],1),a("div",{staticClass:"player-bottom flex space-between p-l p-r p-b-sm"},[a("div",{staticClass:"text-left"},[t.chapterIndex>=0&&t.chapterList[t.chapterIndex]?a("a",{staticClass:"ts-13",attrs:{target:"_blank",href:t.util.baseDomain()+"/api/v1/course/chapter/download/"+t.chapterList[t.chapterIndex].id,rel:"noopener noreferrer"}},[a("i",{staticClass:"xyicon xyicon-download1"}),t._v(" 下载 ")]):t._e()]),t.chapterList[t.chapterIndex]?a("div",{staticClass:"text-left"},[a("span",{staticClass:"ts-14"},[t._v(" "+t._s(t.chapterIndex>=0?t.chapterList[t.chapterIndex].viewCountShow:0)+"次播放 ")])]):t._e()])]),a("el-col",{attrs:{span:7,offset:0}},[a("div",{staticClass:"p-t-md text-left p-l"},[a("h4",{staticClass:"m-b"},[t._v("选集（"+t._s(t.chapterList.length)+"）")]),a("div",{staticStyle:{height:"100%","overflow-y":"scroll"}},t._l(t.chapterList,(function(e,s){return a("router-link",{key:s,attrs:{to:"/course/item/info/"+t.id+"?chapter="+s}},[a("div",{staticClass:"flex m-b-sm cursor-pointer"},[a("div",[a("img",{staticStyle:{"border-radius":"3px"},attrs:{src:e.cover,alt:"",width:"120",height:"70"}})]),a("div",{staticClass:"flex-1 m-l-sm"},[a("h4",{staticClass:"title ts-16",staticStyle:{color:"#b4b4b4","line-height":"16px"}},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"m-t-sm ts-12 text-666"},[t._v(t._s(e.viewCountShow)+"播放")])])])])})),1)])])],1)],1)]),a("div",{staticClass:"container m-b"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:17,offset:0}},[a("div",{staticClass:"m-t-sm"},[a("comment-lists",{attrs:{title:"全部评论",urlPrefix:"/course",showReplyForm:t.showReplyForm,dataId:t.id,dataModel:"course_item"},on:{"update:showReplyForm":function(e){t.showReplyForm=e},"update:show-reply-form":function(e){t.showReplyForm=e}}})],1)]),a("el-col",{attrs:{span:7,offset:0}},[a("h4",{staticClass:"m-t-sm m-b ts-18 tw5"},[t._v("相关推荐")]),t._l(t.recommendList,(function(e,s){return a("router-link",{key:s,attrs:{to:"/course/item/info/"+e.id}},[a("div",{staticClass:"flex m-b-sm"},[a("div",[a("img",{staticStyle:{"border-radius":"3px"},attrs:{src:e.cover,alt:"",width:"120",height:"70"}})]),a("div",{staticClass:"flex-1 m-l-sm"},[a("h4",{staticClass:"title ts-16 text-333",staticStyle:{"line-height":"16px"}},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"m-t-sm ts-12 text-999"},[t._v(t._s(e.viewCountShow)+"播放")])])])])}))],2)],1)],1)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("d3b7"),a("96cf"),a("7e25")),o={components:{"comment-lists":r["a"]},data:function(){return{id:0,info:{title:""},chapterList:[],recommendList:[],chapterIndex:-1,loading:!1,showReplyForm:!0,loadedScript:!1,courseType:"video",playerOptions:{width:"100%",height:"450",autoplay:!1,muted:!1,language:"zh-CN",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:""}],poster:""},fileUrl:"",pageNum:1,pageTotalNum:1,loadedRatio:0}},computed:{player:function(){var t,e;return null===(t=this.$refs)||void 0===t||null===(e=t.videoPlayer)||void 0===e?void 0:e.player}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,t.loadData(),t.$route.query.chapter>=0&&(t.chapterIndex=t.$route.query.chapter),e.next=5,t.loadScript();case 5:t.loadedScript=!0;case 6:case"end":return e.stop()}}),e)})))()},watch:{chapterIndex:function(t){this.updateChapter()},$route:function(t,e){this.id=this.$route.params.id,"video"==this.courseType&&this.player.off(),this.loadData(),this.$route.query.chapter>=0&&(this.chapterIndex=this.$route.query.chapter)}},methods:{loadScript:function(){var t=this,e=this;return new Promise((function(a,s){t.VueLink2.load("https://unpkg.com/vue-pdf-app@2.1.0/dist/icons/main.css").then((function(){})),e.VueScript2.load("https://unpkg.com/vue-pdf-app@2.1.0/dist/vue-pdf-app.umd.min.js").then((function(){a(),Vue.component("VuePdfApp",window["vue-pdf-app"])}))}))},prePage:function(){var t=this.pageNum;t=t>1?t-1:this.pageTotalNum,this.pageNum=t},nextPage:function(){var t=this.pageNum;t=t<this.pageTotalNum?t+1:1,this.pageNum=t},updateChapter:function(){if(this.chapterIndex>=0&&this.chapterList.length>0){var t,e;if(this.chapterList[this.chapterIndex].playFile.length>0){var a=this.chapterList[this.chapterIndex].playFile[0].url,s=a.lastIndexOf("."),i=a.substring(s+1);switch(i){case"mp4":this.courseType="video",this.playerOptions.sources[0].src=a,this.playerOptions.poster=this.chapterList[this.chapterIndex].cover,this.loadChapter(this.chapterList[this.chapterIndex].id);break;case"pdf":this.courseType="pdf",this.fileUrl=a;break;case"pptx":case"docx":case"xlsx":case"ppt":case"doc":case"xls":this.courseType="office",this.fileUrl=a;break;default:alert("暂不支持的格式");break}}else this.courseType="video",this.playerOptions.poster="",this.playerOptions.sources[0].src="";null===(t=this.chapterList[this.chapterIndex])||void 0===t||null===(e=t.files)||void 0===e||e.length}else this.courseType="video",this.playerOptions.poster="",this.playerOptions.sources[0].src=""},loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$xyutil.request({url:"/v1/course/item/info/"+t.id,data:{recommend:1},method:"get"});case 3:a=e.sent,200==a.code?(t.info=a.data.info,t.chapterList=a.data.chapterList,t.recommendList=a.data.recommendList,t.chapterList.length>0&&!(t.$route.query.chapter>=0)?t.chapterIndex=0:t.chapterIndex=t.$route.query.chapter,t.updateChapter()):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},loadChapter:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$xyutil.request({url:"/v1/course/chapter/info/"+t,method:"get"});case 2:s=a.sent,200==s.code||e.$xyutil.showToast({title:s.msg,icon:"loading",duration:3e3});case 4:case"end":return a.stop()}}),a)})))()},onPlayerPlay:function(t){},onPlayerPause:function(t){},onPlayerEnded:function(t){},onPlayerLoadeddata:function(t){},onPlayerWaiting:function(t){},onPlayerPlaying:function(t){},onPlayerTimeupdate:function(t){},onPlayerCanplay:function(t){},onPlayerCanplaythrough:function(t){},playerStateChanged:function(t){},playerReadied:function(t){t.currentTime(0)}}},c=o,l=(a("4f03"),a("2877")),u=Object(l["a"])(c,s,i,!1,null,"38e1421a",null);e["default"]=u.exports},6194:function(t,e,a){},6222:function(t,e,a){},"68ca":function(t,e,a){},"77f9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mcRight"},[a("div",{staticClass:"backImage"},[a("div",{staticClass:"title"},t._l(t.tabs,(function(e,s){return a("button",{key:s,class:{OnBtnChange:s==t.current},on:{click:function(e){return t.addClass(s)}}},[t._v(" "+t._s(e.title)+" ")])})),0),t._m(0)]),a("div",{staticClass:"content"},[a("el-table",{ref:"mytable",attrs:{data:t.tableData,"tooltip-effect":"dark","row-class-name":t.tableRowClassName}},[a("template",{slot:"empty"},[a("div",{staticClass:"lh-1 p-t-lg p-b-lg"},[a("div",{staticClass:"ts-16 m-t-sm",staticStyle:{color:"#A5A5A5"}},[a("span",[t._v("暂无消息")])])])]),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"标题",width:"1020"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.isRead?a("span",{staticClass:"newRed"},[t._v("·")]):t._e(),a("span",{staticClass:"cursor-pointer",on:{click:function(a){return t.$router.push({path:"/msg/msg/info",query:{id:e.row.id}})}}},[t._v(" "+t._s(e.row.title)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"发送时间",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$xyutil.timeFormat(t.row.createTime))+" ")]}}])}),a("el-table-column",{attrs:{prop:"cate",label:"类别","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.cate?a("span",[t._v("系统通知")]):t._e(),2==e.row.cate?a("span",[t._v("站内公告")]):t._e()]}}])})],2)],1),a("div",{staticClass:"Pagination"},[a("button",{on:{click:t.readBatch}},[a("i",{staticClass:"iconfont iconbiaojiyidu"}),t._v(" 标记已读 ")]),a("button",{on:{click:t.deleteBatch}},[a("i",{staticClass:"iconfont xyicon xyicon-trash"}),t._v(" 删除 ")]),a("button",{on:{click:t.readAll}},[a("i",{staticClass:"iconfont xyicon xyicon-eye"}),t._v(" 全部已读 ")]),a("button",{on:{click:t.deleteAll}},[a("i",{staticClass:"iconfont xyicon xyicon-trash"}),t._v(" 全部删除 ")]),a("div",{staticClass:"fenyeNum"},[a("el-pagination",{attrs:{"current-page":t.dataPage.page,background:"","page-sizes":[10,20,30,40],"page-size":t.dataPage.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.dataPage.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("button",[t._v("状态筛选： 全部 ▼")])])}],n=a("1da1"),r=(a("d3b7"),a("159b"),a("96cf"),{data:function(){return{loading:!1,current:0,tabs:[{value:0,title:"全部类型消息"},{value:2,title:"站内公告"},{value:1,title:"系统通知"}],tableData:[],dataPage:{total:0,page:1,limit:10}}},created:function(){this.loadlists()},methods:{addClass:function(t){this.current=t,this.loadlists()},loadlists:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$xyutil.request({url:"/v1/msg/msg/my",data:{cate:t.tabs[t.current].value,page:t.dataPage.page,limit:t.dataPage.limit},method:"get"});case 3:a=e.sent,200==a.code?(t.tableData=a.data.dataList,t.dataPage=a.data.dataPage):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},getSelectedIds:function(){var t=this.$refs.mytable.selection;if(0!=t.length){var e="";return t.forEach((function(t){e=e+","+t.id})),e}this.$xyutil.showToast({title:"请选择消息",icon:"loading",duration:3e3})},readBatch:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.getSelectedIds(),e.next=3,t.$xyutil.request({url:"/v1/msg/msg/readBatch",data:{ids:a},method:"put"});case 3:s=e.sent,200==s.code?(t.loadlists(),t.$xyutil.showToast({title:s.msg,icon:"loading",duration:2e3})):t.$xyutil.showToast({title:s.msg,icon:"loading",duration:3e3});case 5:case"end":return e.stop()}}),e)})))()},deleteBatch:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.getSelectedIds(),e.next=3,t.$xyutil.request({url:"/v1/msg/msg/deleteBatch",data:{ids:a},method:"delete"});case 3:s=e.sent,200==s.code?(t.loadlists(),t.$xyutil.showToast({title:s.msg,icon:"loading",duration:2e3})):t.$xyutil.showToast({title:s.msg,icon:"loading",duration:3e3});case 5:case"end":return e.stop()}}),e)})))()},readAll:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/msg/msg/readAll",method:"put"});case 2:a=e.sent,200==a.code?(t.loadlists(),t.$xyutil.showToast({title:a.msg,icon:"loading",duration:2e3})):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},deleteAll:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/msg/msg/deleteAll",method:"delete"});case 2:a=e.sent,200==a.code?(t.loadlists(),t.$xyutil.showToast({title:a.msg,icon:"loading",duration:2e3})):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},tableRowClassName:function(t){t.row,t.rowIndex},handleSizeChange:function(t){this.dataPage.limit=t,this.loadlists()},handleCurrentChange:function(t){this.dataPage.page=t,this.loadlists()}}}),o=r,c=(a("b594"),a("d616"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"dbba6d64",null);e["default"]=l.exports},7819:function(t,e,a){},"7e25":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ts-14"},[t.showReplyForm?a("el-card",{staticClass:"box-card m-b-sm",attrs:{shadow:"never"}},[t.$xyutil.getStorageSync("token")?a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"user flex space-between"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"m-r-sm"},[a("el-avatar",{attrs:{shape:"square",icon:"el-icon-user-solid",src:t.$store.state.user.userInfo.avatar}})],1),a("div",{staticClass:"bg-white"},[a("div",{staticClass:"title tw5 ts-14"},[t._v(t._s(t.$store.state.user.userInfo.nickname))]),a("div",{staticClass:"info flex space-between text-gray ts-13",staticStyle:{"margin-top":"2px"}},[a("div",[t._v(t._s(t.$store.state.user.userInfo.slogan?t.$store.state.user.userInfo.slogan:""))])])])]),a("div",{staticClass:"ts-12 text-gray"},[t._v("写回复")])])]):t._e(),t.$xyutil.getStorageSync("token")?a("div",{staticClass:"comment-form"},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"",size:"normal",clearable:""},model:{value:t.comment.content,callback:function(e){t.$set(t.comment,"content",e)},expression:"comment.content"}}),a("el-button",{staticClass:"m-t-sm m-r",staticStyle:{width:"80px"},attrs:{type:"primary",size:"medium"},on:{click:t.reply}},[t._v(" 提交 ")]),t.replyTarget?a("span",[t._v("回复"+t._s(t.replyTarget))]):t._e()],1):t._e(),t.$xyutil.getStorageSync("token")?t._e():a("el-alert",{attrs:{title:"请登录后回复",type:"error","show-icon":""}})],1):t._e(),a("el-card",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length>0,expression:"dataList.length > 0"}],staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.title)+"列表")])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"comment-list",staticStyle:{"min-height":"70px"},attrs:{"element-loading-text":"数据加载中"}},t._l(t.dataList,(function(e,s){return a("div",{key:s,staticClass:"item p-b-sm border-bottom_1px",class:s>0?"p-t-sm":""},[a("div",{staticClass:"user flex space-between"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"m-r-sm"},[a("el-avatar",{attrs:{icon:"el-icon-user-solid",src:e.userInfo.avatar}})],1),a("div",{staticClass:"bg-white"},[a("div",{staticClass:"title tw5 ts-16"},[t._v(" "+t._s(e.userInfo.nickname)+" "),e.userInfo.roles||1==e.userInfo.id?a("el-tag",{attrs:{type:"success",size:"mini",effect:"dark"}},[t._v(" 官方人员 ")]):t._e()],1),a("div",{staticClass:"info flex space-between text-gray ts-13",staticStyle:{"margin-top":"2px"}},[a("div",[t._v(t._s(e.userInfo.slogan?e.userInfo.slogan:""))])])])]),a("div",{staticClass:"ts-12 text-gray"},[t._v(t._s(t.$xyutil.timeFormat(e.createTime)))])]),a("div",{staticClass:"content ts-14 m-t-sm"},[a("div",{domProps:{innerHTML:t._s(e.content)}}),e.children.length>0?a("div",{staticClass:"children-list m-l-lg m-t-sm bg-gray-light p-a-sm br-4"},t._l(e.children,(function(e,i){return a("div",{key:i,staticClass:"m-b-sm m-t-xs"},[a("div",{staticClass:"flex space-between ts-13"},[a("div",{staticClass:"m-b-xs"},[a("span",[t._v(t._s(e.userInfo.nickname))]),e.userInfo.roles||1==e.userInfo.id?a("el-tag",{staticClass:"m-l-xs m-r-xs",attrs:{type:"success",size:"mini",effect:"dark"}},[t._v(" 官方人员 ")]):t._e(),t._v(" 回复 "),a("span",[t._v(t._s(e.puserInfo?e.puserInfo.nickname:""))])],1),a("div",[a("span",{staticClass:"ts-12 text-gray"},[t._v("回复于"+t._s(t.$xyutil.timeFormat(e.createTime)))])])]),a("div",{staticClass:"m-b-sm",domProps:{innerHTML:t._s(e.content)}}),a("div",{staticClass:"actions flex flex-alignCenter"},[a("div",{staticClass:"m-r",on:{click:function(a){return t.doreply(e.id,e.userInfo.nickname,s)}}},[a("i",{staticClass:"xyicon xyicon-reply ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[t._v(" 回复 ")])],1)])])})),0):t._e()]),a("div",{staticClass:"actions m-t flex flex-alignCenter"},[a("div",{staticClass:"m-r",on:{click:function(a){return t.doreply(e.id,e.userInfo.nickname)}}},[a("i",{staticClass:"xyicon xyicon-reply ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[t._v(" 回复 ")])],1)])])})),0)])],1)},i=[],n=a("1da1"),r=(a("96cf"),a("a9e3"),{components:{},name:"commentLists",props:{showReplyForm:{type:Boolean,default:!1},title:{type:String,default:"评论"},dataId:{type:[Number,String],default:0},dataModel:{type:String,default:""},urlPrefix:{type:String,default:""}},data:function(){return{loading:!1,dataList:[],item:{extra:{tinymce:{height:300,toolbar:"formatselect fontsizeselect | link image media blockquote codesample | bold italic underline strikethrough | forecolor backcolor bullist numlist | code fullscreen | newyear"}}},replyTarget:"",comment:{anonymous:0,tpid:0,tpidIndex:-1,pid:0,dataId:0,dataModel:this.dataModel,content:"",images:[],url:""}}},created:function(){this.comment.dataId=this.dataId,this.loadData()},watch:{dataId:function(t){this.comment.dataId=this.dataId,this.loadData()},dataModel:function(t){this.loadData()}},methods:{doreply:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;a>=0&&(this.comment.tpidIndex=a,this.comment.tpid=this.dataList[a].id),this.comment.dataId=this.dataId,this.comment.pid=t,this.showReplyForm=!0,this.replyTarget=e},reply:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.comment.url=t.urlPrefix+"/"+t.comment.dataId,t.comment.content){e.next=5;break}return t.$xyutil.showToast({title:"请填写回复",icon:"error",duration:2e3}),e.abrupt("return",!1);case 5:return e.next=7,t.$xyutil.request({url:"/v1/comment/comment/add",method:"post",data:t.comment,header:{}});case 7:a=e.sent,200==a.code?(t.$xyutil.showToast({title:"提交成功",icon:"none",duration:2e3}),t.$emit("update:showReplyForm",!1),a.data.comment.userInfo=t.$store.state.user.userInfo,t.comment.tpid>0?t.dataList[t.comment.tpidIndex].children.push(a.data.comment):t.dataList.push(a.data.comment),t.replyTarget="",t.comment={anonymous:0,tpid:0,tpidIndex:-1,pid:0,dataId:0,dataModel:t.dataModel,content:"",images:[],url:""}):t.$xyutil.showToast({title:a.msg,icon:"none",duration:2e3});case 9:case"end":return e.stop()}}),e)})))()},actionClick:function(t,e,a){var s=arguments,i=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=s.length>3&&void 0!==s[3]?s[3]:-1,o=0,o=-1!=r?i.dataList[t].children[r].id:i.dataList[t].id,n.next=5,i.$xyutil.request({url:"/v1/action/action/set",data:{dataId:o,dataModel:e,actionType:a},method:"post"});case 5:c=n.sent,200==c.code?(-1!=r?i.$set(i.dataList[t].children[r].actionStates,a,c.data.currentValue):i.$set(i.dataList[t].actionStates,a,c.data.currentValue),i.$xyutil.showToast({title:c.msg,icon:"success",duration:2e3})):i.$xyutil.showToast({title:c.msg,icon:"loading",duration:3e3});case 7:case"end":return n.stop()}}),n)})))()},loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.dataId&&t.dataModel){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.$xyutil.request({url:"/v1/comment/comment/lists",data:{dataId:t.dataId,dataModel:t.dataModel},method:"get"});case 5:a=e.sent,200==a.code?(t.dataList=a.data.dataList,0==t.dataList.length&&t.$emit("update:showReplyForm",!0)):t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()}}}),o=r,c=(a("894e"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"0c36e80a",null);e["a"]=l.exports},"7f6a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-input",{staticClass:"banner-search",attrs:{size:"default",placeholder:"请输入课程关键词"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("el-button",{attrs:{slot:"append",type:"primary",size:"default"},on:{click:t.search},slot:"append"},[a("i",{staticClass:"xyicon xyicon-search"})])],1)},i=[],n=a("1da1"),r=(a("96cf"),{name:"Seatchbar",data:function(){return{keyword:""}},created:function(){this.keyword=this.$route.query.keyword},watch:{$route:function(t,e){this.keyword=this.$route.query.keyword}},methods:{search:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$router.push({path:"/course/item/search",query:{keyword:t.keyword}});case 1:case"end":return e.stop()}}),e)})))()}}}),o=r,c=(a("dd4a"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"df487870",null);e["a"]=l.exports},"894e":function(t,e,a){"use strict";a("6222")},"922b":function(t,e,a){},"92e3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"title text-center"},[t._v(t._s(t.info.title))]),a("div",{domProps:{innerHTML:t._s(t.info.content)}})])]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),{data:function(){return{id:0,info:{}}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(t,e){this.id=this.$route.params.id,this.loadData()}},methods:{loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$xyutil.request({url:"/v1/user_agreement/agreement/info",data:{title:t.id},method:"get"});case 2:a=e.sent,200==a.code?t.info=a.data.info:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}}),o=r,c=a("2877"),l=Object(c["a"])(o,s,i,!1,null,"06f99a0f",null);e["default"]=l.exports},b594:function(t,e,a){"use strict";a("561a")},bf88:function(t,e,a){},c5db:function(t,e,a){"use strict";a.r(e);var s,i,n=a("2877"),r={},o=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=o.exports},cbba:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header"),a("div",{staticClass:"main"},[a("div",{staticClass:"container",staticStyle:{"padding-top":"80px","padding-bottom":"80px"}},[a("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",{staticClass:"left-box hidden-sm-and-down",attrs:{md:10,lg:16}},[a("img",{attrs:{src:t.$store.state.app.loginPic,width:"600"}})]),a("el-col",{staticClass:"login-box bg-white",attrs:{xs:24,sm:{span:14,offset:5},md:15,lg:9}},[a("div",{staticClass:"title m-b-md"},[t._v(" 登录 ")]),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.ruleLogin}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{size:"large",type:"text",prefix:"ios-person-outline",placeholder:"请输入用户名、邮箱或手机号"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit.apply(null,arguments)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("div",{staticClass:"agreement"},[a("el-checkbox",{model:{value:t.form.rememberLogin,callback:function(e){t.$set(t.form,"rememberLogin",e)},expression:"form.rememberLogin"}},[t._v("记住登录")])],1),a("xy-captcha",{on:{success:t.handleSubmit}},[a("el-button",{staticClass:"full submit-btn",attrs:{id:"Captcha",size:"large",loading:t.form.loading,type:"primary"},on:{click:t.handleSubmit}},[t._v(" 登录 ")])],1),a("div",{staticClass:"actions flex hidden"},[a("div",[a("router-link",{attrs:{to:"/user/resetPassword"}},[t._v("忘记密码")])],1),a("div",[t._v(" 还没有账号？ "),a("router-link",{attrs:{to:"/user/register"}},[t._v("注册")])],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.qrloginShow,expression:"!qrloginShow"}],staticClass:"qrlogin hidden",on:{click:function(e){t.qrloginShow=!0}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.qrloginShow,expression:"qrloginShow"}],staticClass:"qrlogin-modal"},[a("div",{staticClass:"flex space-between m-b"},[a("div",{staticClass:"ts-18"},[t._v(" 登录 ")]),a("div",[a("span",{staticClass:"cursor-pointer text-gray",on:{click:function(e){t.qrloginShow=!1}}},[t._v("账号密码登录")])])]),a("qrlogin",{staticClass:"text-center m-t-lg",attrs:{qrloginShow:t.qrloginShow,type:"wxapp"},on:{success:t.qrsuccess}})],1)],1)],1)],1)]),a("xy-footer"),a("xy-safety-verify",{ref:"sv",on:{"verify-request":t.handleSubmit},model:{value:t.verifyData,callback:function(e){t.verifyData=e},expression:"verifyData"}})],1)},i=[],n=a("1da1"),r=(a("96cf"),{components:{},data:function(){return{isDemo:!1,qrloginShow:!1,verifyData:"",form:{rememberLogin:!1,loading:!1,account:"",password:""},ruleLogin:{account:[{required:!0,message:"请填写账号",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}},created:function(){1==this.isDemo&&(this.form.account="jry",this.form.password="Windows9")},methods:{qrsuccess:function(){this.$xyutil.switchTab({url:"/"})},handleSubmit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.form,this.verifyData&&(e._verify=this.verifyData),this.form.loading=!0,a=this,setTimeout((function(){a.form.loading=!1}),5e3),t.next=7,this.$xyutil.request({url:"/v1/core/user/login",data:e,method:"post"});case 7:if(s=t.sent,200!=s.code){t.next=17;break}this.$store.commit("user/setToken",s.data.token),this.$store.commit("user/setUserInfo",s.data.userInfo),this.$refs.sv.close(),this.$xyutil.showToast({title:s.msg,icon:"success",duration:2e3}),this.verifyData="",this.$xyutil.switchTab({url:"/"}),t.next=23;break;case 17:if(401003!=s.code){t.next=22;break}return this.$refs.sv.open(s.data.verifyList),t.abrupt("return");case 22:this.$xyutil.showToast({title:s.msg,icon:"loading",duration:3e3});case 23:this.form.loading=!1;case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),o=r,c=(a("571d"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"6c609b1e",null);e["default"]=l.exports},ce71:function(t,e,a){},cf80:function(t,e,a){},d443:function(t,e,a){},d616:function(t,e,a){"use strict";a("cf80")},d8fd:function(t,e,a){"use strict";a("922b")},d95c:function(t,e,a){"use strict";a("f651")},d966:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main p-t"},[a("div",{staticClass:"container"},[a("el-row",{staticClass:"flex flex-wrap",attrs:{type:"flex",gutter:20}},[a("el-col",{attrs:{xs:24,lg:17}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix tw6 ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.info.title))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ts-16",staticStyle:{"min-height":"200px"},attrs:{"element-loading-text":"拼命加载中"}},[a("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],domProps:{innerHTML:t._s(t.info.content)}})]),a("div",{staticClass:"actions m-t flex flex-alignCenter"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.actionClick(t.id,"icms_post",5)}}},[t._v(" "+t._s(t.info.actionStates[5]?"已关注":"关注问题")+" ")]),a("el-button",{staticClass:"m-r-md",attrs:{type:"primary",size:"medium",plain:""},on:{click:function(e){t.showReplyForm=!0}}},[t._v("我来回答")]),a("div",{on:{click:function(e){return t.actionClick(t.id,"icms_post",2)}}},[a("i",{staticClass:"xyicon xyicon-heart ts-14",staticStyle:{"margin-right":"3px"}}),a("el-link",[t._v(" "+t._s(t.info.actionStates[2]?"已":"")+"收藏 ")])],1)],1)]),a("div",{staticClass:"m-t-sm"},[a("comment-lists",{attrs:{title:"回复",urlPrefix:"/ask",showReplyForm:t.showReplyForm,dataId:t.id,dataModel:"icms_post"},on:{"update:showReplyForm":function(e){t.showReplyForm=e},"update:show-reply-form":function(e){t.showReplyForm=e}}})],1)],1),a("el-col",{attrs:{xs:24,lg:7}},[a("hot-ask",{attrs:{cateId:t.info.cateId}})],1)],1)],1)]),a("xy-footer")],1)},i=[],n=a("1da1"),r=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{"min-height":"300px"},attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix ts-18",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("热门")])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"case-list",staticStyle:{"min-height":"300px"},attrs:{"element-loading-text":"拼命加载中"}},t._l(t.dataListHot,(function(e,s){return a("div",{key:s,staticClass:"item p-b-xs border-bottom_1px"},[a("div",{staticClass:"bg-white"},[a("div",{staticClass:"title ts-14",on:{click:function(a){return t.util.navigateTo({url:"/ask/"+e.id})}}},[t._v(t._s(e.title))]),a("div",{staticClass:"info flex space-between text-gray ts-12"},[a("div",[t._v(t._s(e.userInfo.nickname))]),a("div",[t._v(t._s(e.viewCount)+"次浏览")])]),a("div",{staticClass:"subtitle text-gray ts-12"},[t._v(t._s(e.subtitle))])])])})),0)])],1)}),o=[],c={name:"hotAsk",data:function(){return{loading:!1,dataListNew:[],dataListHot:[]}},props:{cateId:0},created:function(){this.loadHot()},watch:{cateId:function(t){this.loadHot()}},methods:{loadHot:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cateId){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.$xyutil.request({url:"/v1/icms/post/lists/"+t.cateId,data:{siteRec:"hot"},method:"get"});case 5:a=e.sent,200==a.code?t.dataListHot=a.data.dataList:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()}}},l=c,u=(a("3083"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"8effea34",null),m=d.exports,p=a("7e25"),f={components:{"comment-lists":p["a"],"hot-ask":m},data:function(){return{id:0,info:{title:"",content:"",actionStates:{}},showReplyForm:!1,loading:!1,dataListHot:[]}},mounted:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(t,e){this.id=this.$route.params.id,this.loadData()}},methods:{actionClick:function(t,e,a){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.$xyutil.request({url:"/v1/action/action/set",data:{dataId:t,dataModel:e,actionType:a},method:"post"});case 2:n=i.sent,200==n.code?(s.$set(s.info.actionStates,a,n.data.currentValue),s.$xyutil.showToast({title:n.msg,icon:"success",duration:2e3})):s.$xyutil.showToast({title:n.msg,icon:"loading",duration:3e3});case 4:case"end":return i.stop()}}),i)})))()},loadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$xyutil.request({url:"/v1/icms/post/info/"+t.id,data:{},method:"get"});case 3:a=e.sent,200==a.code?t.info=a.data.info:t.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}},h=f,v=Object(u["a"])(h,s,i,!1,null,"f15facc8",null);e["default"]=v.exports},dccc:function(t,e,a){},dd4a:function(t,e,a){"use strict";a("19f9")},e9bc:function(t,e,a){"use strict";a("eb03")},eb03:function(t,e,a){},eea6:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap",attrs:{id:"wrap"}},[a("xy-header",{attrs:{transparent:!0}}),a("div",{staticClass:"main"},[a("xy-builder-page",{attrs:{data:t.homeJson}})],1),a("xy-footer")],1)},i=[],n={components:{},data:function(){return{homeJson:[{type:"banner",height:"45vw",lists:[{background:{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/8b787550-440c-49f3-9ef8-645e490455da.jpg",color:"#2b85e4"},title:this.$store.state.app.siteInfo.title+this.$store.state.app.siteInfo.slogan,subTitle:"",description:"为了避免与uni-admin产品名称混淆，特将本框架名称改为uiadmin，避免混淆的同时尽量保留原有记忆。UiAdmin是一套零前端代码通用后台，采用前后端分离技术，数据交互采用json格式；通过后端Builder不需要一行前端代码就能构建一个vue+element的现代化后台；同时我们打造一了套兼容性的API标准，从SpringBoot、ThinkPHP开始，逐步覆盖Furion、eggjs等多语言框架。",actions:[{url:"https://gitee.com/uiadmin",type:"warning",label:"PHP版",size:"medium",plain:!1,round:!0},{url:"https://uiadmin.jiangruyi.com/docs/summer",type:"info",label:"Java版",size:"medium",plain:!1,round:!0},{url:"https://uiadmin.jiangruyi.com/docs/DNAdmin",type:"success",label:".NET版",size:"medium",plain:!1,round:!0}]},{background:{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/c9a99fd7-24a7-4387-8ccf-878787647d94.jpg",color:""},actions:[]}]},{type:"session3",title:"UiAdmin后台预览",description:"整个后台通过我们先进的Builder页面自动生成技术解析json渲染而成",image:{src:"https://cdn.jsdelivr.net/gh/ijry/sbase/image/uniadmin/ui4-1.png"}},{type:"session2",style:{color:"#fff"},background:"url(https://web.starideas.net//theme/icms-web/core/public/img/bg27.jpg)",title:"优秀特性",description:"利用下面的优秀特性加速您的开发",list:[{image:"",imageRadius:"50%",title:"模块化",description:"模块作为一个最小功能包，可以被创建、导出、分发、安装。"},{image:"",imageRadius:"50%",title:"Builder构建",description:"基于自主研发的第二代(vue+cloud)Builder页面构建技术可以非常快速高效的构建后台页面，支持list、form、info、tab、stack、excel等。"},{image:"",imageRadius:"50%",title:"跨语言兼容",description:"将来迁移语言非常方便，php、java、python、node、.net等都可以支持，前端更是不限制语言，多个语言支持通过统一的API标准兼容"},{image:"",imageRadius:"50%",title:"权限管理",description:"基于完善的自建权限控制管理、无限父子级权限分组、可自由分配子级权限、一个管理员可同时属于多个组别"},{image:"",imageRadius:"50%",title:"全API开发",description:"前后台全部基于API分离式开发，后台也可以基于API开发客户端，同时拥有双路由机制，也支持前后端不分离传统式开发。"},{image:"",imageRadius:"50%",title:"多平台支持",description:"pc端采用vue等方式实现，手机端采用uni-app技术， 达到一次开发全面覆盖iOS、安卓、微信小程序、支 付宝小程序、百度小程序、头条小程序、H5等平台。"}]},{type:"session2",style:{},title:"为什么选择我们",description:"越来越多的个人和企业都选择了UiAdmin",list:[{image:"https://cdn.jsdelivr.net/gh/ijry/sbase/s27148761.jpg",imageRadius:"50%",title:"开源免费",description:"无需授权即可商业使用，代码开源免费。"},{image:"https://cdn.jsdelivr.net/gh/ijry/sbase/image/120.jpg",imageRadius:"50%",title:"开发快捷",description:"基于自主研发的模块化技术、第二代前后端分离Builder可以非常快速的开发出您的应用。"},{image:"https://cdn.jsdelivr.net/gh/ijry/sbase/image/earth.jpg",imageRadius:"50%",title:"生态良好",description:"立足PHP、全面兼容java/.net/nodejs等其他语言，社区小伙伴都非常热心的互相帮助。"}]},{type:"session2",style:{},background:"#ddd",list:[{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/7504dbc0-62fe-11eb-8a36-ebb87efcf8c0.jpg",imageRadius:"50%",description:"UiAdmin帮助我们节省了大量开发成本，项目顺利上线！"},{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/c4b42e50-62fe-11eb-8d54-21c4ca4ce5d7.jpg",imageRadius:"50%",description:"UiAdmin的API接口文档后台填写，自动生成前端开发用的文档功能真的解放了生产力很好用。"},{image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-dyuvtmfbcqs424986f/c39d8e30-62fe-11eb-8d54-21c4ca4ce5d7.jpg",imageRadius:"50%",description:"UiAdmin的动态页面Builder技术很好用，只要一个人就能完成后台所有工作！"}]},{type:"session4",style:{},background:"#2b85e4 url(https://cdn.jsdelivr.net/gh/ijry/sbase/image/bg-dot.png) no-repeat 50% 50%",button:{title:"立即体验",url:"https://gitee.com/jry/uiadmin"}}]}},created:function(){},methods:{}},r=n,o=(a("3bf5"),a("2877")),c=Object(o["a"])(r,s,i,!1,null,"e8aadfb2",null);e["default"]=c.exports},f05c:function(t,e,a){"use strict";a.r(e);var s,i,n=a("2877"),r={},o=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=o.exports},f651:function(t,e,a){}}]);