(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11102a54"],{"1c70":function(t,i,e){},"2e2a":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"upload-box",class:t.fileList.length>=t.optionsData.limit&&"image"==t.optionsData.type?"hidden-up-btn":""},[e("el-upload",{ref:"upload",class:"upload-"+t.optionsData.type,attrs:{drag:t.optionsData.drag,"show-file-list":!0,"list-type":t.listType,headers:t.headerData,limit:t.optionsData.limit,multiple:1!=t.optionsData.limit,"file-list":t.fileList,"on-preview":t.handlePictureCardPreview,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"on-remove":t.handleRemove,"before-upload":t.handleBeforeUpload,data:t.optionsData.postdata,name:t.name,action:t.optionsData.action,"http-request":t.uploadSectionFile}},[t.fileList.length>=t.optionsData.limit&&1==t.optionsData.limit&&"image"==t.optionsData.type?[e("img",{attrs:{src:t.fileList[0]["url"]}})]:[t.optionsData.drag?["images"==t.optionsData.type?[t._t("icon",(function(){return[e("i",{staticClass:"el-icon-upload",class:t.optionsData.icon?t.optionsData.icon:""})]}))]:[t._t("icon",(function(){return[e("i",{staticClass:"el-icon-upload",class:t.optionsData.icon?t.optionsData.icon:""})]})),e("div",{staticClass:"el-upload__text"},[t._v(" "+t._s(t.optionsData.placeholder?t.optionsData.placeholder:"将文件拖到此处，或点击上传")+" ")]),e("div",{staticClass:"font-sm text-gray lh-1-2"},[t._v(" "+t._s(t.optionsData.tip?t.optionsData.tip:"只能上传"+t.optionsData.format+"文件，且不超过"+t.optionsData.maxSize+"KB")+" ")])]]:[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])]],e("el-dialog",{attrs:{"append-to-body":!0,visible:t.dialogVisible},on:{"update:visible":function(i){t.dialogVisible=i}}},["image"==t.mediaType?[e("img",{attrs:{width:"100%",src:t.dialogImageUrl}})]:"audio"==t.mediaType?[e("audio",{attrs:{src:t.dialogImageUrl,controls:"controls"}},[t._v(" 您的浏览器不支持 audio 标签。 ")])]:"video"==t.mediaType?[e("video",{attrs:{src:t.dialogImageUrl,controls:"controls",width:"700"}},[t._v(" 您的浏览器不支持 video 标签。 ")])]:t._e()],2)],2),t.img.title&&""!==t.img.title?e("div",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.img.title)+" ")]):t._e()],1)},a=[],l=e("1da1"),o=(e("96cf"),e("caad"),e("b0c0"),e("a434"),e("d3b7"),{name:"XyUpload",props:{item:{type:Object,default:function(){return{extra:{}}}},options:{type:Object,default:function(){return{}}},value:{type:[Array,String],default:function(){return[]}},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}},img:{type:Object,default:function(){return{value:"",title:""}}}},data:function(){return{name:"file",optionsData:{type:"image",drag:!1,driver:"",signUrl:"",action:"",limit:1,icon:"",placeholder:"",tip:"",format:"jpg,png",maxSize:512,splitePiece:!1,mergeUrl:"",disabled:!1,postdata:{}},headerData:{},fileList:[],listType:"text",dialogImageUrl:"",dialogVisible:!1,mediaType:"image"}},created:function(){switch(this.optionsData=Object.assign(this.optionsData,this.options,this.item.extra),this.optionsData.type){case"image":this.listType="picture",""==this.value?this.fileList=[]:this.fileList=[{name:"image",url:this.value}];break;case"images":this.listType="picture-card","string"==typeof this.value?this.fileList=[]:this.fileList=this.value;break;default:this.listType="text","string"==typeof this.value?this.fileList=[]:this.fileList=this.value;break}this.headerData={Authorization:this.header.token?this.header.token:this.util.getToken()},"image"!=this.optionsData.type&&"file"!=this.optionsData.type&&(this.optionsData.limit=30)},beforeMount:function(){},methods:{getFileType:function(t){var i=t.lastIndexOf(".");return-1!=i?t.substring(i+1,t.length).toLowerCase():""},handlePictureCardPreview:function(t){var i=this.getFileType(t.url).toLowerCase();["jpg","png","bmp","ico","jpeg"].includes(i)?this.mediaType="image":["mp3","wav","ogg","ico","jpeg"].includes(i)?this.mediaType="audio":["mp4","ogg"].includes(i)&&(this.mediaType="video"),this.dialogImageUrl=t.url,this.dialogVisible=!0},handleExceed:function(t,i){this.$message.warning("最多上传"+this.optionsData.limit+"个文件")},handleSuccess:function(t,i,e){var s;200==t.code?(null!==(s=t.data)&&void 0!==s&&s.path&&(i.path=t.data.path),i.url=t.data.url):this.$message({message:t.msg,type:"warning"});if(this.fileList=e,"image"==this.optionsData.type)this.$emit("input",e[0].url);else{for(var a=[],l=0;l<e.length;l++){var o=e[l];a.push({name:o.name,path:null===o||void 0===o?void 0:o.path,url:o.url,size:o.size})}this.$emit("input",a)}},handleRemove:function(t,i){this.optionsData.disabled?this.$message({message:"只读模式",type:"warning"}):(this.fileList.splice(this.fileList.indexOf(t),1),"image"==this.optionsData.type?this.$emit("input",""):this.$emit("input",this.fileList),this.fileList)},uploadSectionFile:function(t){var i=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.file,a=i,e.next=4,a.util.uploadFile({driver:a.optionsData.driver||"default",signUrl:a.optionsData.signUrl||"",url:a.optionsData.action||"",header:a.header,file:s,splitePiece:a.optionsData.splitePiece,mergeUrl:a.optionsData.mergeUrl});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))()},handleBeforeUpload:function(t){var i=this,e=this.optionsData.maxSize;return new Promise(function(){var s=Object(l["a"])(regeneratorRuntime.mark((function s(a,l){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.size/1024>e&&(i.$message({message:"上传文件大小不能超过 "+e+"KB!",type:"warning"}),l()),a();case 2:case"end":return s.stop()}}),s)})));return function(t,i){return s.apply(this,arguments)}}())}},watch:{}}),n=o,r=(e("e519"),e("2877")),c=Object(r["a"])(n,s,a,!1,null,"49e2dac2",null);i["a"]=c.exports},"66b3":function(t,i,e){},"6bd4":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"xy-title flex"},[e("div",{staticClass:"prefix"}),t._t("default")],2)},a=[],l={name:"xyTitle",props:{},data:function(){return{}},created:function(){},methods:{}},o=l,n=(e("dad3"),e("2877")),r=Object(n["a"])(o,s,a,!1,null,"f74be024",null);i["a"]=r.exports},7523:function(t,i,e){},9102:function(t,i,e){t.exports=e.p+"img/upapp.31194e26.png"},a434:function(t,i,e){"use strict";var s=e("23e7"),a=e("23cb"),l=e("a691"),o=e("50c4"),n=e("7b0b"),r=e("65f0"),c=e("8418"),d=e("1dde"),p=d("splice"),u=Math.max,v=Math.min,m=9007199254740991,f="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p},{splice:function(t,i){var e,s,d,p,h,g,x=n(this),C=o(x.length),y=a(t,C),b=arguments.length;if(0===b?e=s=0:1===b?(e=0,s=C-y):(e=b-2,s=v(u(l(i),0),C-y)),C+e-s>m)throw TypeError(f);for(d=r(x,s),p=0;p<s;p++)h=y+p,h in x&&c(d,p,x[h]);if(d.length=s,e<s){for(p=y;p<C-s;p++)h=p+s,g=p+e,h in x?x[g]=x[h]:delete x[g];for(p=C;p>C-s+e;p--)delete x[p-1]}else if(e>s)for(p=C-s;p>y;p--)h=p+s-1,g=p+e-1,h in x?x[g]=x[h]:delete x[g];for(p=0;p<e;p++)x[p+y]=arguments[p+2];return x.length=C-s+e,d}})},c7a2:function(t,i,e){"use strict";e("7523")},dad3:function(t,i,e){"use strict";e("66b3")},e2bb:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"top-box title"}),t.$store.state.user.userInfo.moduleExtend.user_cert?t._e():s("el-alert",{staticClass:"m-b",attrs:{type:"primary"}},[s("i",{staticClass:"xyicon xyicon-warning text-error ts-14"}),t._v(" 您当前账号尚未完成实名认证，无法进行APP内测分发；实名认证通过后，根据认证类型自动赠送相应的下载点数哦。 ")]),s("div",{staticClass:"box bg-white"},[s("div",{staticClass:"content"},[s("el-row",{staticClass:"flex",attrs:{gutter:20}},[s("el-col",{attrs:{xs:24,md:24,lg:18,xl:17}},[s("xy-upload",{attrs:{item:t.item},model:{value:t.apps,callback:function(i){t.apps=i},expression:"apps"}},[s("template",{slot:"icon"},[s("img",{staticClass:"m-b",attrs:{src:e("9102"),width:"160"}})])],2),s("div",{staticClass:"flex m-t-md"},["start"==t.state?s("div",{staticClass:"m-r-md",on:{click:t.stopAll}},[s("i",{staticClass:"xyicon xyicon-stop ts-24 tw6 text-primary m-r-xs",staticStyle:{"vertical-align":"bottom"}}),s("span",{staticClass:"ts-18"},[t._v("全部暂停")])]):t._e(),"stop"==t.state?s("div",{staticClass:"m-r-md",on:{click:t.startAll}},[s("i",{staticClass:"xyicon xyicon-play ts-24 text-primary m-r-xs",staticStyle:{"vertical-align":"bottom"}}),s("span",{staticClass:"ts-18"},[t._v("全部开始")])]):t._e(),s("div",[s("el-tooltip",{staticClass:"item cursor-pointer",attrs:{effect:"dark",content:"开启上传覆盖后，默认为覆盖当前账号下同文件名称文件，如果是APP的话，开启后允许同一个包名（同BundleID）的APP被覆盖更新，关闭上传覆盖后：不开启覆盖文件或覆盖APP。",placement:"top"}},[s("i",{staticClass:"xyicon xyicon-help ts-24 text-666 m-r-xs",staticStyle:{"vertical-align":"bottom"}})]),s("span",{staticClass:"m-r ts-18"},[t._v("上传覆盖")]),s("el-switch",{model:{value:t.override,callback:function(i){t.override=i},expression:"override"}})],1)]),s("div",{staticClass:"up-list"},t._l(t.upList,(function(i,e){return s("div",{key:e,staticClass:"up-item flex space-around flex-alignCenter"},[s("div",[t._v(" "+t._s(i.name)+" ")]),s("div",[s("img",{attrs:{src:i.logo,width:"42"}})]),s("div",[t._v(" "+t._s(i.size)+" ")]),s("div",[t._v(" "+t._s(i.ext)+" ")]),s("div",[s("el-progress",{staticStyle:{width:"244px"},attrs:{"text-inside":!0,percentage:i.percentage,"stroke-width":18}})],1),s("div",["start"==i.state?s("i",{staticClass:"xyicon xyicon-stop ts-24 tw5 text-primary",on:{click:function(i){return t.start(e)}}}):t._e(),"stop"==i.state?s("i",{staticClass:"xyicon xyicon-play ts-24 tw5 text-primary",on:{click:function(i){return t.stop(e)}}}):t._e()]),s("div",[s("span",{staticClass:"cursor-pointer text-error m-r tw4 ts-14",on:{click:function(i){return t.destory(e)}}},[t._v("删除")]),s("span",{staticClass:"cursor-pointer text-666 tw4 ts-14",on:{click:function(i){return t.getInfo(e)}}},[t._v("详情")])])])})),0),s("div",{staticClass:"p-b-lg"})],1),s("el-col",{attrs:{xs:24,md:24,lg:6,xl:7}},[s("div",{staticClass:"right-list p-l",staticStyle:{"line-height":"26px"}},[s("div",{staticClass:"m-b right-box"},[s("div",{staticClass:"text-error ts-34 tw6 m-r-xs lh-1-1"},[t._v("*")]),s("div",{staticClass:"tw6"},[t._v(" 上传须知乐帆云内测分发/云储存严禁上传包括反动、暴力、色情、违法、及侵权内容的文件。 乐帆云有义务配合有关部门将上传违规文件的用户信息保存，并保留因配合调查而冻结账号的权利。 国家秘密受法律保护。一切国家机关、武装力量、政党、社会团体、企事业单位和公民都有保守国家秘密的义务。 任何危害国家秘密安全的行为，都必须受到法律追究。请严格遵守保密法律法规，严禁在互联网上存储、处理、传输、分享、发布涉密信息。 ")])]),s("div",{staticClass:"m-b right-box text-666"},[s("div",[t._v(" *支持批量上传应用，最大支持同时上传10个应用,等待上传应用不限制个数，上传优先级按照上传顺序进行，支持ipa或apk文件，支持中断后续传。单个应用最大支持10G。 ")])]),s("div",{staticClass:"m-b right-box text-999"},[s("div",[t._v(" 允许上传应用类型:"),s("br"),t._v(" apk,ipa ")])]),s("div",{staticClass:"m-b right-box"},[s("div",{staticClass:"text-error ts-34 tw6 m-r-xs lh-1-1"},[t._v("*")]),s("div",[t._v(" 请您注意：在上传 App应用 之前，请确保您的 App 符合乐帆云的 "),s("a",{attrs:{href:""}},[t._v("乐帆云应用审核规则 ")]),t._v(" ，违反该规则的 App 将被删除/屏蔽，屡次上传者将被封禁账号。 ")])])])])],1)],1)]),s("el-dialog",{attrs:{title:"文件详情",visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[s("div",[s("xy-title",{staticClass:"m-b"},[t._v("微信APP")]),s("div",{staticClass:"info-list"},[s("div",{staticClass:"info-item"},[s("div",{staticClass:"title"},[t._v(" 应用信息 ")]),s("div",{staticClass:"m-t m-b"},[s("img",{staticClass:"m-l-md",attrs:{src:t.upList[0].logo,width:"82"}})])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("应用名称")]),s("div",{staticClass:"value"},[t._v(" 微信 "),s("i",{staticClass:"xyicon xyicon-help-o m-l-xs m-r"}),s("el-tag",{attrs:{type:"error",effect:"dark",size:"mini"}},[t._v("内测版")]),s("el-tag",{attrs:{type:"primary",effect:"dark",size:"mini"}},[t._v("企业版")]),s("el-tag",{attrs:{type:"error",effect:"dark",size:"mini"}},[t._v("未签名")])],1)]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("文件名称:")]),s("div",{staticClass:"value"},[t._v(" A微信.ipa "),s("i",{staticClass:"xyicon xyicon-help-o m-l-xs m-r"})])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("应用类型:")]),s("div",{staticClass:"value"},[t._v("ipa")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("适用平台:")]),s("div",{staticClass:"value"},[s("i",{staticClass:"xyicon xyicon-apple"}),t._v("IOS系统")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("最低版本要求：")]),s("div",{staticClass:"value"},[t._v("iOS11.4")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("应用大小：")]),s("div",{staticClass:"value"},[t._v("1.91MB")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("BundleID：")]),s("div",{staticClass:"value"},[t._v("com.tencent.tmgp.pubgmhd")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("Build：")]),s("div",{staticClass:"value"},[t._v("18A8394")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("版本:")]),s("div",{staticClass:"value"},[t._v("1.1.16")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("内测设备：")]),s("div",{staticClass:"value"},[s("a",{attrs:{href:"#"}},[t._v("有16个内测设备")])])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("打包证书名称：")]),s("div",{staticClass:"value"},[t._v("Sichuan Lefan Network Technology Co., Ltd")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("证书创建时间：")]),s("div",{staticClass:"value"},[t._v("2020-11-16 06:14:45（ Tue Apr 13 2021 18:59:44 GMT+0800 (GMT+08:00)）")])]),s("div",{staticClass:"info-item flex"},[s("div",{staticClass:"title"},[t._v("证书到期时间：")]),s("div",{staticClass:"value"},[t._v("2020-11-16 06:14:45（ Tue Apr 13 2021 18:59:44 GMT+0800 (GMT+08:00)）")])])]),s("el-divider"),s("div",{staticClass:"auth-list"},[s("xy-title",{staticClass:"m-b"},[t._v("权限详情")]),s("div",{staticClass:"m-b auth-item"},[s("div",{staticClass:"title"},[t._v("连续广播")]),s("div",{staticClass:"value"},[t._v("允许一个程序收到广播后快速收到下一个广播")])]),s("div",{staticClass:"m-b"},[s("div",{staticClass:"title"},[t._v("开机自动允许")]),s("div",{staticClass:"value"},[t._v("允许程序开机自动运行")])])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})])],1)},a=[],l=e("1da1"),o=(e("96cf"),e("6bd4")),n=e("2e2a"),r={components:{"xy-upload":n["a"],"xy-title":o["a"]},data:function(){return{dialogVisible:!1,dislogCurrent:{},state:"start",item:{name:"files",extra:{type:"files",drag:!0,driver:this.$store.state.app.uploadDriver,signUrl:"",action:"",placeholder:"点击按钮选择应用的安装包，或拖拽文件到此区域",tip:" ",format:"jpg,png",maxSize:1024}},override:1,upList:[{name:"微信",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/1153128b-b57f-48c4-98d9-6ac21b430a86.jpg",size:"34MB",ext:"ipa",state:"start",percentage:50,parseInfo:{}},{name:"微信",logo:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f12e1180-fce8-465f-a4cd-9f2da88ca0e6/1153128b-b57f-48c4-98d9-6ac21b430a86.jpg",size:"34MB",ext:"ipa",state:"start",percentage:50,parseInfo:{}}],apps:[]}},created:function(){},watch:{},methods:{startAll:function(){this.state="start"},stopAll:function(){this.state="stop"},start:function(t){this.upList[t].state="start"},stop:function(t){this.upList[t].state="stop"},destory:function(t){},getInfo:function(t){this.dislogCurrent=this.upList[t],this.dialogVisible=!0},handleSubmit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var e,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.loading=!0,e=t,setTimeout((function(){e.loading=!1}),5e3),i.next=5,t.util.request({url:"/v1/appdist/app/add",data:t.form,method:"post"});case 5:s=i.sent,"200"==s.code?(t.util.showToast({title:s.msg,icon:"success",duration:2e3}),t.$router.back()):t.util.showToast({title:s.msg,icon:"loading",duration:3e3}),t.loading=!1;case 8:case"end":return i.stop()}}),i)})))()}}},c=r,d=(e("c7a2"),e("2877")),p=Object(d["a"])(c,s,a,!1,null,"5d8e85a1",null);i["default"]=p.exports},e519:function(t,i,e){"use strict";e("1c70")}}]);