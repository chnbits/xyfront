(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eb91e81","chunk-2d2176a6"],{3447:function(e,t,n){},"35d6":function(e,t,n){"use strict";n("3447")},5383:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.publicAttrCates,(function(t,a){return n("div",{key:a},[n("div",{staticClass:"title tw4 ts-16 m-b-xs m-t"},[e._v(e._s(t.title))]),n("div",{staticClass:"box bg-white"},[n("el-form",{attrs:{model:e.extendInfo[t.name],"label-width":"140px","label-suffix":":",size:"medium"}},e._l(t.attrList,(function(a,i){return n("div",{key:i},[n("el-form-item",{attrs:{label:a.title}},["text"==a.type?[n("el-input",{attrs:{size:"medium",placeholder:a.placeholder},model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}})]:"select"==a.type?[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}},e._l(a.options,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.value}})})),1)]:"cascader2"==a.type?[n("XyCascader2",{attrs:{options:a.options},model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}})]:"radio"==a.type?[n("el-radio-group",{model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}},e._l(a.options,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"checkbox"==a.type?[n("el-checkbox-group",{model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}},e._l(a.options,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:e._e()],2),a.tip?n("div",{staticClass:"text-gray ts-12 m-l-md"},[n("i",{staticClass:"xyicon xyicon-help-o m-r-xs"}),n("span",[e._v(e._s(a.tip))])]):e._e()],1)})),0),n("div",{staticClass:"p-b",staticStyle:{width:"100%"}},[n("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary"},on:{click:function(n){return e.saveInfo(t.name)}}},[e._v("保存设置")])],1)],1)])})),e.userTypeList.length>0?n("div",[n("div",{staticClass:"title tw4 ts-16 m-b-xs m-t"},[e._v("联系信息")]),n("div",{staticClass:"box bg-white"},[n("div",[n("el-form",{attrs:{"label-width":"140px","label-suffix":":"}},[n("el-form-item",{attrs:{label:"身份"}},[n("el-radio-group",{model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},e._l(e.userTypeList,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.id}},[e._v(" "+e._s(t.title)+" ")])})),1)],1)],1)],1),e._l(e.userTypeList,(function(t,a){return n("div",{key:a},[t.id==e.userType?[e._l(t.attrCates,(function(t,a){return n("div",{key:a},[n("el-form",{attrs:{model:e.extendInfo[t.name],"label-width":"140px","label-suffix":":"}},e._l(t.attrList,(function(a,i){return n("div",{key:i},[n("el-form-item",{attrs:{label:a.title}},["text"==a.type?[n("el-input",{attrs:{size:"medium",placeholder:a.placeholder},model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}})]:"select"==a.type?[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}},e._l(a.options,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==a.type?[n("el-radio-group",{model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}},e._l(a.options,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"checkbox"==a.type?[n("el-checkbox-group",{model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}},e._l(a.options,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)]:"region"==a.type?[n("XyCascader",{attrs:{init:e.regionInit},model:{value:e.extendInfo[t.name][a.name],callback:function(n){e.$set(e.extendInfo[t.name],a.name,n)},expression:"extendInfo[item.name][item1.name]"}})]:e._e(),a.tip?n("div",{staticClass:"text-gray ts-12"},[n("i",{staticClass:"xyicon xyicon-help-o m-r-xs"}),n("span",[e._v(e._s(a.tip))])]):e._e()],2)],1)})),0)],1)})),n("div",{staticClass:"p-b m-r-lg",staticStyle:{width:"100%"}},[n("el-button",{staticClass:"fr",attrs:{size:"medium",type:"primary"},on:{click:function(n){return e.saveTypeInfo(t.attrCateNames)}}},[e._v("保存设置")])],1)]:e._e()],2)}))],2)]):e._e()],2)},i=[],o=n("1da1"),s=(n("96cf"),n("159b"),n("8daf")),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-select",{staticClass:"block",attrs:{placeholder:"请选择"},on:{change:e.onSelectChange},model:{value:e.content[0],callback:function(t){e.$set(e.content,0,t)},expression:"content[0]"}},e._l(e.options,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.value}})})),1)],1),n("el-radio-group",{staticClass:"m-t",on:{change:e.onChange},model:{value:e.content[1],callback:function(t){e.$set(e.content,1,t)},expression:"content[1]"}},e._l(e.optionsLevel2,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.value,border:""}},[e._v(" "+e._s(t.title)+" ")])})),1)],1)},l=[],c=n("ade3"),u=(n("c740"),Object(c["a"])({name:"XyCascader2",props:{value:{type:[],default:""},options:Array,header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{content:[],optionsLevel2:[]}},created:function(){var e,t=this,n="";0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.value=["",""],this.content[0]&&(n=this.options.findIndex((function(e){return e.value===t.content[0]}))),this.options[n]&&null!==(e=this.options[n])&&void 0!==e&&e.children?this.optionsLevel2=this.options[n].children:this.optionsLevel2=[]},watch:{value:function(e){var t=this;0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.value=["",""],this.content[0]&&(index=this.options.findIndex((function(e){return e.value===t.content[0]}))),this.options[index].children?this.optionsLevel2=this.options[index].children:this.optionsLevel2=[]}},methods:{onSelectChange:function(){var e=this,t=this.options.findIndex((function(t){return t.value===e.content[0]}));this.options[t].children?this.optionsLevel2=this.options[t].children:this.optionsLevel2=[],this.content[1]=""},onChange:function(){this.$emit("input",this.content)}}},"watch",{})),d=u,m=n("2877"),p=Object(m["a"])(d,r,l,!1,null,"17238126",null),f=p.exports,h={name:"editExtendInfo",components:{XyCascader:s["a"],XyCascader2:f},data:function(){return{loading:!1,extendInfo:{},publicAttrCates:[],userTypeList:[],userType:1,regionInit:{showInput:!1,labelField:"name",valueField:"name",deep:1,maxLevel:3,nodeKey:"id",lazy:!0,action:"/v1/region/region/lists"}}},created:function(){this.loadData()},watch:{"extendInfo.own.country":{handler:function(e){this.regionInit.showInput="中国"!=e},deep:!0,immediate:!0},"extendInfo.org.country":{handler:function(e){this.regionInit.showInput="中国"!=e},deep:!0,immediate:!0}},methods:{saveTypeInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=e.splite(","),a={},e.forEach((function(e){a[e]=t.extendInfo[e]})),n.next=5,t.util.request({url:"/v1/user/user/extendInfo",data:{userType:t.usertype,extendInfo:a},method:"put"});case 5:i=n.sent,200==i.code?t.util.showToast({title:i.msg,icon:"loading",duration:2e3}):t.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 7:case"end":return n.stop()}}),n)})))()},saveInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={},a[e]=t.extendInfo[e],n.next=4,t.util.request({url:"/v1/user/user/extendInfo",data:{extendInfo:a},method:"put"});case 4:i=n.sent,200==i.code?t.util.showToast({title:i.msg,icon:"loading",duration:2e3}):t.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 6:case"end":return n.stop()}}),n)})))()},loadData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/user/user/extendInfo",data:{},method:"get"});case 2:n=e.sent,200==n.code?(t.userTypeList=n.data.userTypeList,t.publicAttrCates=n.data.publicAttrCates,t.extendInfo=n.data.extendInfo):t.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()}}},v=h,x=(n("35d6"),Object(m["a"])(v,a,i,!1,null,"36472c10",null));t["default"]=x.exports},"8daf":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.initData.showInput?n("el-input",{attrs:{placeholder:"请输入"},on:{change:e.onChange},model:{value:e.content2,callback:function(t){e.content2=t},expression:"content2"}}):n("el-cascader",{attrs:{disabled:e.initData.disabled,options:e.initData.options,props:e.myprops},on:{change:e.onChange},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},i=[],o=n("5530"),s=n("1da1"),r=(n("96cf"),n("159b"),{name:"XyCascader",props:{item:{type:Object,default:function(){return{extra:{}}}},value:{type:[Array,String],default:[]},init:{type:Object,default:function(){return{}}},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{initData:{disabled:!1,options:[],action:"",lazy:!1,multiple:!1,labelField:"label",valueField:"value",nodeKey:"value",deep:1,showInput:!1,leaf:"leaf",maxLevel:3},content:"",content2:"",myprops:{}}},watch:{"init.showInput":{handler:function(e){this.initData=Object.assign(this.initData,this.init)},deep:!0},value:function(e){0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.content=[]}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.initData=Object.assign(this.initData,this.init,this.item.extra),0!=this.value.length&&Array.isArray(this.value)?this.content=this.value:this.content=[],0!=this.initData.options.length||!this.initData.lazy){e.next=7;break}return e.next=5,this.getNode({});case 5:t=e.sent,this.initData.options=t;case 7:n=this,this.myprops={leaf:n.initData.leaf,multiple:n.initData.multiple,label:n.initData.labelField,value:n.initData.valueField,lazy:n.initData.lazy,lazyLoad:function(e,t){e.level;setTimeout(Object(s["a"])(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={},i[n.initData.nodeKey]=e.data[n.initData.nodeKey],a.next=4,n.getNode(i);case 4:o=a.sent,e.level==n.initData.maxLevel-1&&o.forEach((function(e){e[n.initData.leaf]=!0})),t(o);case 7:case"end":return a.stop()}}),a)}))),2e3)}};case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{onChange:function(){this.initData.showInput?this.$emit("input",this.content2):this.$emit("input",this.content)},getNode:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.util.request({url:t.initData.action,data:Object(o["a"])({deep:t.initData.deep},e),method:"get"});case 2:if(a=n.sent,200!=a.code){n.next=7;break}return n.abrupt("return",a.data.dataList);case 7:self.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 8:case"end":return n.stop()}}),n)})))()}}}),l=r,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,"7e8aab80",null);t["a"]=u.exports},c740:function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").findIndex,o=n("44d2"),s="findIndex",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),a({target:"Array",proto:!0,forced:r},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)}}]);