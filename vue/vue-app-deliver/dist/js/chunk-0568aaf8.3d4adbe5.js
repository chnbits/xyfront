(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0568aaf8"],{"1b96":function(t,e,a){"use strict";a("f1db")},"1cf7":function(t,e,a){},"6b47":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outerBox"},[a("div",{staticClass:"backOperation"},[a("a",{attrs:{href:"#"},on:{click:function(e){return t.$router.back(-1)}}},[t._v(" 返回上一级 "),a("span",{staticStyle:{display:"inline-block","margin-left":"5px"}},[t._v(">>")])]),a("span"),a("p",[t._v("发票 > 申请发票")])]),a("div",{staticClass:"box"},[t._m(0),a("div",{staticClass:"searchReceipt"},[a("p",[t._v("请选择相应充值记录开具相应发票")]),a("div",[a("div",{staticClass:"searchLeft"},[a("label",{attrs:{for:""}},[t._v("起始时间:")]),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),a("div",{staticClass:"searchCenter searchLeft"},[a("label",{attrs:{for:""}},[t._v("金额范围:")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.moneyRange,expression:"moneyRange"}],attrs:{type:"text",placeholder:"请选择金额"},domProps:{value:t.moneyRange},on:{input:function(e){e.target.composing||(t.moneyRange=e.target.value)}}}),a("span",{staticClass:"iconfont iconjine"})])]),t._m(1),a("button",{attrs:{type:"button"}},[t._v("搜索")])])]),a("div",{staticClass:"chooseAll"},[a("p",{staticClass:"m-r-md"},[t._v(" 总计：可开票金额 "),a("span",{},[t._v("￥ "+t._s(t.totalMoney))])]),a("p",[t._v(" 可开票订单数 "),a("span",[t._v(t._s(t.totalOrder))]),t._v("单 ")])])]),a("div",{staticClass:"tableBox"},[a("el-table",{ref:"mytable",attrs:{data:t.tableData,"row-key":"id","tooltip-effect":"dark","header-cell-style":{color:"#181818",fontSize:"14px",backgroundColor:"#F5F9FA"}}},[a("el-table-column",{attrs:{type:"selection",width:"100px",align:"center"}}),a("el-table-column",{attrs:{prop:"tradeNo",label:"订单编号"}}),a("el-table-column",{attrs:{prop:"title",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"realMoney",label:"订单实付金额"}}),a("el-table-column",{attrs:{prop:"realMoney",label:"可开票金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.realMoney-e.row.returnMoney)+" ")]}}])}),a("el-table-column",{attrs:{prop:"payTime",label:"订单支付时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.row.payTime)))]}}])})],1)],1),a("div",{staticClass:"bot"},[a("div",{staticClass:"botLeft"},[a("div",{staticClass:"m-b m-t ts-14"},[a("p",{staticClass:"m-r-md"},[t._v(" 已选：可开票金额 "),a("span",[t._v("￥"+t._s(t.totalMoney))])]),a("p",[t._v(" 可开票订单数 "),a("span",[t._v(t._s(t.totalMoney))]),t._v("单 ")])]),a("el-button",{attrs:{type:"primary"},on:{click:t.goNext}},[t._v("下一步")])],1)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastInfo flex"},[a("span",{staticClass:"xyicon xyicon-help-o text-primary"}),a("ul",[a("li",[a("p",[t._v("订单额度累计超过 25 元可以开具发票,纸质发票金额满 200 元包邮。")])]),a("li",[a("p",[t._v("请仔细核对并确认您的发票信息正确无误，发票开具完成后，如因信息错误不可重开。")])]),a("li",[a("p",[t._v("如需开具增值税专用发票，请确认每条订单的购买方式均为对公转账。")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchRight"},[a("label",{attrs:{for:""}},[t._v("产品名搜索:")]),a("input",{attrs:{type:"text",placeholder:"产品名称模糊搜索"}})])}],s=a("1da1"),i=(a("96cf"),a("159b"),{name:"ApplyReceipt",props:[],components:{},data:function(){return{invoiceBy:0,loading:!1,dateRange:[],moneyRange:[],totalMoney:0,totalOrder:0,tableData:[]}},created:function(){this.invoiceBy=this.$route.query.invoiceBy,this.invoiceBy&&this.loadlists()},methods:{goNext:function(){var t=this.$refs.mytable.selection;if(0!=t.length){var e="",a=0;t.forEach((function(t){e=e+","+t.tradeNo,a=a+t.realMoney-t.returnMoney})),a<25?this.util.showToast({title:"可开票金额不足",icon:"loading",duration:3e3}):this.$router.push({path:"/invoice/invoice/applyConfirm",query:{ids:e.substr(1),totalMoney:a,totalOrder:t.length}})}else this.util.showToast({title:"请选择订单",icon:"loading",duration:3e3})},loadlists:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.util.request({url:"/v1/invoice/log/apply",data:{invoiceBy:t.invoiceBy},method:"get"});case 3:a=e.sent,200==a.code?t.tableData=a.data.dataList:t.util.showToast({title:a.msg,icon:"loading",duration:3e3}),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}}),l=i,r=(a("cddd"),a("1b96"),a("2877")),c=Object(r["a"])(l,n,o,!1,null,"70d3fe5a",null);e["default"]=c.exports},cddd:function(t,e,a){"use strict";a("1cf7")},f1db:function(t,e,a){}}]);