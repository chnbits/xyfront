(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a76719a"],{"0c0f":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"manageinvoicebox"},[l("div",{staticClass:"backOperation"},[l("a",{attrs:{href:"#"},on:{click:function(e){return t.$router.back(-1)}}},[t._v(" 返回上一级 "),l("span",{staticStyle:{display:"inline-block","margin-left":"5px"}},[t._v(">>")])]),l("span"),l("p",[t._v("发票 > 管理发票信息")])]),l("div",{staticClass:"messagebox box"},[l("div",{staticClass:"toastTitle"},[l("h4",[t._v("发票信息(默认)")]),l("router-link",{attrs:{to:"/invoice/info/add"}},[l("button",{attrs:{type:"button"}},[t._v("新增开票信息")])])],1),t._m(0),1==t.type?l("form",{staticClass:"receiptInfo",attrs:{action:""}},[l("div",[l("label",{attrs:{for:""}},[t._v("发票抬头：")]),l("input",{directives:[{name:"model",rawName:"v-model",value:t.default1.name,expression:"default1.name"}],attrs:{type:"text",readonly:""},domProps:{value:t.default1.name},on:{input:function(e){e.target.composing||t.$set(t.default1,"name",e.target.value)}}})]),l("div",[l("label",{attrs:{for:""}},[t._v("发票类型：")]),1==t.default1.cate?l("input",{attrs:{type:"text",value:"增值税普通发票",readonly:""}}):t._e(),2==t.default1.cate?l("input",{attrs:{type:"text",value:"增值税专用发票",readonly:""}}):t._e()]),l("div",[l("label",{attrs:{for:""}},[t._v("身份证号码：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default1.certNo}})]),l("div",[l("label",{attrs:{for:""}},[t._v("联系电话：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default1.tel}})])]):t._e(),2==t.type?l("form",{staticClass:"receiptInfo",attrs:{action:""}},[l("div",[l("label",{attrs:{for:""}},[t._v("发票抬头：")]),l("input",{directives:[{name:"model",rawName:"v-model",value:t.default2.name,expression:"default2.name"}],attrs:{type:"text",readonly:""},domProps:{value:t.default2.name},on:{input:function(e){e.target.composing||t.$set(t.default2,"name",e.target.value)}}})]),l("div",[l("label",{attrs:{for:""}},[t._v("发票类型：")]),1==t.default2.cate?l("input",{attrs:{type:"text",value:"增值税普通发票",readonly:""}}):t._e(),2==t.default2.cate?l("input",{attrs:{type:"text",value:"增值税专用发票",readonly:""}}):t._e()]),l("div",[l("label",{attrs:{for:""}},[t._v("税务登记证号：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default2.certNo}})]),l("div",[l("label",{attrs:{for:""}},[t._v("开户银行名称：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default2.bankName}})]),l("div",[l("label",{attrs:{for:""}},[t._v("基本开户账号：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default2.bankAccount}})]),l("div",[l("label",{attrs:{for:""}},[t._v("注册场所地址：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default2.address}})]),l("div",[l("label",{attrs:{for:""}},[t._v("联系电话：")]),l("input",{attrs:{type:"text",readonly:""},domProps:{value:t.default2.tel}})])]):t._e(),l("div",{staticClass:"infoButton flex flex-end m-b-md"},[l("el-button",{staticClass:"m-r-md",attrs:{size:"medium",type:"primary",plain:""},on:{click:t.defaultEdit}},[l("span",{staticClass:"iconfont xyicon xyicon-edit"}),t._v(" 编辑 ")]),l("el-popconfirm",{staticClass:"m-r-lg",attrs:{"confirm-button-text":"确定删除","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除这个开票信息吗？"},on:{confirm:t.defaultDelete}},[l("el-button",{attrs:{slot:"reference",size:"medium",type:"primary",plain:""},slot:"reference"},[l("span",{staticClass:"iconfont xyicon xyicon-trash"}),t._v(" 删除 ")])],1)],1)]),l("div",{staticClass:"receiptType"},[l("p",{staticClass:"personReceipt cursor-pointer",class:{borderActive:1==t.type},on:{click:function(e){t.type=1}}},[t._v("个人")]),l("p",{staticClass:"companyReceipt cursor-pointer",class:{borderActive:2==t.type},on:{click:function(e){t.type=2}}},[t._v("企业")])]),l("div",{staticClass:"receiptBot"},[2==t.type?l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2,"header-cell-style":{color:"#2a2b2e",fontSize:"14px",backgroundColor:"#f5f9fa"}}},[l("div",{attrs:{slot:"empty"},slot:"empty"},[l("img",{staticStyle:{"margin-top":"30px"},attrs:{src:a("24ec"),alt:""}}),l("p",{staticStyle:{position:"absolute",top:"180px",left:"690px"}},[t._v("暂无数据")])]),l("el-table-column",{attrs:{prop:"name",label:"发票抬头"}}),l("el-table-column",{attrs:{prop:"cate",label:"发票类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.cate?l("span",[t._v("增值税普通发票")]):t._e(),2==e.row.cate?l("span",[t._v("增值税专用发票")]):t._e()]}}],null,!1,33104248)}),l("el-table-column",{attrs:{prop:"certNo",label:"税务登记证号"}}),l("el-table-column",{attrs:{prop:"bankName",label:"开户银行名称"}}),l("el-table-column",{attrs:{prop:"bankAccount",label:"基本开户账号"}}),l("el-table-column",{attrs:{prop:"address",label:"注册场所地址"}}),l("el-table-column",{attrs:{prop:"tel",label:"电话"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.edit(e.row)}}},[t._v("修改")]),l("el-popconfirm",{staticClass:"m-l-sm",attrs:{"confirm-button-text":"设为默认","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定设为默认吗？"},on:{confirm:function(a){return t.setDefault(e.row.id)}}},[l("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[t._v("设为默认")])],1),l("el-popconfirm",{staticClass:"m-l-sm",attrs:{"confirm-button-text":"确定删除","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除这个开票信息吗？"},on:{confirm:t.defaultDelete}},[l("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[t._v("删除")])],1)]}}],null,!1,2515556091)})],1):t._e(),1==t.type?l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1,"header-cell-style":{color:"#2a2b2e",fontSize:"14px",backgroundColor:"#f5f9fa"}}},[l("div",{attrs:{slot:"empty"},slot:"empty"},[l("img",{staticStyle:{"margin-top":"30px"},attrs:{src:a("24ec"),alt:""}}),l("p",{staticStyle:{position:"absolute",top:"180px",left:"690px"}},[t._v("暂无数据")])]),l("el-table-column",{attrs:{prop:"name",label:"发票抬头"}}),l("el-table-column",{attrs:{prop:"cate",label:"发票类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.cate?l("span",[t._v("增值税普通发票")]):t._e(),2==e.row.cate?l("span",[t._v("增值税专用发票")]):t._e()]}}],null,!1,33104248)}),l("el-table-column",{attrs:{prop:"certNo",label:"联系电话"}}),l("el-table-column",{attrs:{prop:"tel",label:"电话"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.edit(e.row)}}},[t._v("修改")]),l("el-button",{attrs:{type:"text",size:"small"}}),l("el-popconfirm",{staticClass:"m-l-sm",attrs:{"confirm-button-text":"设为默认","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定设为默认吗？"},on:{confirm:function(a){return t.setDefault(e.row.id)}}},[l("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[t._v("设为默认")])],1),l("el-popconfirm",{staticClass:"m-l-sm",attrs:{"confirm-button-text":"确定删除","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除这个开票信息吗？"},on:{confirm:t.defaultDelete}},[l("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[t._v("删除")])],1)]}}],null,!1,1878213181)})],1):t._e()],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toastInfo"},[a("span",{staticClass:"iconfont iconyiwen"}),a("ul",[a("li",[a("p",[t._v("订请检查您的发票信息是否正确，普通增值税发票开错了,可以重新开具。")])]),a("li",[a("p",[t._v("1、如果是当月开错,则需将发票收回,并进行作废;")])]),a("li",[a("p",[t._v("2、如果是隔月发现开错,则需开具红字发票,再进行蓝字发票的开具,寄给购买方即可。")])])])])}],o=a("1da1"),r=(a("96cf"),{data:function(){return{loading:!1,type:1,tableData1:[],default1:{name:"",certNo:"",cate:1,tel:""},tableData2:[],default2:{name:"",certNo:"",cate:1,tel:"",bankName:"",bankAccount:"",address:""}}},created:function(){this.loadlists(this.type)},watch:{type:function(t){this.loadlists(t)}},methods:{defaultEdit:function(){this.$router.push({path:"/invoice/info/edit",query:{id:this["default"+this.type].id,type:this["default"+this.type].type}})},defaultDelete:function(){this.deleteOne(this["default"+this.type].id)},deleteOne:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"/v1/invoice/info/delete/"+t,method:"delete"});case 2:l=a.sent,200==l.code?(e.loadlists(val),e.util.showToast({title:l.msg,icon:"loading",duration:2e3})):e.util.showToast({title:l.msg,icon:"loading",duration:3e3});case 4:case"end":return a.stop()}}),a)})))()},edit:function(t){this.$router.push({path:"/invoice/info/edit",query:{id:t.id,type:t.type}})},loadlists:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,e.util.request({url:"/v1/invoice/info/my",data:{type:t},method:"get"});case 3:l=a.sent,200==l.code?(e["tableData"+t]=l.data.dataList,l.data.default&&(e["default"+t]=l.data.default)):e.util.showToast({title:l.msg,icon:"loading",duration:3e3}),e.loading=!1;case 6:case"end":return a.stop()}}),a)})))()},setDefault:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,e.util.request({url:"/v1/invoice/info/setDefault/"+t,data:{},method:"put"});case 3:if(l=a.sent,200!=l.code){a.next=10;break}e.loading=!1,e.loadlists(e.type),e.util.showToast({title:l.msg,icon:"loading",duration:2e3}),a.next=13;break;case 10:return e.loading=!1,e.util.showToast({title:l.msg,icon:"loading",duration:3e3}),a.abrupt("return");case 13:case"end":return a.stop()}}),a)})))()}}}),i=r,s=(a("b0ed"),a("5726"),a("2877")),c=Object(s["a"])(i,l,n,!1,null,"3fae23c7",null);e["default"]=c.exports},"24ec":function(t,e){t.exports="data:image/png;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICJpbWcvbm9EYXRhLjFlNzhkNGVhLnBuZyI7"},5726:function(t,e,a){"use strict";a("e0c0")},b0ed:function(t,e,a){"use strict";a("df90")},df90:function(t,e,a){},e0c0:function(t,e,a){}}]);