(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50a2fd09"],{"24cf":function(e,t,a){},"84b4":function(e,t,a){"use strict";a("24cf")},a745:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box title"},[a("i",{staticClass:"xyicon xyicon-left1 ts-22 m-r",on:{click:function(t){return e.$router.back(-1)}}}),e._v(" 生成WebClip封装 ")]),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"content"},[a("el-form",{staticClass:"m-l-md",attrs:{model:e.form,"label-width":"140px","label-position":"left"}},[a("div",{staticStyle:{color:"#E80000",width:"120px","margin-bottom":"40px"}},[e._v(" *以下均为必填项 ")]),a("el-form-item",{attrs:{label:"应用平台"}},[a("span",{staticClass:"text-primary"},[a("i",{staticClass:"xyicon xyicon-warning ts-14"}),e._v(" ios ")]),e._v(" (只支持ios设备) ")]),a("el-form-item",{attrs:{label:"桌面名称"}},[a("el-input",{attrs:{placeholder:"手机桌面显示的应用名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"访问地址"}},[a("el-input",{attrs:{placeholder:"Web Clip启动时访问的地址链接"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"唯一标识"}},[a("el-input",{attrs:{placeholder:"唯一标识：例如 com.demo.webclip"},model:{value:e.form.bundleId,callback:function(t){e.$set(e.form,"bundleId",t)},expression:"form.bundleId"}})],1),a("el-form-item",{attrs:{label:"配置文件名称"}},[a("el-input",{attrs:{placeholder:"配置文件显示名称"},model:{value:e.form.plistName,callback:function(t){e.$set(e.form,"plistName",t)},expression:"form.plistName"}})],1),a("el-form-item",{attrs:{label:"是否可在桌面删除"}},[a("el-radio",{attrs:{label:1},model:{value:e.form.deskRemove,callback:function(t){e.$set(e.form,"deskRemove",t)},expression:"form.deskRemove"}},[e._v("是")]),a("el-radio",{attrs:{label:0},model:{value:e.form.deskRemove,callback:function(t){e.$set(e.form,"deskRemove",t)},expression:"form.deskRemove"}},[e._v("否")])],1),a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{attrs:{placeholder:"选填，默认版本号1.0.0"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),a("el-form-item",{attrs:{label:"桌面图标"}},[a("XyUpload",{attrs:{item:e.item,header:{}},model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}})],1)],1)],1),a("el-divider"),a("div",{staticClass:"content"},[a("div",{staticClass:"m-l-md p-b-md"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[a("i",{staticClass:"xyicon xyicon-cart"}),e._v(" 前往支付 ")])],1)])],1)])},l=[],i=a("1da1"),r=(a("96cf"),a("2e2a")),s={components:{XyUpload:r["a"]},data:function(){return{packageId:0,loading:!1,item:{name:"logo",extra:{type:"image",drag:!1,driver:this.$store.state.app.uploadDriver,signUrl:"",action:"",tip:"",format:"jpg,png",maxSize:1024}},form:{name:"",url:"",bundleId:"",plistName:"",deskRemove:0,version:"1.0.0",logo:""}}},created:function(){this.packageId=this.$route.query.packageId},watch:{$route:function(){this.packageId=this.$route.query.packageId}},methods:{handleSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,o,l,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.packageId&&(e.form.packageId=e.packageId),e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=6,e.util.request({url:"/v1/appdist/webclip/add",data:e.form,method:"post"});case 6:o=t.sent,"200"==o.code?(e.util.showToast({title:o.msg,icon:"success",duration:2e3}),e.form.packageId||-1==(null===(l=o.data)||void 0===l||null===(i=l.info)||void 0===i?void 0:i.packageId)?e.$router.back():null!==(r=o.data)&&void 0!==r&&null!==(s=r.info)&&void 0!==s&&s.id?e.$router.push({path:"/pay/order/pay?typeName=webclip&appId="+o.data.info.id}):e.util.showToast({title:"创建失败",icon:"loading",duration:2e3})):e.util.showToast({title:o.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},n=s,c=(a("84b4"),a("2877")),m=Object(c["a"])(n,o,l,!1,null,"4943e0d6",null);t["default"]=m.exports}}]);