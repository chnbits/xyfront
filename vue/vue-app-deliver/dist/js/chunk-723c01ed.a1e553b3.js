(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-723c01ed"],{a434:function(t,e,a){"use strict";var i=a("23e7"),n=a("23cb"),r=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),u=d("splice"),p=Math.max,f=Math.min,m=9007199254740991,h="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var a,i,d,u,b,v,g=s(this),x=o(g.length),w=n(t,x),y=arguments.length;if(0===y?a=i=0:1===y?(a=0,i=x-w):(a=y-2,i=f(p(r(e),0),x-w)),x+a-i>m)throw TypeError(h);for(d=l(g,i),u=0;u<i;u++)b=w+u,b in g&&c(d,u,g[b]);if(d.length=i,a<i){for(u=w;u<x-i;u++)b=u+i,v=u+a,b in g?g[v]=g[b]:delete g[v];for(u=x;u>x-i+a;u--)delete g[u-1]}else if(a>i)for(u=x-i;u>w;u--)b=u+i-1,v=u+a-1,b in g?g[v]=g[b]:delete g[v];for(u=0;u<a;u++)g[u+w]=arguments[u+2];return g.length=x-i+a,d}})},e244:function(t,e,a){"use strict";a("ea65")},e8f0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top-box title"},[a("i",{staticClass:"cursor-pointer xyicon xyicon-left1 ts-22 m-r",on:{click:function(e){return t.$router.back(-1)}}}),t._v(" 修改应用分组 ")]),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"content"},[a("el-form",{staticClass:"m-l-md",attrs:{model:t.form,"label-width":"140px","label-position":"left"}},[a("div",{staticStyle:{color:"#E80000",width:"120px","margin-bottom":"40px"}},[t._v(" *以下均为必填项 ")]),a("el-form-item",{attrs:{label:"分组名称"}},[a("el-input",{attrs:{placeholder:"分组名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"分组描述"}},[a("el-input",{attrs:{placeholder:"分组描述"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"m-b text-primary"},[a("span",{staticClass:"reddot"}),t._v("选择APP")]),a("el-table",{ref:"table1",staticClass:"version-list",attrs:{data:t.appListNotSelected,"cell-style":{padding:"20px 0"}}},[a("el-table-column",{attrs:{align:"center",label:"名称",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"类型",prop:"platform"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.platform?a("span",{staticClass:"platform platform-ios"},[a("i",{staticClass:"xyicon xyicon-apple"}),t._v(" iOS ")]):t._e(),2==e.row.platform?a("span",{staticClass:"platform platform-android"},[a("i",{staticClass:"xyicon xyicon-android"}),t._v(" Android ")]):t._e()]}}])}),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.row.updateTime))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"cursor-pointer xyicon xyicon-plus bg-primary text-white ts-13",staticStyle:{"border-radius":"50%",padding:"2px"},on:{click:function(a){return t.add(e.row.id)}}})]}}])})],1)],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"m-b"},[t._v("分组应用列表：")]),a("el-table",{ref:"table2",staticClass:"version-list",attrs:{data:t.appListSelected,"cell-style":{padding:"20px 0"}}},[a("el-table-column",{attrs:{align:"center",label:"名称",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"类型",prop:"platform"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.platform?a("span",{staticClass:"platform platform-ios"},[a("i",{staticClass:"xyicon xyicon-apple"}),t._v(" iOS ")]):t._e(),2==e.row.platform?a("span",{staticClass:"platform platform-android"},[a("i",{staticClass:"xyicon xyicon-android"}),t._v(" Android ")]):t._e()]}}])}),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.row.updateTime))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cursor-pointer text-white",staticStyle:{background:"#2C2C2C",width:"18px",height:"18px","border-radius":"50%"},on:{click:function(a){return t.del(e.row.id)}}},[a("i",{staticClass:"xyicon xyicon-minus ts-13"})])]}}])})],1)],1)],1)],1)],1),a("el-divider"),a("div",{staticClass:"content"},[a("div",{staticClass:"m-l-md p-b-md"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(" 提交 ")])],1)])],1)])},n=[],r=a("1da1"),o=(a("96cf"),a("159b"),a("caad"),a("2532"),a("a434"),{data:function(){return{id:0,loading:!1,form:{name:"",description:"",appIds:[]},appList:[],appListNotSelected:[]}},created:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(){this.id=this.$route.params.id,this.loadData()}},computed:{appListSelected:function(){var t=this,e=[],a=[];return this.appList.forEach((function(i){t.form.appIds.includes(i.id)?e.push(i):a.push(i)})),this.appListNotSelected=a,e}},methods:{add:function(t){this.form.appIds.push(t)},del:function(t){this.form.appIds.splice(this.form.appIds.indexOf(t),1)},loadData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/appdist/cate/info/"+t.id,data:{},method:"get"});case 2:a=e.sent,200==a.code?(t.form=a.data.info,t.loadApps()):t.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},loadApps:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/appdist/app/my",data:{},method:"get"});case 2:a=e.sent,200==a.code?t.appList=a.data.dataList:t.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a=t,setTimeout((function(){a.loading=!1}),5e3),e.next=5,t.util.request({url:"/v1/appdist/cate/edit/"+t.id,data:t.form,method:"put"});case 5:i=e.sent,"200"==i.code?(t.util.showToast({title:i.msg,icon:"success",duration:2e3}),t.$router.back()):t.util.showToast({title:i.msg,icon:"loading",duration:3e3}),t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()}}}),s=o,l=(a("e244"),a("2877")),c=Object(l["a"])(s,i,n,!1,null,"dbca63fc",null);e["default"]=c.exports},ea65:function(t,e,a){}}]);