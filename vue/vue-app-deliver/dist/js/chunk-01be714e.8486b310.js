(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01be714e"],{"1b65":function(e,t,a){},"49c4":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-tab-pane",{attrs:{label:"应用概述",name:"info"}}),a("el-tab-pane",{attrs:{label:"版本管理",name:"version"}}),a("el-tab-pane",{attrs:{label:"渠道",name:"channel"}}),a("el-tab-pane",{attrs:{label:"统计",name:"statistics"}}),a("el-tab-pane",{attrs:{label:"应用合并",name:"merge"}}),a("el-tab-pane",{attrs:{label:"反馈",name:"feedback"}}),a("el-tab-pane",{attrs:{label:"成员管理",name:"member"}}),a("el-tab-pane",{attrs:{label:"证书信息",name:"certinfo"}}),a("el-tab-pane",{attrs:{label:"编辑应用",name:"edit"}}),a("el-tab-pane",{attrs:{label:"设置",name:"settings"}})],1)},s=[],r=(a("a9e3"),a("b0c0"),{props:{id:{type:[Number,String],default:0},value:{type:String,default:"info"}},data:function(){return{}},created:function(){},watch:{},methods:{tabClick:function(e,t){switch(e.name){case"info":this.$router.push({path:"/appdist/app/info/"+this.id});break;case"version":this.$router.push({path:"/appdist/version/lists/"+this.id});break;case"channel":this.$router.push({path:"/appdist/channel/my/"+this.id});break;case"statistics":this.$router.push({path:"/appdist/statistics/"+this.id});break;case"merge":this.$router.push({path:"/appdist/app/merge/"+this.id});break;case"feedback":this.$router.push({path:"/appdist/feedback/lists/"+this.id});break;case"member":this.$router.push({path:"/appdist/member/lists/"+this.id});break;case"homepage":this.$router.push({path:"/appdist/app/homepage/"+this.id});break;case"certinfo":this.$router.push({path:"/appdist/app/certinfo/"+this.id});break;case"edit":this.$router.push({path:"/appdist/settings/edit/"+this.id});break;case"settings":this.$router.push({path:"/appdist/settings/index/"+this.id});break;default:break}}}}),n=r,l=a("2877"),o=Object(l["a"])(n,i,s,!1,null,"ccdc4f84",null);t["a"]=o.exports},"99f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box"},[a("info-tab",{attrs:{id:e.appId,value:"settings"}})],1),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"title border-bottom_1px flex flex-alignCenter"},[a("i",{staticClass:"xyicon xyicon-left1 ts-20 cursor-pointer",on:{click:function(t){return e.$router.back()}}}),e._v(" "+e._s(e.$route.meta.title)+" ")]),a("div",{staticClass:"content"},[a("el-alert",{attrs:{closable:!1,title:"删除该应用后所有相关的数据（包括所有版本、反馈等数据）都将被删除",type:"warning",description:"删除后不可恢复，请验证邮箱进行删除操作","show-icon":""}}),"email"==e.form.verifyType?a("div",{staticClass:"m-t"},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:""}},[e._v(" 邮箱地址 ")]),a("el-form-item",{attrs:{label:""}},[a("span",{staticStyle:{color:"#878787"}},[e._v(e._s(e._f("empty")(e.email.identifier,"未绑定邮箱")))])]),a("el-form-item",{attrs:{label:"邮箱验证码"}},[a("el-input",{attrs:{placeholder:"请输入邮箱验证码",size:"small"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",account:e.email.identifier,title:"删除应用"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{staticClass:"m-t"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleSubmit}},[e._v("删除应用")])],1)],1)],1):e._e(),"mobile"==e.form.verifyType?a("div",{staticClass:"m-t"},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:""}},[e._v(" 手机号码 ")]),a("el-form-item",{attrs:{label:""}},[a("span",{staticStyle:{color:"#878787"}},[a("span",{staticClass:"m-r"},[e._v(e._s(e._f("empty")(e.mobile.identityGroup,"未绑定手机号")))]),e._v(" "+e._s(e._f("empty")(e.mobile.identifier,""))+" ")])]),a("el-form-item",{attrs:{label:"手机验证码"}},[a("el-input",{attrs:{placeholder:"请输入手机验证码",size:"small"},model:{value:e.form.verify,callback:function(t){e.$set(e.form,"verify",t)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",account:e.mobile.identifier,title:"删除应用"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{staticClass:"m-t"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleSubmit}},[e._v("删除应用")])],1)],1)],1):e._e(),"password"==e.form.verifyType?a("div",{staticClass:"m-t"},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"密码验证"}},[a("el-input",{attrs:{placeholder:"请输入当前密码验证",size:"small"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{staticClass:"m-t"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.handleSubmit}},[e._v("删除应用")])],1)],1)],1):e._e()],1)])])},s=[],r=a("1da1"),n=a("5530"),l=(a("96cf"),a("49c4")),o=a("ef01"),c={components:{InfoTab:l["a"],XySendVerify:o["a"]},data:function(){var e,t;return{appId:0,loading:!1,form:{verifyType:"",token:"",verify:"",password:""},email:Object(n["a"])({},null===(e=this.$store.state.user.userInfo)||void 0===e?void 0:e.email),mobile:Object(n["a"])({},null===(t=this.$store.state.user.userInfo)||void 0===t?void 0:t.mobile)}},created:function(){this.appId=this.$route.params.appId,this.form.verifyType=this.$route.query.verifyType,this.loadData()},watch:{$route:function(){this.appId=this.$route.params.appId,this.form.verifyType=this.$route.query.verifyType,this.loadData()}},methods:{loadData:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getVerifyToken:function(e){this.form.token=e},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.appId=e.appId,e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),t.next=6,e.util.request({url:"/v1/appdist/settings/delete",data:e.form,method:"put"});case 6:i=t.sent,"200"==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.$router.push({path:"/appdist/app/my"})):e.util.showToast({title:i.msg,icon:"loading",duration:3e3}),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()}}},u=c,p=(a("b966"),a("2877")),f=Object(p["a"])(u,i,s,!1,null,"72f82d8a",null);t["default"]=f.exports},b966:function(e,t,a){"use strict";a("1b65")},ef01:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"send-verify p-l-xs p-r-xs lh-1",attrs:{type:"text"},on:{click:e.sendVerify}},[e._v(e._s(e.label))])},s=[],r=a("1da1"),n=(a("96cf"),a("a9e3"),{name:"xySendVerify",props:{verifyUser:{type:Number,default:0},noNeedAccount:{type:Boolean,default:!1},account:{type:String,default:""},title:{type:String,default:""},url:{type:String,default:"/v1/sms/verify/send"},type:{type:String,default:"手机号"},time:{type:Number,default:30}},data:function(){return{label:"发送验证码",timeLeft:0}},created:function(){},methods:{sendVerify:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.timeLeft>0)){t.next=2;break}return t.abrupt("return");case 2:if(e.account||e.noNeedAccount){t.next=5;break}return e.util.showToast({title:"请输入"+e.type,icon:"loading",duration:1e3}),t.abrupt("return",!1);case 5:return e.timeLeft=e.time,e.label="剩余"+e.timeLeft+"s",a=setInterval((function(){e.timeLeft--,e.timeLeft<=0?(e.label="发送验证码",e.timeLeft=0,clearInterval(a)):e.label="剩余"+e.timeLeft+"s"}),1e3),i={},i="手机号"==e.type?{mobile:e.account,title:e.title}:{email:e.account,title:e.title},i.verifyUser=e.verifyUser,t.next=13,e.util.request({url:e.url,data:i,method:"post"});case 13:s=t.sent,"200"==s.code?(e.util.showToast({title:s.msg,icon:"success",duration:1e3}),e.$emit("verifysuccess",s.data)):e.util.showToast({title:s.msg,icon:"loading",duration:2e3});case 15:case"end":return t.stop()}}),t)})))()}}}),l=n,o=a("2877"),c=Object(o["a"])(l,i,s,!1,null,"7a59abca",null);t["a"]=c.exports}}]);