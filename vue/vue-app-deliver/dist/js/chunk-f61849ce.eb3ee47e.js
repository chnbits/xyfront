(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f61849ce"],{"19fc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loadedScript?a("Captcha",{attrs:{id:"Captcha",scene:t.capthaOptions.scene,type:t.capthaOptions.type,parm:t.capthaOptions.options,url:t.capthaOptions.url},on:{callback:t.callback},nativeOn:{click:function(e){return t.doClick.apply(null,arguments)}}},[t._t("default",(function(){return[a("input",{attrs:{id:"Captcha",type:"button",value:"点击验证"}})]}))],2):t._e()},s=[],r=a("1da1"),n=(a("d3b7"),a("96cf"),{name:"XyCaptha",props:{scene:{type:String,default:"common"},type:{type:String,default:""},url:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{loadedScript:!1,capthaOptions:{scene:"common",type:"",url:"",options:{}}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadScript();case 2:Vue.component("Captcha",window["vue-social-captcha"].default),t.loadedScript=!0;case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){this.type?this.capthaOptions=Object.assign(this.capthaOptions,this.$props):this.capthaOptions=Object.assign(this.capthaOptions,this.util.getCapthaOptions())},methods:{callback:function(t,e){switch(t){case 1:this.$emit("success",e);break;case 0:return this.util.showToast({title:"验证失败",icon:"loading",duration:1e3}),!1;default:break}},doClick:function(){this.capthaOptions.type||this.$emit("success")},loadScript:function(){var t=this;return new Promise((function(e,a){t.VueScript2.load("https://cdn.jsdelivr.net/gh/QQOQ/vue-social-captcha/dist/vue-social-captcha.umd.js").then((function(){e()}))}))}}}),o=n,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"72745184",null);e["a"]=c.exports},"1b65":function(t,e,a){},"49c4":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("el-tab-pane",{attrs:{label:"应用概述",name:"info"}}),a("el-tab-pane",{attrs:{label:"版本管理",name:"version"}}),a("el-tab-pane",{attrs:{label:"渠道",name:"channel"}}),a("el-tab-pane",{attrs:{label:"统计",name:"statistics"}}),a("el-tab-pane",{attrs:{label:"应用合并",name:"merge"}}),a("el-tab-pane",{attrs:{label:"反馈",name:"feedback"}}),a("el-tab-pane",{attrs:{label:"成员管理",name:"member"}}),a("el-tab-pane",{attrs:{label:"证书信息",name:"certinfo"}}),a("el-tab-pane",{attrs:{label:"编辑应用",name:"edit"}}),a("el-tab-pane",{attrs:{label:"设置",name:"settings"}})],1)},s=[],r=(a("a9e3"),a("b0c0"),{props:{id:{type:[Number,String],default:0},value:{type:String,default:"info"}},data:function(){return{}},created:function(){},watch:{},methods:{tabClick:function(t,e){switch(t.name){case"info":this.$router.push({path:"/appdist/app/info/"+this.id});break;case"version":this.$router.push({path:"/appdist/version/lists/"+this.id});break;case"channel":this.$router.push({path:"/appdist/channel/my/"+this.id});break;case"statistics":this.$router.push({path:"/appdist/statistics/"+this.id});break;case"merge":this.$router.push({path:"/appdist/app/merge/"+this.id});break;case"feedback":this.$router.push({path:"/appdist/feedback/lists/"+this.id});break;case"member":this.$router.push({path:"/appdist/member/lists/"+this.id});break;case"homepage":this.$router.push({path:"/appdist/app/homepage/"+this.id});break;case"certinfo":this.$router.push({path:"/appdist/app/certinfo/"+this.id});break;case"edit":this.$router.push({path:"/appdist/settings/edit/"+this.id});break;case"settings":this.$router.push({path:"/appdist/settings/index/"+this.id});break;default:break}}}}),n=r,o=a("2877"),l=Object(o["a"])(n,i,s,!1,null,"ccdc4f84",null);e["a"]=l.exports},"99f5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top-box"},[a("info-tab",{attrs:{id:t.appId,value:"settings"}})],1),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"title border-bottom_1px flex flex-alignCenter"},[a("i",{staticClass:"xyicon xyicon-left1 ts-20 cursor-pointer",on:{click:function(e){return t.$router.back()}}}),t._v(" "+t._s(t.$route.meta.title)+" ")]),a("div",{staticClass:"content"},[a("el-alert",{attrs:{closable:!1,title:"删除该应用后所有相关的数据（包括所有版本、反馈等数据）都将被删除",type:"warning",description:"删除后不可恢复，请验证邮箱进行删除操作","show-icon":""}}),"email"==t.form.verifyType?a("div",{staticClass:"m-t"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:""}},[t._v(" 邮箱地址 ")]),a("el-form-item",{attrs:{label:""}},[a("span",{staticStyle:{color:"#878787"}},[t._v(t._s(t._f("empty")(t.email.identifier,"未绑定邮箱")))])]),a("el-form-item",{attrs:{label:"邮箱验证码"}},[a("el-input",{attrs:{placeholder:"请输入邮箱验证码",size:"small"},model:{value:t.form.verify,callback:function(e){t.$set(t.form,"verify",e)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",account:t.email.identifier,title:"删除应用"},on:{verifysuccess:t.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{staticClass:"m-t"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleSubmit}},[t._v("删除应用")])],1)],1)],1):t._e(),"mobile"==t.form.verifyType?a("div",{staticClass:"m-t"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:""}},[t._v(" 手机号码 ")]),a("el-form-item",{attrs:{label:""}},[a("span",{staticStyle:{color:"#878787"}},[a("span",{staticClass:"m-r"},[t._v(t._s(t._f("empty")(t.mobile.identityGroup,"未绑定手机号")))]),t._v(" "+t._s(t._f("empty")(t.mobile.identifier,""))+" ")])]),a("el-form-item",{attrs:{label:"手机验证码"}},[a("el-input",{attrs:{placeholder:"请输入手机验证码",size:"small"},model:{value:t.form.verify,callback:function(e){t.$set(t.form,"verify",e)},expression:"form.verify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",account:t.mobile.identifier,title:"删除应用"},on:{verifysuccess:t.getVerifyToken},slot:"append"})],1)],1),a("el-form-item",{staticClass:"m-t"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleSubmit}},[t._v("删除应用")])],1)],1)],1):t._e(),"password"==t.form.verifyType?a("div",{staticClass:"m-t"},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"密码验证"}},[a("el-input",{attrs:{placeholder:"请输入当前密码验证",size:"small"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("el-form-item",{staticClass:"m-t"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.handleSubmit}},[t._v("删除应用")])],1)],1)],1):t._e()],1)])])},s=[],r=a("1da1"),n=a("5530"),o=(a("96cf"),a("49c4")),l=a("ef01"),c={components:{InfoTab:o["a"],XySendVerify:l["a"]},data:function(){var t,e;return{appId:0,loading:!1,form:{verifyType:"",token:"",verify:"",password:""},email:Object(n["a"])({},null===(t=this.$store.state.user.userInfo)||void 0===t?void 0:t.email),mobile:Object(n["a"])({},null===(e=this.$store.state.user.userInfo)||void 0===e?void 0:e.mobile)}},created:function(){this.appId=this.$route.params.appId,this.form.verifyType=this.$route.query.verifyType,this.loadData()},watch:{$route:function(){this.appId=this.$route.params.appId,this.form.verifyType=this.$route.query.verifyType,this.loadData()}},methods:{loadData:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},getVerifyToken:function(t){this.form.token=t},handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.form.appId=t.appId,t.loading=!0,a=t,setTimeout((function(){a.loading=!1}),5e3),e.next=6,t.util.request({url:"/v1/appdist/settings/delete",data:t.form,method:"put"});case 6:i=e.sent,"200"==i.code?(t.util.showToast({title:i.msg,icon:"success",duration:2e3}),t.$router.push({path:"/appdist/app/my"})):t.util.showToast({title:i.msg,icon:"loading",duration:3e3}),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()}}},p=c,u=(a("b966"),a("2877")),d=Object(u["a"])(p,i,s,!1,null,"72f82d8a",null);e["default"]=d.exports},b966:function(t,e,a){"use strict";a("1b65")},ef01:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("xy-captha",{on:{success:t.captchaSuccess}},[a("span",{staticClass:"send-verify p-l-xs p-r-xs lh-1",attrs:{id:"Captcha",type:"text"}},[t._v(t._s(t.label))])])],1)},s=[],r=a("1da1"),n=(a("96cf"),a("a9e3"),a("19fc")),o={components:{XyCaptha:n["a"]},name:"xySendVerify",props:{verifyUser:{type:Number,default:0},noNeedAccount:{type:Boolean,default:!1},account:{type:String,default:""},title:{type:String,default:""},url:{type:String,default:"/v1/sms/verify/send"},type:{type:String,default:"手机号"},time:{type:Number,default:30},capthaOptions:Object},data:function(){return{label:"发送验证码",timeLeft:0,capthaOptionsData:{}}},created:function(){},methods:{captchaSuccess:function(){this.sendVerify()},sendVerify:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.timeLeft>0)){e.next=2;break}return e.abrupt("return");case 2:if(t.account||t.noNeedAccount){e.next=5;break}return t.util.showToast({title:"请输入"+t.type,icon:"loading",duration:1e3}),e.abrupt("return",!1);case 5:return t.timeLeft=t.time,t.label="剩余"+t.timeLeft+"s",a=setInterval((function(){t.timeLeft--,t.timeLeft<=0?(t.label="发送验证码",t.timeLeft=0,clearInterval(a)):t.label="剩余"+t.timeLeft+"s"}),1e3),i={},i="手机号"==t.type?{mobile:t.account,title:t.title}:{email:t.account,title:t.title},i.verifyUser=t.verifyUser,e.next=13,t.util.request({url:t.url,data:i,method:"post"});case 13:s=e.sent,"200"==s.code?(t.util.showToast({title:s.msg,icon:"success",duration:1e3}),t.$emit("verifysuccess",s.data)):t.util.showToast({title:s.msg,icon:"loading",duration:2e3});case 15:case"end":return e.stop()}}),e)})))()}}},l=o,c=a("2877"),p=Object(c["a"])(l,i,s,!1,null,"4d058f76",null);e["a"]=p.exports}}]);