(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afc5b6e2"],{1091:function(t,e,a){"use strict";a("f7c9")},"49c4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("el-tab-pane",{attrs:{label:"应用概述",name:"info"}}),a("el-tab-pane",{attrs:{label:"版本管理",name:"version"}}),a("el-tab-pane",{attrs:{label:"渠道",name:"channel"}}),a("el-tab-pane",{attrs:{label:"统计",name:"statistics"}}),a("el-tab-pane",{attrs:{label:"应用合并",name:"merge"}}),a("el-tab-pane",{attrs:{label:"反馈",name:"feedback"}}),a("el-tab-pane",{attrs:{label:"成员管理",name:"member"}}),a("el-tab-pane",{attrs:{label:"证书信息",name:"certinfo"}}),a("el-tab-pane",{attrs:{label:"编辑应用",name:"edit"}}),a("el-tab-pane",{attrs:{label:"设置",name:"settings"}})],1)},i=[],s=(a("a9e3"),a("b0c0"),{props:{id:{type:[Number,String],default:0},value:{type:String,default:"info"}},data:function(){return{}},created:function(){},watch:{},methods:{tabClick:function(t,e){switch(t.name){case"info":this.$router.push({path:"/appdist/app/info/"+this.id});break;case"version":this.$router.push({path:"/appdist/version/lists/"+this.id});break;case"channel":this.$router.push({path:"/appdist/channel/my/"+this.id});break;case"statistics":this.$router.push({path:"/appdist/statistics/"+this.id});break;case"merge":this.$router.push({path:"/appdist/app/merge/"+this.id});break;case"feedback":this.$router.push({path:"/appdist/feedback/lists/"+this.id});break;case"member":this.$router.push({path:"/appdist/member/lists/"+this.id});break;case"homepage":this.$router.push({path:"/appdist/app/homepage/"+this.id});break;case"certinfo":this.$router.push({path:"/appdist/app/certinfo/"+this.id});break;case"edit":this.$router.push({path:"/appdist/settings/edit/"+this.id});break;case"settings":this.$router.push({path:"/appdist/settings/index/"+this.id});break;default:break}}}}),r=s,o=a("2877"),c=Object(o["a"])(r,n,i,!1,null,"ccdc4f84",null);e["a"]=c.exports},"4da2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loadedScript?a("qrcode",{attrs:{value:t.value,options:t.options}}):t._e()},i=[],s=a("1da1"),r=(a("96cf"),a("b0c0"),a("d3b7"),{name:"xyQrcode",props:{value:{type:[String],default:""},options:{type:Object,default:function(){return{width:118,margin:1}}}},data:function(){return{loadedScript:!1}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadScript();case 2:Vue.component(VueQrcode.name,VueQrcode),this.loadedScript=!0;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{loadScript:function(){var t=this;return new Promise((function(e,a){t.VueScript2.load("https://cdn.jsdelivr.net/gh/fengyuanchen/vue-qrcode/dist/vue-qrcode.min.js").then((function(){e()}))}))}}}),o=r,c=a("2877"),l=Object(c["a"])(o,n,i,!1,null,"2e03b137",null);e["a"]=l.exports},e291:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top-box"},[a("info-tab",{attrs:{id:t.id,value:"version"}})],1),a("div",{staticClass:"box bg-white p-l-sm p-r-sm"},[a("div",{staticClass:"m-b-sm top-actions bg-white p-t p-l-md"},[a("el-button",{staticClass:"m-r-sm",attrs:{type:"default",size:"small"},on:{click:function(e){return t.editBatch(0)}}},[a("i",{staticClass:"xyicon xyicon-eye-off"}),t._v(" 隐藏 ")]),a("el-button",{staticClass:"m-r-sm",attrs:{type:"default",size:"small"},on:{click:function(e){return t.editBatch(1)}}},[a("i",{staticClass:"xyicon xyicon-eye"}),t._v(" 显示 ")]),a("el-button",{staticClass:"m-r-sm",attrs:{type:"default",size:"small"},on:{click:function(e){return t.deleteBatch()}}},[a("i",{staticClass:"xyicon xyicon-trash"}),t._v(" 删除 ")])],1),a("el-table",{ref:"versionTable",staticClass:"version-list",attrs:{data:t.versionList,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"version",label:"版本",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.version)+" "),e.row.isCurrent?a("span",[t._v(" (当前版本) ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"versionCode",label:"Build",align:"center"}}),a("el-table-column",{attrs:{prop:"size",label:"大小",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.size)+" MB ")]}}])}),a("el-table-column",{attrs:{pro:"downloadCout",label:"下载次数",align:"center"}}),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"更新时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.row.createTime))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"reviewState",label:"审核状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.reviewState?a("span",[a("i",{staticClass:"xyicon xyicon-check3 text-success ts-14"}),t._v(" 正常 ")]):-1==e.row.reviewState?a("span",[a("i",{staticClass:"xyicon xyicon-eye-off text-error"}),t._v(" 屏蔽 ")]):t._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"330"},scopedSlots:t._u([{key:"default",fn:function(e){return a("ul",{staticClass:"flex space-center"},[a("li",{staticClass:"m-r",on:{click:function(a){return t.$router.push({path:"/appdist/version/edit/"+e.row.id})}}},[a("span",{staticClass:"xyicon xyicon-download1"}),a("div",[a("a",{staticClass:"text-333",attrs:{href:"scope.row.url",target:"_blank"}},[t._v("下载")])])]),a("li",{on:{click:function(a){return t.deleteOne(e.row.id)}}},[a("span",{staticClass:"xyicon xyicon-trash"}),a("div",[t._v("删除")])])])}}])})],1)],1)])},i=[],s=a("1da1"),r=(a("96cf"),a("159b"),a("49c4")),o=a("4da2"),c=a("f16d"),l={components:{InfoTab:r["a"],XyQrcode:o["a"],"xy-copy":c["a"]},data:function(){return{id:0,loading:!1,versionList:[]}},created:function(){this.id=this.$route.params.id,this.loadData()},watch:{$route:function(){this.id=this.$route.params.id,this.loadData()}},methods:{loadData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/appdist/version/lists/"+t.id,data:{},method:"get"});case 2:a=e.sent,200==a.code?(t.versionList=a.data.dataList,t.versionList.forEach((function(e){e.isCurrent&&t.$refs.versionTable.setCurrentRow(e)}))):t.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return e.stop()}}),e)})))()},getChoosed:function(){var t=this.$refs.versionTable.selection;if(0!=t.length){var e="";return t.forEach((function(t){e=e+","+t.id})),e}this.util.showToast({title:"请选择",icon:"loading",duration:3e3})},editBatch:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.getChoosed(),a.next=3,e.util.request({url:"/v1/appdist/version/editBatch",data:{ids:n,fields:{isShow:t}},method:"put"});case 3:i=a.sent,200==i.code?(e.util.showToast({title:i.msg,icon:"success",duration:2e3}),e.loadData()):e.util.showToast({title:i.msg,icon:"loading",duration:3e3});case 5:case"end":return a.stop()}}),a)})))()},deleteBatch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.getChoosed(),e.next=3,t.util.request({url:"/v1/appdist/version/deleteBatch",data:{ids:a},method:"delete"});case 3:n=e.sent,200==n.code?(t.util.showToast({title:n.msg,icon:"success",duration:2e3}),t.loadData()):t.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 5:case"end":return e.stop()}}),e)})))()},deleteOne:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.util.request({url:"/v1/appdist/version/delete/"+t,method:"delete"});case 2:n=a.sent,200==n.code?(e.util.showToast({title:n.msg,icon:"success",duration:2e3}),e.loadData()):e.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 4:case"end":return a.stop()}}),a)})))()}}},u=l,d=(a("1091"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"6cbc0fa8",null);e["default"]=p.exports},f16d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"cursor-pointer",on:{click:t.handleClick}},[t._t("default")],2)},i=[],s=(a("d3b7"),a("25f0"),{name:"XyCopy",props:{content:{type:String,default:""},alertStyle:{type:String,default:"toast"},autoNotice:{type:Boolean,default:!0},notice:{type:String,default:"复制成功"}},methods:{handleClick:function(){var t=this.content;if(!t)return uni.showToast({title:"暂无",icon:"none",duration:2e3}),!1;t="string"===typeof t?t:t.toString(),document.queryCommandSupported("copy")||uni.showToast({title:"浏览器不支持",icon:"none",duration:3e3});var e=document.createElement("textarea");e.value=t,e.readOnly="readOnly",document.body.appendChild(e),e.select(),e.setSelectionRange(0,t.length);var a=document.execCommand("copy");a?("model"==this.alertStyle?this.$alert(this.notice,"提示",{confirmButtonText:"确定",callback:function(t){}}):"toast"==this.alertStyle&&this.util.showToast({title:this.notice,icon:"success"}),this.$emit("success")):this.util.showToast({title:"复制失败，请检查h5中调用该方法的方式，是不是用户点击的方式调用的，如果不是请改为用户点击的方式触发该方法，因为h5中安全性，不能js直接调用！",icon:"none",duration:3e3}),e.remove()}}}),r=s,o=a("2877"),c=Object(o["a"])(r,n,i,!1,null,"fa4ae11c",null);e["a"]=c.exports},f7c9:function(t,e,a){}}]);