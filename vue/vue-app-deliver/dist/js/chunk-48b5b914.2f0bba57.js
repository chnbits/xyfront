(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48b5b914"],{"68ebd":function(e,t,a){},"87bf":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top-box1"}),a("div",{staticClass:"box bg-white"},[a("div",{staticClass:"header border-bottom_1px p-t-md"},[e._v(" 收支明细 ")]),a("div",{staticClass:"content"},[a("el-form",{staticClass:"filters",attrs:{model:e.filters,size:"small",inline:!0,"label-suffix":":","label-width":"130px"}},[a("el-form-item",{attrs:{label:e.$store.state.app.siteInfo.title+"账号"}},[a("el-select",{attrs:{value:e.email,placeholder:""}},[a("el-option",{attrs:{label:e.email,value:e.email}})],1)],1),a("el-form-item",{attrs:{label:"交易编号"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}})],1),a("el-form-item",{attrs:{label:"订单/账单号"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.filters.orderNo,callback:function(t){e.$set(e.filters,"orderNo",t)},expression:"filters.orderNo"}})],1),a("el-form-item",{attrs:{label:"交易渠道流水号"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.filters.tradeNo,callback:function(t){e.$set(e.filters,"tradeNo",t)},expression:"filters.tradeNo"}})],1),a("el-form-item",{attrs:{label:"交易时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.filters.dateRange,callback:function(t){e.$set(e.filters,"dateRange",t)},expression:"filters.dateRange"}})],1),a("el-form-item",{attrs:{label:"交易类型"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.filters.tradeType,callback:function(t){e.$set(e.filters,"tradeType",t)},expression:"filters.tradeType"}},[a("el-option",{attrs:{label:"充值",value:"recharge"}}),a("el-option",{attrs:{label:"提现",value:"widthdraw"}}),a("el-option",{attrs:{label:"转账",value:"transfer"}}),a("el-option",{attrs:{label:"调账",value:"fix"}}),a("el-option",{attrs:{label:"退款",value:"refound"}}),a("el-option",{attrs:{label:"消费",value:"pay"}})],1)],1),a("el-button",{staticClass:"m-l-md m-b",attrs:{type:"primary",plain:"",size:"small"},on:{click:e.loadData}},[e._v("搜索")]),a("el-button",{staticClass:"m-b",attrs:{type:"default",plain:"",size:"small"},on:{click:e.reset}},[e._v("重置")])],1),a("el-table",{attrs:{data:e.dataList,"highlight-current-row":"","header-cell-style":{background:"#EDEDED",color:"#000000",paddingTop:"9px",paddingBottom:"9px"}}},[a("el-table-column",{attrs:{label:"订单号",prop:"orderNo"}}),a("el-table-column",{attrs:{label:"交易时间",prop:"createtime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatTime")(t.row.createTime))+" ")]}}])}),a("el-table-column",{attrs:{label:"收支类型",prop:"amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amount>0?a("span",{staticClass:"text-primary"},[e._v("收入")]):t.row.amount<0?a("span",{staticClass:"text-primary"},[e._v("支出")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"交易类型",prop:"tradeTypeLabel"}}),a("el-table-column",{attrs:{label:"支付方式",prop:"typeId"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.typeId?a("span",{staticClass:"text-primary"},[e._v("用户余额")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"交易渠道流水号",prop:"tradeNo"}}),a("el-table-column",{attrs:{label:"交易备注",prop:"title"}}),a("el-table-column",{attrs:{label:"账期",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatTime")(t.row.createTime,"yyyy-MM"))+" ")]}}])}),a("el-table-column",{attrs:{label:"金额",prop:"amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amount>=0?a("span",{staticClass:"text-primary"},[e._v("+"+e._s(t.row.amount))]):t.row.amount<0?a("span",{staticClass:"text-primary"},[e._v(e._s(t.row.amount))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"余额",prop:"balance"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.balance))])]}}])}),a("el-table-column",{attrs:{label:"账号",prop:"uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.email?"email":"未绑定邮箱")+" ")]}}])})],1),a("div",{staticClass:"pagination flex m-t flex-end"},[a("el-pagination",{attrs:{"current-page":e.dataPage.page,background:"","page-sizes":[10,20,30,40],"page-size":e.dataPage.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.dataPage.total},on:{"size-change":e.limitChange,"current-change":e.pageChange,"update:currentPage":function(t){return e.$set(e.dataPage,"page",t)},"update:current-page":function(t){return e.$set(e.dataPage,"page",t)},"update:pageSize":function(t){return e.$set(e.dataPage,"limit",t)},"update:page-size":function(t){return e.$set(e.dataPage,"limit",t)}}})],1)],1)])])},r=[],s=a("5530"),o=a("1da1"),i=(a("96cf"),{data:function(){var e,t;return{loading:!1,filtersDefault:{id:"",orderNo:"",tradeNo:"",dateRange:[],tradeType:""},filters:{id:"",orderNo:"",tradeNo:"",dateRange:[],tradeType:""},dataList:[],dataPage:{total:0,page:1,limit:10},email:null===(e=this.$store.state.user.userInfo)||void 0===e||null===(t=e.email)||void 0===t?void 0:t.identifier}},created:function(){this.loadData()},watch:{},methods:{reset:function(){this.filters=this.filtersDefault},loadData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.util.request({url:"/v1/user_score/score_log/my/1",data:Object(s["a"])({page:e.dataPage.page,limit:e.dataPage.limit},e.filters),method:"get"});case 2:a=t.sent,200==a.code?(e.dataList=a.data.dataList,e.dataPage=a.data.dataPage):e.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})))()},pageChange:function(e){this.loadData()},limitChange:function(e){this.dataPage.page=1,this.loadData()}}}),n=i,d=(a("d052"),a("2877")),u=Object(d["a"])(n,l,r,!1,null,"1575eb9e",null);t["default"]=u.exports},d052:function(e,t,a){"use strict";a("68ebd")}}]);