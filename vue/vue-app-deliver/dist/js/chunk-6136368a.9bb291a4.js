(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6136368a"],{1e3:function(t,i,o){"use strict";o.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"top-box"}),e("div",{staticClass:"box bg-white"},[e("div",{staticClass:"p-l p-t bg-white"},[e("i",{staticClass:"xyicon xyicon-left1 ts-22 m-r",on:{click:function(i){return t.$router.back(-1)}}}),t._v(" 添加证书 ")]),e("el-divider"),e("div",{staticClass:"content"},[e("el-form",{attrs:{model:t.form}},[e("div",{staticClass:"flex m-b"},[e("div",{staticClass:"upcert m-r-md"},[e("div",{staticClass:"uptitle"},[t._v("上传 iOS p12 证书")]),e("xy-upload",{attrs:{options:t.upoptions},model:{value:t.form.p12,callback:function(i){t.$set(t.form,"p12",i)},expression:"form.p12"}},[e("template",{slot:"icon"},[e("img",{staticClass:"m-b",attrs:{src:o("f13f"),width:"50"}})])],2)],1),e("div",{staticClass:"upcert"},[e("div",{staticClass:"uptitle"},[t._v("上传 iOS mobileprovision 文件")]),e("xy-upload",{attrs:{options:t.upoptions2},model:{value:t.form.provision,callback:function(i){t.$set(t.form,"provision",i)},expression:"form.provision"}},[e("template",{slot:"icon"},[e("img",{staticClass:"m-b",attrs:{src:o("df1f"),width:"50"}})])],2)],1)]),e("el-form-item",{attrs:{label:"输入密码"}},[e("el-input",{attrs:{placeholder:"请输入密码"},model:{value:t.form.password,callback:function(i){t.$set(t.form,"password",i)},expression:"form.password"}})],1)],1)],1),e("div",{staticClass:"content"},[e("div",{staticClass:"p-b-md"},[e("el-button",{staticClass:"primary-linear",attrs:{type:"primary",size:"medium"},on:{click:t.handleSubmit}},[t._v(" 提交 ")])],1)])],1)])},s=[],a=o("1da1"),r=(o("96cf"),o("2e2a")),n={components:{"xy-upload":r["a"]},data:function(){return{loading:!1,upoptions:{type:"file",drag:!0,limit:1,icon:"xyicon xyicon-plus",maxSize:100,driver:this.$store.state.app.uploadDriver,format:"p12",tip:"（支持cer,p12.pem 格式证书）",background:"#ffffff"},upoptions2:{type:"file",drag:!0,limit:1,icon:"xyicon xyicon-plus",maxSize:100,driver:this.$store.state.app.uploadDriver,format:"mobileprovision",tip:"（支持 mobileprovision 格式证书）",background:"#ffffff"},form:{p12:[],password:"",provision:[],name:"unknow",expireTime:0,state:0,p12Info:{},provisionInfo:{}}}},created:function(){},methods:{handleSubmit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var o,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.form.p12[0]){i.next=3;break}return t.util.showToast({title:"请上传p12文件",icon:"loading",duration:3e3}),i.abrupt("return");case 3:if(t.form.provision[0]){i.next=6;break}return t.util.showToast({title:"请上传描述文件",icon:"loading",duration:3e3}),i.abrupt("return");case 6:return t.loading=!0,o=t,setTimeout((function(){o.loading=!1}),5e3),i.next=11,t.util.request({url:"/v1/appdist/cert/add",data:t.form,method:"post"});case 11:e=i.sent,"200"==e.code?(t.util.showToast({title:e.msg,icon:"success",duration:2e3}),t.$router.back()):t.util.showToast({title:e.msg,icon:"loading",duration:3e3}),t.loading=!1;case 14:case"end":return i.stop()}}),i)})))()}}},c=n,p=(o("32b0"),o("2877")),l=Object(p["a"])(c,e,s,!1,null,"7530931c",null);i["default"]=l.exports},"32b0":function(t,i,o){"use strict";o("cfd8")},cfd8:function(t,i,o){},df1f:function(t,i,o){t.exports=o.p+"img/mp.1f134015.png"},f13f:function(t,i,o){t.exports=o.p+"img/p12.1f9eb75f.png"}}]);