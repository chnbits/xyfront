(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1a3cdde4"],{"114b":function(t,e,a){"use strict";a.r(e),a("99af"),a("4160"),a("c975"),a("a15b"),a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("159b");var i=a("b85c"),n=(a("96cf"),a("1da1")),r=a("4328"),l=a.n(r),o={name:"XyBuilderList",props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},show:!1,predata:"",value:0,config:{type:Object,default:function(){return{}}},showActions:!1,showDev:!1},components:{},data:function(){return{CDN_URL:Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_CDN_URL,hasCheckAll:!1,currentSelected:-1,currentSelecteds:[],loading:!1,page:1,limit:10,rightButtonListModal:[],filterValues:{},listData:{alertList:{},dataList:[],dataListParams:[],topButtonList:[],rightButtonList:[],rightButtonListModal:[],columns:[],dataPage:{total:0,limit:10,page:1},filterItems:[],filterValues:[],filterExtra:{},countList:[],config:{listExpandAll:!1,modalDefaultWidth:800}}}},watch:{api:function(){this.loadData("",!0)},show:function(t){1==t&&this.loadData("",!0)}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("chunk-2d0b32fa").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderInfo=function(){return a.e("chunk-feb0843e").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderForm=function(){return Promise.resolve().then(a.bind(null,"4d99"))}},created:function(){var t,e,a,i;this.predata?(this.listData=this.predata,this.rightButtonListModal=this.rightButtonListModal.concat(this.predata.rightButtonListModal,this.predata.rightButtonList),"checkbox"==(null===(t=this.listData)||void 0===t||null===(e=t.dataListParams)||void 0===e?void 0:e.selectType)?this.currentSelecteds=this.value:"radio"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)&&(this.currentSelected=this.value)):this.loadData(),this.limit=this.listData.dataPage.limit},beforeMount:function(){},mounted:function(){},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{submit:function(){var t,e;"checkbox"==(null===(t=this.listData)||void 0===t||null===(e=t.dataListParams)||void 0===e?void 0:e.selectType)?this.$emit("input",this.currentSelecteds):this.$emit("input",this.currentSelected),this.$emit("close-model")},cancel:function(){this.$emit("close-model")},selectRow:function(t,e){var a,i,n,r;"radio"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)?(this.$refs.dataTable.clearSelection(),this.$refs.dataTable.toggleRowSelection(e,!0),this.currentSelected=e.id):"checkbox"==(null===(n=this.listData)||void 0===n||null===(r=n.dataListParams)||void 0===r?void 0:r.selectType)&&e.children&&this.checkChildRows(e.children)},handleSelectionChange:function(t){var e,a,i;"checkbox"==(null===(e=this.listData)||void 0===e||null===(a=e.dataListParams)||void 0===a?void 0:a.selectType)&&(i=[],t.forEach((function(t){i.push(t.id)})),this.currentSelecteds=i)},selectAll:function(){var t,e,a,i;"radio"==(null===(t=this.listData)||void 0===t||null===(e=t.dataListParams)||void 0===e?void 0:e.selectType)?this.$refs.dataTable.clearSelection():"checkbox"==(null===(a=this.listData)||void 0===a||null===(i=a.dataListParams)||void 0===i?void 0:i.selectType)&&(this.hasCheckAll?(this.checkChildRows(this.listData.dataList,!1),this.hasCheckAll=!1):(this.checkChildRows(this.listData.dataList),this.hasCheckAll=!0))},getFilterParams:function(){var t={page:this.page,limit:this.limit};if(this.filterValues){var e=this.filterValues;if(0<this.listData.filterItems.length)for(var a in e)e.hasOwnProperty(a)&&(e[a].constructor&&e[a].constructor===Array&&(e[a]=e[a].join(",")),""!==e[a]&&(t[a]=e[a]))}return t},handleFilterExport:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var i,n,r,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=l.a.stringify(e.getFilterParams()),o=e.$store.state.app.api.apiBase+e.listData.filterExtra.exportBtn[t].api+"?cloudId="+(null===(i=e.header)||void 0===i?void 0:i.cloudId)+"&token="+(null===(n=e.header)||void 0===n?void 0:n.token)+"&"+r,window.open(o);case 3:case"end":return a.stop()}}),a)})))()},changeCheckbox:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var i,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=4,e.util.request({url:t.column.extra.url?t.column.extra.url:"/v1/admin/core/index/setStatus",method:"PUT",data:{table:e.listData.dataListParams.tableName,field:t.column.key,status:scope.row[t.column.key],keyVal:scope.row.id},header:{CloudId:null===(i=e.header)||void 0===i?void 0:i.cloudId,Eid:null===(n=e.header)||void 0===n?void 0:n.eid}});case 4:200==(r=a.sent).code?e.$Message.success(r.msg):e.$Message.error(r.msg);case 6:case"end":return a.stop()}}),a)})))()},changeSwitch:function(t,e,a){var i=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var r,l,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.listData.dataList[e.$index][a.name+"_loading"]=!0,n.next=5,i.util.request({url:(null==a||null===(r=a.extra)||void 0===r?void 0:r.url)||"/v1/admin/core/index/setStatus",method:"PUT",data:{table:i.listData.dataListParams.tableName,field:a.name,status:t,keyVal:e.row.id},header:{CloudId:null===(l=i.header)||void 0===l?void 0:l.cloudId,Eid:null===(o=i.header)||void 0===o?void 0:o.eid}});case 5:200==(s=n.sent).code?i.util.showToast({title:s.msg,icon:"success",duration:1e3}):(i.util.showToast({title:s.msg,icon:"error",duration:2e3}),i.listData.dataList[e.$index][a.name]=t?0:1),i.listData.dataList[e.$index][a.name+"_loading"]=!1;case 8:case"end":return n.stop()}}),n)})))()},pageChange:function(t){this.page=t,this.loadData()},limitChange:function(t){this.page=1,this.limit=t,this.loadData()},closeModel:function(t,e){var a=1<arguments.length&&void 0!==e&&e;t.pageData.show=!1,!t.pageData.noRefresh&&a&&this.loadData()},loadData:function(){var t=arguments,e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var i,n,r,l,o,s,d,c,u,p,m;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=1<t.length&&void 0!==t[1]&&t[1],""!=(i=0<t.length&&void 0!==t[0]?t[0]:"")&&(e.api=i),e.loading=!0,r={},n||(r=e.getFilterParams()),e.api)return a.next=9,e.util.request({url:e.api,method:"get",data:r,header:{CloudId:null===(l=e.header)||void 0===l?void 0:l.cloudId,Eid:null===(o=e.header)||void 0===o?void 0:o.eid}});a.next=11;break;case 9:"200"==(s=a.sent).code?(s.data.listData.columns.forEach((function(t){t.extra?t.extra.extend||(t.extra.extend={type:""}):t.extra={type:"text"}})),s.data.listData.topButtonList.forEach((function(t){t.style||(t.style={type:"default",size:"small",shape:"default",icon:""})})),e.config.listSelectType&&(s.data.listData.dataListParams.selectType=null===(m=e.config)||void 0===m?void 0:m.listSelectType),e.listData=s.data.listData,n&&(e.filterValues=e.listData.filterValues),"checkbox"==(null===(d=e.listData)||void 0===d||null===(c=d.dataListParams)||void 0===c?void 0:c.selectType)?e.currentSelecteds=e.value:"radio"==(null===(u=e.listData)||void 0===u||null===(p=u.dataListParams)||void 0===p?void 0:p.selectType)&&(e.currentSelected=e.value),e.$nextTick((function(){var t,a,i,n;"checkbox"==(null===(t=e.listData)||void 0===t||null===(a=t.dataListParams)||void 0===a?void 0:a.selectType)?e.checkRows(e.listData.dataList):"radio"==(null===(i=e.listData)||void 0===i||null===(n=i.dataListParams)||void 0===n?void 0:n.selectType)&&e.listData.dataList.forEach((function(t){e.currentSelected==t.id&&e.$refs.dataTable.toggleRowSelection(t,!0)}))})),e.rightButtonListModal=e.rightButtonListModal.concat(e.listData.rightButtonListModal,e.listData.rightButtonList)):e.util.showToast({title:s.msg,icon:"error",duration:2e3});case 11:e.loading=!1;case 12:case"end":return a.stop()}}),a)})))()},checkChildRows:function(t,e){var a=this,i=!(1<arguments.length&&void 0!==e)||e;t.forEach((function(t){a.$refs.dataTable.toggleRowSelection(t,i),t.children&&a.checkChildRows(t.children,i)}))},checkRows:function(t){var e=this;t.forEach((function(t){e.currentSelecteds&&0<=e.currentSelecteds.indexOf(t.id)&&e.$refs.dataTable.toggleRowSelection(t,!0),t.children&&e.checkRows(t.children)}))},dialogOpen:function(){var t;this.$store.state.app.uiAudio&&((t=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_OPEN,t.play())},dialogClose:function(){var t;this.$store.state.app.uiAudio&&((t=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_CLOSE,t.play())},topButtonModal:function(t){var e=this,a=this.listData.topButtonList[t],r={};if(a.pageData.querySuffix){var o,s=a.pageData.querySuffix,d=Object(i.a)(s);try{for(d.s();!(o=d.n()).done;){var c=o.value;1==c[2]?r[c[0]]=c[1]:"id"==c[1]&&(r[c[0]]=this.currentSelecteds.join(","))}}catch(t){d.e(t)}finally{d.f()}}var u,p,m=a.pageData.api+a.pageData.apiParams,h="";if("string"!=typeof a.pageData.queryParams?h=l.a.stringify(a.pageData.queryParams):0==a.pageData.queryParams.indexOf("?")&&(h=a.pageData.queryParams.substr(1)),h?(m=m+"?"+h,l.a.stringify(r)&&(m=m+"&"+h)):l.a.stringify(r)&&(m=m+"?"+h),"confirm"===a.pageData.modalType){this.$store.state.app.uiAudio&&((u=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_OPEN,u.play());var f=this;this.$Modal.confirm({okText:a.pageData.okText,cancelText:a.pageData.cancelText,title:a.pageData.title,content:a.pageData.content,onOk:(p=Object(n.a)(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.util.request({url:m,method:a.pageData.formMethod,header:{CloudId:f.cloudId,Eid:f.eid}});case 2:"200"==(i=t.sent).code?(f.$Message.success(i.msg),e.$store.state.app.uiAudio&&((n=new Audio).src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",n.play()),a.pageData.noRefresh||f.loadData()):f.util.showToast({title:i.msg,icon:"error",duration:2e3});case 4:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)}),onCancel:function(){var t;e.$store.state.app.uiAudio&&((t=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_CLOSE,t.play())}})}else switch(a.pageData.pageType){case"page":var g="";this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].routePrefix&&(g=this.$store.state.menu.menuList.menuTree[this.$store.state.menu.currentSite].routePrefix),this.$router.push({path:g+"/pages"+m});break;case"modal":a.pageData.apiBlank=m,a.pageData.show=!0}},rightButtonModal:function(t,e){var a=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var o,s,d,c,u,p,m,h,f,g,x,y,_,v,w,b;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(s in o=0,a.rightButtonListModal)a.rightButtonListModal[s].name==t.name&&(o=s);if(d=a.rightButtonListModal[o],c="",u=new Object,d.pageData.apiSuffix){p=d.pageData.apiSuffix,m=Object(i.a)(p);try{for(m.s();!(h=m.n()).done;)f=h.value,c=c+"/"+e.row[f]}catch(r){m.e(r)}finally{m.f()}}else c="/"+e.row.id;if(d.pageData.querySuffix){g=d.pageData.querySuffix,x=Object(i.a)(g);try{for(x.s();!(y=x.n()).done;)1==(_=y.value)[2]?u[_[0]]=_[1]:u[_[0]]=e.row[_[1]]}catch(r){x.e(r)}finally{x.f()}}if("replace"!=d.pageData.pageType){r.next=11;break}a.$router.replace({path:d.pageData.route+"/"+e.row.name}),r.next=31;break;case 11:r.t0=d.pageData.modalType,r.next="confirm"===r.t0?14:18;break;case 14:return a.$store.state.app.uiAudio&&((v=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_OPEN,v.play()),(w=a).$Modal.confirm({okText:d.pageData.okText,cancelText:d.pageData.cancelText,title:d.pageData.title,content:d.pageData.content,onOk:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.util.request({url:d.pageData.api+c+"?"+l.a.stringify(u),method:d.pageData.formMethod,header:{CloudId:w.cloudId,Eid:w.eid}});case 2:"200"==(e=t.sent).code?(w.util.showToast({title:e.msg,icon:"success",duration:1e3}),a.$store.state.app.uiAudio&&((i=new Audio).src="https://cdn.jsdelivr.net/gh/starideas/xyfront/audio/delete.mp3",i.play()),d.pageData.noRefresh||w.loadData()):w.util.showToast({title:e.msg,icon:"loading",duration:3e3});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onCancel:function(){var t;a.$store.state.app.uiAudio&&((t=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_CLOSE,t.play())}}),r.abrupt("break",31);case 18:r.t1=d.pageData.pageType,r.next="page"===r.t1?21:"modal"===r.t1?25:28;break;case 21:return b="",a.$store.state.menu.menuList.menuTree[a.$store.state.menu.currentSite].routePrefix&&(b=a.$store.state.menu.menuList.menuTree[a.$store.state.menu.currentSite].routePrefix),a.$router.push({path:b+"/pages"+d.pageData.api+c,query:u}),r.abrupt("break",30);case 25:return""!=l.a.stringify(u)?d.pageData.apiBlank=d.pageData.api+c+"?"+l.a.stringify(u):d.pageData.apiBlank=d.pageData.api+c,d.pageData.show=!0,r.abrupt("break",30);case 28:return alert("未指定按钮pageType"),r.abrupt("break",30);case 30:return r.abrupt("break",31);case 31:case"end":return r.stop()}}),r)})))()}}},s=(a("41dc"),a("2877")),d=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"xy-builder-comp xy-builder-wrap-list"},[t.listData.alertList&&t.listData.alertList.top?t._l(t.listData.alertList.top,(function(e,i){return a("el-alert",{key:i,attrs:{type:e.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:t._s(e.desc)}})])})):t._e(),[t.listData.countList?a("el-row",{attrs:{type:"flex",justify:"start",align:"top"}},t._l(t.listData.countList,(function(e,i){return a("el-col",{key:i,attrs:{xs:12,xl:e.item.xl?e.item.xl:6,xxl:4}},[a("el-row",{staticClass:"count-item",style:{backgroundColor:e.item.bgColor},attrs:{type:"flex",justify:"center",align:"top"}},[a("el-col",{staticClass:"left"},[a("i",{staticClass:"icon",class:e.item.icon}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.title,expression:"it.item.title"}]},[t._v(t._s(e.item.title))])]),a("el-col",{staticClass:"right",style:{backgroundColor:e.item.bgColorRight||"#fff",color:e.item.bgColorRight?"#fff":""}},[a("div",{staticClass:"value"},[a("span",[t._v(t._s(e.current.value))]),a("span",{staticClass:"suffix"},[t._v(t._s(e.current.suffix))])]),a("div",{staticClass:"title"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.content.value,expression:"it.content.value"}],staticClass:"value"},[t._v(t._s(e.content.value))]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.content.list,expression:"it.content.list"}],staticClass:"list"},t._l(e.content.list,(function(e,i){return a("div",{key:i,staticClass:"cell"},[t._v(" "+t._s(e.title)+"："+t._s(e.value)+" ")])})),0)])])],1)],1)})),1):t._e(),t._l(t.listData.topButtonList,(function(e,i){return[a("transition",{key:"top_modal_"+i,attrs:{name:"el-zoom-in-top"}},[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"top_modal_"+i,refInFor:!0,attrs:{"append-to-body":!0,visible:e.pageData.show,width:e.pageData.width||"800px",title:e.pageData.title},on:{open:t.dialogOpen,close:t.dialogClose,"update:visible":function(a){return t.$set(e.pageData,"show",a)}}},["form"==e.pageData.modalType?[a("XyBuilderForm",{ref:"top_form_"+i,refInFor:!0,attrs:{api:e.pageData.apiBlank,show:e.pageData.show,header:t.header,showDev:t.showDev},on:{"close-model":function(a){return t.closeModel(e,a)}}})]:"list"==e.pageData.modalType?[a("XyBuilderlist",{ref:"top_list_"+i,refInFor:!0,attrs:{api:e.pageData.apiBlank,show:e.pageData.show,header:t.header,showDev:t.showDev}})]:t._e()],2)],1)]})),a("div",{staticClass:"tool-box",style:{display:t.listData.filterItems&&2<t.listData.filterItems.length?"block":"flex",justifyContent:"space-between"}},[t._l(t.listData.topButtonList,(function(e,i){return a("div",{key:"button"+i,staticClass:"top-button-list"},["print"==e.pageData.modalType?a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#table-box",expression:"'#table-box'"}],attrs:{type:e.style.type||"default",size:e.style.size||"small"}},[t._v(" "+t._s(e.title)+" ")]):a("el-button",{staticStyle:{"margin-bottom":"10px","margin-right":"10px"},attrs:{"empty-text":"当前没有数据",type:e.style.type||"default",size:e.style.size||"small",icon:e.style.icon},on:{click:function(e){return t.topButtonModal(i)}}},[t._v(" "+t._s(e.title)+" ")])],1)})),t.listData.filterItems&&0<t.listData.filterItems.length?a("div",{staticClass:"filter-list flex-1 flex",style:{justifyContent:t.listData.filterItems&&2<t.listData.filterItems.length?"flex-start":"flex-end"},attrs:{gutter:16}},[a("el-form",{ref:"formFilter",attrs:{"label-position":"left","label-width":"80px",inline:!0,size:"small",model:t.filterValues}},[t._l(t.listData.filterItems,(function(e,i){return[a("el-form-item",{key:i,staticClass:"filter-item",attrs:{label:e.title+":"}},["text"==e.type?[a("el-input",{attrs:{type:"text",placeholder:e.extra.placeholder},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.loadData())}},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"select"==e.type?[a("el-select",{on:{"on-change":function(e){return t.loadData()}},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}},t._l(e.extra.options,(function(e,i,n){return a("el-option",{key:n,attrs:{value:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"radio"==e.type?[a("el-radio-group",{model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}},t._l(e.extra.options,(function(e,i,n){return a("el-radio",{key:n,attrs:{label:e.value}},[a("span",[t._v(t._s(e.title))])])})),1)]:"checkbox"==e.type?[a("el-checkbox-group",{model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}},t._l(e.extra.options,(function(e,i,n){return a("el-checkbox",{key:n,attrs:{label:e.value}},[t._v(" "+t._s(e.title)+" ")])})),1)]:"datepicker"==e.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"timepicker"==e.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间","value-format":e.extra.format||"HH:mm:ss"},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"timerangepicker"==e.type?[a("el-time-select",{attrs:{type:"timerange","is-range":"",placeholder:"选择时间区间","value-format":e.extra.format||"HH:mm:ss"},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"datetimepicker"==e.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"daterangepicker"==e.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:"datetimerangepicker"==e.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:t.filterValues[e.name],callback:function(a){t.$set(t.filterValues,e.name,a)},expression:"filterValues[item.name]"}})]:t._e()],2)]})),[a("el-form-item",{staticClass:"filter-item ",attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.loadData()}}},[t._v("查询")]),t.listData.filterExtra&&t.listData.filterExtra.exportBtn?t._l(t.listData.filterExtra.exportBtn,(function(e,i){return a("el-button",{key:i,staticClass:"m-l-xs",attrs:{type:e.type||"primary"},on:{click:function(e){return t.handleFilterExport(i)}}},[t._v(" "+t._s(e.title||"导出")+" ")])})):t._e()],2)]],2)],1):t._e()],2),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"viewer",rawName:"v-viewer",value:{movable:!0},expression:"{movable: true}"}],staticClass:"table-box",style:{minHeight:t.loading?"100px":"0"},attrs:{id:"table-box","element-loading-text":"拼命加载中"}},[t.loading?t._e():a("el-table",{ref:"dataTable",staticStyle:{width:"100%"},attrs:{data:t.listData.dataList,"row-key":"id","srow-key":t.listData.dataListParams?t.listData.dataListParams.expandKey:"id",border:"",stripe:"","default-expand-all":!(!t.listData.config||!t.listData.config.listExpandAll)&&t.listData.config.listExpandAll},on:{select:t.selectRow,"selection-change":t.handleSelectionChange,"select-all":t.selectAll}},[t.listData.dataListParams&&t.listData.dataListParams.selectable?a("el-table-column",{attrs:{type:"selection",width:"40"}}):t._e(),t._l(t.listData.columns,(function(e,i){return["html"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.extra.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("div",{domProps:{innerHTML:t._s(i.row[e.name])}})]}}],null,!0)})]:"group"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return t._l(e.extra.extend.fields,(function(e,n){return a("div",{key:n,staticClass:"group-colitem"},[a("div",{staticClass:"title"},[t._v(" "+t._s(e[1])+" : ")]),a("div",{staticClass:"value"},[t._v(" "+t._s(i.row[e[0]])+" ")])])}))}}],null,!0)})]:"checkbox1"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("el-checkbox-group",{on:{"on-change":function(e){return t.changeCheckbox(i)}},model:{value:i.row[e.name],callback:function(a){t.$set(i.row,e.name,a)},expression:"scope.row[colitem.name]"}},t._l(e.extra.options,(function(i,n,r){return a("el-checkbox",{key:r,attrs:{disabled:!!e.extra.disabled&&e.extra.disabled,label:i.value}},[t._v(" "+t._s(i.title)+" ")])})),1)]}}],null,!0)})]:"switch"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[t.listData.dataList[i.$index]?a("el-switch",{attrs:{size:"mini","av-loading":"listData.dataList[scope.$index][colitem.name + '_loading']","active-text1":e.extra.options[1].title,"inactive-text1":e.extra.options[0].title,"active-color":"#86c042","inactive-color":"#ddd","active-value":e.extra.options[1].value,"inactive-value":e.extra.options[0].value},on:{change:function(a){return t.changeSwitch(a,i,e)}},model:{value:t.listData.dataList[i.$index][e.name],callback:function(a){t.$set(t.listData.dataList[i.$index],e.name,a)},expression:"listData.dataList[scope.$index][colitem.name]"}}):t._e()]}}],null,!0)})]:"image"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:i.row[e.name]||t.CDN_URL+"/noimage.png",width:e.extra.extend&&e.extra.extend.width?e.extra.extend.width:"",height:e.extra.extend&&e.extra.extend.height?e.extra.extend.height:"35"}})]}}],null,!0)})]:"images"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:i.row[e.name]?i.row[e.name]:t.CDN_URL+"/noimage.png",width:e.extra.extend&&e.extra.extend.width?e.extra.extend.width:"",height:e.extra.extend&&e.extra.extend.height?e.extra.extend.height:"35"},on:{click:function(a){return t.handleView(i.row[e.name])}}})]}}],null,!0)})]:"audio"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("audio",{staticStyle:{"vertical-align":"middle",width:"150px",height:"30px"},attrs:{controls:"controls",preload:"none"}},[a("source",{attrs:{src:i.row[e.name]}}),t._v(" Your browser does not support the audio element. ")])]}}],null,!0)})]:"rate"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("el-rate",{staticStyle:{"vertical-align":"middle"},attrs:{"allow-half":"",disabled:"","show-text":!1},model:{value:i.row[e.name],callback:function(a){t.$set(i.row,e.name,a)},expression:"scope.row[colitem.name]"}})]}}],null,!0)})]:"progress"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[e.extra.extend?a("el-progress",{staticStyle:{"vertical-align":"middle"},attrs:{type:e.extra.extend.type||"line",percentage:i.row[e.name],status:e.extra.extend&&e.extra.extend.status||"","text-inside":!0,"stroke-width":26}},[e.extra.extend.hideIcon?[t._v(" "+t._s(i.row[e.name])+"% ")]:t._e()],2):t._e()]}}],null,!0)})]:"tags"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return["string"==typeof e.name?[t._l(i.row[e.name],(function(i){return[e.extra.options[i]?a("el-tag",{key:i,attrs:{size:"mini",hit:!1,effect:e.extra.options[i].effect||"dark",type:e.extra.options[i].type||"",color:e.extra.options[i].color||"default"}},[t._v(" "+t._s(e.extra.options[i].title||i)+" ")]):t._e()]}))]:t._e()]}}],null,!0)})]:"tag"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return["string"==typeof e.name?[e.extra.options[i.row[e.name]]?[a("el-tag",{attrs:{hit:!1,size:"mini",effect:e.extra.options[i.row[e.name]].effect||"dark",type:e.extra.options[i.row[e.name]].type||"",color:e.extra.options[i.row[e.name]].color||"default"}},[t._v(" "+t._s(e.extra.options[i.row[e.name]].title||i.row[e.name])+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[t._v(" "+t._s(i.row[e.name])+" ")])]]:2==e.name.length?[e.extra.options[i.row[e.name[0]][e.name[1]]]?[a("el-tag",{attrs:{size:"mini",hit:!1,effect:e.extra.options[i.row[e.name[0]][e.name[1]]].effect||"dark",type:e.extra.options[i.row[e.name[0]][e.name[1]]].type||"",color:e.extra.options[i.row[e.name[0]][e.name[1]]].color||"default"}},[t._v(" "+t._s(e.extra.options[i.row[e.name[0]][e.name[1]]].title||i.row[e.name[0]][e.name[1]])+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[t._v(" "+t._s(i.row[e.name[0]][e.name[1]])+" ")])]]:3==e.name.length?[e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]]?[a("el-tag",{attrs:{size:"mini",hit:!1,effect:e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].effect||"dark",type:e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].type||"",color:e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].color||"default"}},[t._v(" "+t._s(e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].title||i.row[e.name[0]][e.name[1]][e.name[2]])+" ")])]:[a("el-tag",{attrs:{size:"mini",hit:!1}},[t._v(" "+t._s(i.row[e.name[0]][e.name[1]][e.name[2]])+" ")])]]:t._e()]}}],null,!0)})]:"password"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[e.extra.show?[t._v(" "+t._s(i.row[e.name])+" ")]:[t._v("******")],a("i",{attrs:{type:"el-icon-view"},on:{click:function(t){e.extra.show=!e.extra.show}}})]}}],null,!0)})]:"url"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("a",{attrs:{target:"_blank",href:i.row[e.name]}},[t._v(t._s(i.row[e.name]))])]}}],null,!0)})]:"time"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(t._f("formatTime")(a.row[e.name],e.extra.extend.format||""))+" ")]}}],null,!0)})]:"label"==e.extra.type?[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return["string"==typeof e.name?a("span",{style:{color:e.extra.options[i.row[e.name]].color||""}},[t._v(" "+t._s(e.extra.options[i.row[e.name]].title||i.row[e.name])+" ")]):2==e.name.length?a("span",{style:{color:e.extra.options[i.row[e.name[0]][e.name[1]]]&&e.extra.options[i.row[e.name[0]][e.name[1]]].color?e.extra.options[i.row[e.name[0]][e.name[1]]].color:""}},[t._v(" "+t._s(e.extra.options[i.row[e.name[0]][e.name[1]]]&&e.extra.options[i.row[e.name[0]][e.name[1]]].title?e.extra.options[i.row[e.name[0]][e.name[1]]].title:i.row[e.name[0]][e.name[1]])+" ")]):3==e.name.length?a("span",{style:{color:e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]]&&e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].color?e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].color:""}},[t._v(" "+t._s(e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]]&&e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].title?e.extra.options[i.row[e.name[0]][e.name[1]][e.name[2]]].title:i.row[e.name[0]][e.name[1]])+" ")]):t._e()]}}],null,!0)})]:"rightButtonList"==e.extra.type?[a("el-table-column",{key:i,attrs:{fixed:(!t.$store.state.menu||"fui"!=t.$store.state.menu.adminTheme)&&"right",prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._l(t.listData.rightButtonList,(function(e,n){return a("a",{key:"button"+n,class:"default"==e.style.type?"":"text-"+e.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:e.style.type,size:e.style.size,icon:e.style.icon},on:{click:function(a){return t.rightButtonModal(e,i)}}},[t._v(" "+t._s(e.title)+" ")])})),t._l(i.row[e.name],(function(e,n){return a("a",{key:"button"+n,class:"default"==e.style.type?"":"text-"+e.style.type,staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},attrs:{type:e.style.type,size:e.style.size,icon:e.style.icon},on:{click:function(a){return t.rightButtonModal(e,i)}}},[t._v(" "+t._s(e.title)+" ")])}))]}}],null,!0)})]:[a("el-table-column",{key:i,attrs:{prop:e.name,label:e.title,width:e.extra.width,"min-width":e.extra.minWidth||"50px"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row[e.name])+" ")]}}],null,!0)})]]}))],2)],1),a("div",{staticClass:"flex space-between flex-alignCenter"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:0<t.listData.dataPage.total,expression:"listData.dataPage.total > 0"}],staticClass:"text-left m-t-sm m-b-sm",attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","page-size":t.limit,"current-page":t.page,total:t.listData.dataPage.total},on:{"current-change":t.pageChange,"size-change":t.limitChange,"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}}),a("div",{staticClass:"p-l-lg p-r-lg"},[t.$store.state.menu&&"fui"==t.$store.state.menu.adminTheme?a("dv-decoration-2",{staticStyle:{width:"50%",height:"3px"}}):t._e()],1)],1),t._l(t.rightButtonListModal,(function(e,i){return[a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],key:"right_modal_"+i,ref:"right_modal_"+i,refInFor:!0,attrs:{"append-to-body":!0,visible:e.pageData.show,width:e.pageData.width||700,title:e.pageData.title},on:{open:t.dialogOpen,close:t.dialogClose,"update:visible":function(a){return t.$set(e.pageData,"show",a)}}},["form"==e.pageData.modalType?[a("XyBuilderForm",{ref:"right_form_"+i,refInFor:!0,attrs:{api:e.pageData.apiBlank,show:e.pageData.show,header:t.header,showDev:t.showDev},on:{"close-model":function(a){return t.closeModel(e,a)}}})]:"list"==e.pageData.modalType?[a("XyBuilderList",{ref:"right_list_"+i,refInFor:!0,attrs:{header:t.header,api:e.pageData.apiBlank,show:e.pageData.show,showDev:t.showDev}})]:"info"==e.pageData.modalType?[a("XyBuilderInfo",{ref:"right_info_"+i,refInFor:!0,attrs:{header:t.header,api:e.pageData.apiBlank,show:e.pageData.show}})]:"tab"==e.pageData.modalType?[a("XyBuilderTab",{ref:"right_info_"+i,refInFor:!0,attrs:{header:t.header,api:e.pageData.apiBlank,show:e.pageData.show}})]:t._e()],2)]})),1==this.showActions?a("div",[a("el-divider"),a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",size:"default"},on:{click:function(e){return t.submit()}}},[t._v(" 确认选择 ")]),a("el-button",{attrs:{type:"text",size:"default"},on:{click:function(e){return t.cancel()}}},[t._v(" 取消操作 ")])],1):t._e()],t.listData.alertList&&t.listData.alertList.bottom?t._l(t.listData.alertList.bottom,(function(e,i){return a("alert",{key:i,attrs:{type:e.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:t._s(e.desc)}})])})):t._e()],2)}),[],!1,null,"4505c661",null);e.default=d.exports},"41dc":function(t,e,a){"use strict";var i=a("bd12");a.n(i).a},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),r=a("fc6a"),l=a("a640"),o=[].join,s=n!=Object,d=l("join",",");i({target:"Array",proto:!0,forced:s||!d},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},bd12:function(t,e,a){}}]);