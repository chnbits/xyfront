(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0db4a7"],{"6edf":function(t,e,a){"use strict";a.r(e),a("d3b7"),a("ddb0"),a("96cf");var n=a("1da1"),s={data:function(){return{navList:[{index:"my",title:"我的广告"},{index:"myOrder",title:"商家订单"}],activeTab:"0",tabList:[{value:"ing",title:"进行中",values:"0,1"},{value:"done",title:"已结束",values:"-1,2"}],dataList:[],dataList2:[],dataPage:[{total:10,limit:10,page:1},{total:10,limit:10,page:1}]}},created:function(){this.loadData()},methods:{handleSubNav:function(t){switch(t){case"my":this.util.navigateTo({url:"/otc/ad/my"});break;case"myOrder":this.util.navigateTo({url:"/otc/ad/myOrder"})}},handleClick:function(){this.loadData()},cancel:function(t,e){var a=this;return Object(n.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.$confirm("确认要取消该广告吗，操作无法恢复，如果您误操作，您需要自己承担损失。","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.util.request({url:"/v1/coin_otc/ad/cancel/"+e,method:"put"});case 2:200==(s=n.sent).code?(a.util.showToast({title:s.msg,icon:"success",duration:1e3}),a.dataList[t].state=-1):a.util.showToast({title:s.msg,icon:"loading",duration:3e3});case 4:case"end":return n.stop()}}),n)})))).catch((function(){}));case 1:case"end":return s.stop()}}),s)})))()},pageChange:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.dataPage[e.activeTab].page=t,e.loadData();case 2:case"end":return a.stop()}}),a)})))()},loadData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.util.request({url:"/v1/coin_otc/ad/my",data:{state:t.tabList[t.activeTab].values,page:t.dataPage[t.activeTab].page},method:"get"});case 2:if(200!=(a=e.sent).code){e.next=14;break}e.t0=t.activeTab,e.next="0"===e.t0?7:"1"===e.t0?9:11;break;case 7:return t.dataList=a.data.dataList,e.abrupt("break",11);case 9:return t.dataList2=a.data.dataList,e.abrupt("break",11);case 11:t.dataPage[t.activeTab]=a.data.dataPage,e.next=15;break;case 14:t.util.showToast({title:a.msg,icon:"loading",duration:3e3});case 15:case"end":return e.stop()}}),e)})))()}}};a=a("2877"),s=Object(a.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("xy-header"),a("div",{staticClass:"main"},[a("xy-subnav",{attrs:{title:"广告管理",value:"my",navList:t.navList},on:{change:t.handleSubNav}}),a("div",{staticClass:"container p-t"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"进行中",name:"0"}},[a("el-table",{staticClass:"m-t-xs",staticStyle:{width:"100%"},attrs:{data:t.dataList}},[a("el-table-column",{attrs:{prop:"id",label:"编号/时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.id))]),a("div",{staticClass:"font-sm"},[t._v(t._s(t._f("formatTime")(e.row.createTime)))])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],staticStyle:{color:"#09C69D"}},[t._v("购买")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.row.type,expression:"scope.row.type == 2"}],staticStyle:{color:"#FF4C4C"}},[t._v("出售")])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"币种",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.coinInfo.symbol))])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"price"},[t._v(t._s(e.row.price))]),a("span",{staticClass:"price m-l-sm"},[t._v("CNY")])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"已成交/总数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tradeAmount))]),t._v(" / "),a("span",{staticClass:"m-l-sm"},[t._v(t._s(e.row.amount))])]}}])}),a("el-table-column",{attrs:{prop:"paytype",label:"付款方式"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.alipay,expression:"scope.row.alipay"}],staticClass:"xyicon xyicon-alipay m-r-xs",staticStyle:{color:"#4C88FE"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.wxpay,expression:"scope.row.wxpay"}],staticClass:"xyicon xyicon-wxpay m-r-xs",staticStyle:{color:"#00C901"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.bank,expression:"scope.row.bank"}],staticClass:"xyicon xyicon-card",staticStyle:{color:"#F7BA2A"}})]}}])}),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#F6964E"}},[t._v(t._s(e.row.stateFormat.title))])]}}])}),a("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.state||1==e.row.state?a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return t.cancel(e.$index,e.row.id)}}},[t._v("下架")]):t._e()]}}])})],1),a("el-pagination",{staticClass:"text-center m-t-md",attrs:{background:"",layout:"prev, pager, next","page-size":t.dataPage[t.activeTab].limit,"current-page":t.dataPage[t.activeTab].page,total:t.dataPage[t.activeTab].total},on:{"current-change":t.pageChange,"update:pageSize":function(e){return t.$set(t.dataPage[t.activeTab],"limit",e)},"update:page-size":function(e){return t.$set(t.dataPage[t.activeTab],"limit",e)},"update:currentPage":function(e){return t.$set(t.dataPage[t.activeTab],"page",e)},"update:current-page":function(e){return t.$set(t.dataPage[t.activeTab],"page",e)}}})],1),a("el-tab-pane",{attrs:{label:"已完成",name:"1"}},[a("el-table",{staticClass:"m-t-xs",staticStyle:{width:"100%"},attrs:{data:t.dataList2}},[a("el-table-column",{attrs:{prop:"id",label:"编号/时间",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.id))]),a("div",{staticClass:"font-sm"},[t._v(t._s(t._f("formatTime")(e.row.createTime)))])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.type,expression:"scope.row.type == 1"}],staticStyle:{color:"#09C69D"}},[t._v("购买")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.row.type,expression:"scope.row.type == 2"}],staticStyle:{color:"#FF4C4C"}},[t._v("出售")])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"币种",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.coinInfo.symbol))])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"price"},[t._v(t._s(e.row.price))]),a("span",{staticClass:"price m-l-sm"},[t._v("CNY")])]}}])}),a("el-table-column",{attrs:{prop:"amount",label:"已成交/总数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.tradeAmount))]),t._v(" / "),a("span",{staticClass:"m-l-sm"},[t._v(t._s(e.row.amount))])]}}])}),a("el-table-column",{attrs:{prop:"paytype",label:"付款方式"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.alipay,expression:"scope.row.alipay"}],staticClass:"xyicon xyicon-alipay m-r-xs",staticStyle:{color:"#4C88FE"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.wxpay,expression:"scope.row.wxpay"}],staticClass:"xyicon xyicon-wxpay m-r-xs",staticStyle:{color:"#00C901"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.row.bank,expression:"scope.row.bank"}],staticClass:"xyicon xyicon-card",staticStyle:{color:"#F7BA2A"}})]}}])}),a("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"color:rgba(0,0,0,0.3)"}},[t._v(t._s(e.row.stateFormat.title))])]}}])}),a("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(t){}}])})],1),a("el-pagination",{staticClass:"text-center m-t-md",attrs:{background:"",layout:"prev, pager, next","page-size":t.dataPage[t.activeTab].limit,"current-page":t.dataPage[t.activeTab].page,total:t.dataPage[t.activeTab].total},on:{"current-change":t.pageChange,"update:pageSize":function(e){return t.$set(t.dataPage[t.activeTab],"limit",e)},"update:page-size":function(e){return t.$set(t.dataPage[t.activeTab],"limit",e)},"update:currentPage":function(e){return t.$set(t.dataPage[t.activeTab],"page",e)},"update:current-page":function(e){return t.$set(t.dataPage[t.activeTab],"page",e)}}})],1)],1)],1)],1),a("xy-footer")],1)}),[],!1,null,"0d432d0c",null);e.default=s.exports}}]);