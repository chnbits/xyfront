(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-92158012"],{"0a2f":function(e,t,a){},"11ee":function(e,t,a){"use strict";var i=a("c28b");a.n(i).a},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"160b":function(e,t,a){"use strict";a("a9e3"),a("96cf");var i=a("1da1"),n={name:"xySendVerify",props:{noNeedAccount:{type:Boolean,default:!1},account:{type:String,default:""},title:{type:String,default:""},url:{type:String,default:"/v1/sms/verify/send"},type:{type:String,default:"手机号"},time:{type:Number,default:30}},data:function(){return{label:"发送验证码",timeLeft:0}},created:function(){},methods:{sendVerify:function(){var e=this;return Object(i.a)(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0<e.timeLeft)return t.abrupt("return");t.next=2;break;case 2:if(e.account||e.noNeedAccount){t.next=5;break}return e.util.showToast({title:"请输入"+e.type,icon:"loading",duration:1e3}),t.abrupt("return",!1);case 5:return e.timeLeft=e.time,e.label="剩余"+e.timeLeft+"s",a=setInterval((function(){e.timeLeft--,e.timeLeft<=0?(e.label="发送验证码",e.timeLeft=0,clearInterval(a)):e.label="剩余"+e.timeLeft+"s"}),1e3),i={},i="手机号"==e.type?{mobile:e.account,title:e.title}:{email:e.account,title:e.title},t.next=12,e.util.request({url:e.url,data:i,method:"post"});case 12:"200"==(n=t.sent).code?(e.util.showToast({title:n.msg,icon:"success",duration:1e3}),e.$emit("verifysuccess",n.data)):e.util.showToast({title:n.msg,icon:"loading",duration:2e3});case 14:case"end":return t.stop()}}),t)})))()}}},r=a("2877"),o=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"send-verify p-l-xs p-r-xs"},[a("el-button",{attrs:{type:"text"},on:{click:e.sendVerify}},[e._v(e._s(e.label))])],1)}),[],!1,null,"683cebec",null);t.a=o.exports},"1e5c":function(e,t,a){"use strict";var i=a("0a2f");a.n(i).a},"1f38":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var i=function(){var t="undefined"!=typeof window?window:e;return t&&t.tinymce?t.tinymce:null}}).call(this,a("c8ba"))},2532:function(e,t,a){"use strict";var i=a("23e7"),n=a("5a34"),r=a("1d80");i({target:"String",proto:!0,forced:!a("ab13")("includes")},{includes:function(e,t){return!!~String(r(this)).indexOf(n(e),1<arguments.length?t:void 0)}})},2782:function(e,t,a){},3341:function(e,t,a){"use strict";var i=a("3f39");a.n(i).a},"3b76":function(e,t,a){"use strict";var i=a("fcbb");a.n(i).a},"3f39":function(e,t,a){},"493f":function(e,t,a){},"4d99":function(e,t,a){"use strict";function i(e){return-1!==A.indexOf(e)}function n(e,t,a){var n,r,o,s,l,u,m,c,d=t.$props.value?t.$props.value:"",p=t.$props.initialValue?t.$props.initialValue:"";a.setContent(d||p),t.$listeners.input&&(r=a,s=(n=t).$props.modelEvents?n.$props.modelEvents:null,l=Array.isArray(s)?s.join(" "):s,n.$watch("value",(function(e,t){r&&"string"==typeof e&&e!==o&&e!==t&&(r.setContent(e),o=e)})),r.on(l||"change keyup undo redo",(function(){o=r.getContent(),n.$emit("input",o)}))),u=e,m=t.$listeners,c=a,Object.keys(m).filter(i).forEach((function(e){var t=m[e];"function"==typeof t&&("onInit"===e?t(u,c):c.on(e.substring(2),(function(e){return t(e,c)})))}))}function r(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++M+String(t)}function o(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")}function s(e){return function(){var t,a,i,r=R({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:(t=e.$props.init&&e.$props.init.plugins,a=e.$props.plugins,o(t).concat(o(a))),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){(e.editor=t).on("init",(function(a){return n(a,e,t)})),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});null!==(i=e.element)&&"textarea"===i.tagName.toLowerCase()&&(e.element.style.visibility=""),Object(j.a)().init(r)}}a.r(t),a("4160"),a("caad"),a("c975"),a("b0c0"),a("d3b7"),a("ac1f"),a("2532"),a("841c"),a("159b");var l,u=a("b85c"),m=(a("96cf"),a("1da1")),c=(a("99af"),a("a434"),a("4328")),d=a.n(c),p=(a("235e"),a("1276"),{name:"XyCheckboxGroup",props:{value:{type:[String,Array]},disabled:!1,options:{type:[Array]}},data:function(){return{checkedList:[]}},created:function(){""==this.value?this.checkedList=[]:"string"==typeof this.value?this.checkedList=this.value.split(","):this.checkedList=this.value},methods:{handleCheckChange:function(e){this.$emit("input",e)}}}),f=a("2877"),h=Object(f.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox-group",{on:{change:e.handleCheckChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.options,(function(t,i,n){return a("el-checkbox",{key:n,attrs:{disabled:e.disabled,label:t.value}},[e._v(" "+e._s(t.title)+" ")])})),1)}),[],!1,null,"679a9bd2",null).exports,v=a("78e4"),y={name:"Poster",components:{XyBuilderFormImage:v.a},props:{item:{},value:[],header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){return{index:0}},created:function(){this.value=[{name:"bg",type:"image",width:750,height:1181,top:0,left:0,url:"https://s1.ax1x.com/2020/04/27/JR46UJ.png"},{name:"logo",type:"image",width:134,height:133,top:20,left:42,url:"https://s2.ax1x.com/2020/01/25/1ZzWiq.png"},{name:"qrcode",type:"image",width:160,height:160,top:1e3,left:20,url:"https://s1.ax1x.com/2020/03/19/86VFEt.jpg"},{name:"avatar",type:"image",width:100,height:100,top:1190,left:600,url:"https://s1.ax1x.com/2020/03/18/8wg9k6.png"},{name:"name",type:"text",width:100,height:100,top:1230,left:450,color:"#333",fontSize:30,backgroundColor:"transparent",content:"XYShop"},{name:"scan",type:"text",width:100,height:100,top:1230,left:50,color:"#333",fontSize:30,backgroundColor:"transparent",content:"长按二维码扫一扫"}]},beforeMount:function(){},methods:{select:function(e){this.index=e},move:function(e,t){var a=this;this.index=t;var i=e.target;i.onmousedown=function(e){var t=e.clientX/.35-i.offsetLeft,n=e.clientY/.35-i.offsetTop;document.onmousemove=function(e){var i=e.clientX/.35-t,r=e.clientY/.35-n;i<0&&(i=0),r<0&&(r=0),750<i+a.value[a.index].width&&(i=750-a.value[a.index].width),1344<r+a.value[a.index].height&&(r=1344-a.value[a.index].height),a.value[a.index].left=Math.ceil(i),a.value[a.index].top=Math.ceil(r)},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},watch:{}},g=(a("ff86"),Object(f.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex",staticStyle:{position:"relative",width:"300px",height:"534px"}},[a("div",{staticClass:"poster",staticStyle:{position:"absolute",transform:"scale(0.35)"}},[a("div",{staticStyle:{position:"absolute",width:"750px",height:"1334px","background-color":"#fff",border:"1px solid #ccc"}},e._l(e.value,(function(t,i){return a("div",["image"==t.type?a("img",{key:i,staticClass:"item",class:e.index==i?"current":"",style:{position:"absolute",top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"},attrs:{src:t.url},on:{mousedown:function(t){return e.move(t,i)},click:function(t){return e.select(i)}}}):"text"==t.type?a("div",{key:i,staticClass:"item",class:e.index==i?"current":"",style:{position:"absolute",top:t.top+"px",left:t.left+"px",color:t.color,lineHeight:"1.1",fontSize:t.fontSize+"px",backgroundColor:t.backgroundColor,breakWord:t.breakWord},on:{mousedown:function(t){return e.move(t,i)},click:function(t){return e.select(i)}}},[e._v(" "+e._s(t.content)+" ")]):e._e()])})),0)]),a("div",{staticStyle:{position:"absolute",left:"300px",top:"0",width:"100%",height:"534px"}},[a("Form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].name,callback:function(t){e.$set(e.value[e.index],"name",t)},expression:"value[index].name"}})],1),a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].width,callback:function(t){e.$set(e.value[e.index],"width",t)},expression:"value[index].width"}})],1),a("el-form-item",{attrs:{label:"高度"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].height,callback:function(t){e.$set(e.value[e.index],"height",t)},expression:"value[index].height"}})],1),a("el-form-item",{attrs:{label:"顶部距离"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].top,callback:function(t){e.$set(e.value[e.index],"top",t)},expression:"value[index].top"}})],1),a("el-form-item",{attrs:{label:"左侧距离"}},[a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].left,callback:function(t){e.$set(e.value[e.index],"left",t)},expression:"value[index].left"}})],1),"image"==this.value[e.index].type?a("el-form-item",{attrs:{label:"图片"}},[a("XyBuilderFormImage",{attrs:{item:{name:e.value[e.index].name,extra:e.item.extra},img:{name:"",title:""},header:{cloudId:e.header.cloudId,eid:e.header.eid,token:e.header.token}},model:{value:e.value[e.index].url,callback:function(t){e.$set(e.value[e.index],"url",t)},expression:"value[index].url"}}),a("el-input",{attrs:{size:"medium"},model:{value:e.value[e.index].url,callback:function(t){e.$set(e.value[e.index],"url",t)},expression:"value[index].url"}})],1):e._e(),"text"==this.value[e.index].type?a("el-form-item",{attrs:{label:"字体大小"}},[a("el-slider",{attrs:{"show-input":""},model:{value:e.value[e.index].fontSize,callback:function(t){e.$set(e.value[e.index],"fontSize",t)},expression:"value[index].fontSize"}})],1):e._e(),"text"==this.value[e.index].type?a("el-form-item",{attrs:{label:"字体颜色"}},[a("el-color-picker",{model:{value:e.value[e.index].color,callback:function(t){e.$set(e.value[e.index],"color",t)},expression:"value[index].color"}})],1):e._e(),"text"==this.value[e.index].type?a("el-form-item",{attrs:{label:"背景颜色"}},[a("el-color-picker",{model:{value:e.value[e.index].backgroundColor,callback:function(t){e.$set(e.value[e.index],"backgroundColor",t)},expression:"value[index].backgroundColor"}})],1):e._e()],1)],1)])}),[],!1,null,"4ee03a24",null).exports),b={name:"XyShopSku",components:{XyBuilderFormImage:v.a},props:{item:{},value:{skuSpec:[],skuList:[]},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{title:"",tag:"",columns:[{title:"规格",name:"spec",type:"select",width:"300px"},{title:"价格",name:"priceGroup",type:"group",width:"230",options:{fields:[["price","现价"],["originalPrice","原价"]]}},{title:"库存",name:"stock",type:"text"},{title:"SKU编号",name:"skuNo",type:"text"},{title:"备注",name:"remark",type:"text"},{title:"图片",name:"cover",type:"image",width:60},{title:"删除",name:"delete",type:"delete",width:70}],dataItem:{spec:"",price:"",vipPrice:"",originalPrice:"",stock:"",skuNo:"",remark:"",cover:"",delete:""},specCascader:[]}},created:function(){},mounted:function(){this.updateColumns()},methods:{getData:function(){this.$emit("input",this.value)},loadData:function(e,t){this.specCascader[e.index+1]&&(e.loading=!0,e.children=this.specCascader[e.index+1],e.loading=!1,t())},delrow:function(e){var t=this;return Object(m.a)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.value.skuList[e].id)return a.next=3,t.util.request({url:t.item.extra.apiSkuDelete+"/"+t.value.skuList[e].id,method:"DELETE",header:t.header});a.next=7;break;case 3:"200"==(i=a.sent).code?(t.value.skuList.splice(e,1),t.$Message.success(i.msg)):t.$Message.error(i.msg),a.next=8;break;case 7:t.value.skuList.splice(e,1);case 8:t.getData();case 9:case"end":return a.stop()}}),a)})))()},addrow:function(){var e,t=Object(u.a)(this.value.skuList);try{for(t.s();!(e=t.n()).done;)""==e.value&&this.$Message.error("请填写规格")}catch(e){t.e(e)}finally{t.f()}var a=Object.assign({},this.dataItem);this.value.skuList.push(a)},closeTag:function(e,t){this.value.skuSpec[e].spec.splice(t,1)},addTag:function(e){if(!this.tag)return this.$Message.error("请填写规格"),!1;var t,a=Object(u.a)(this.value.skuSpec[e].spec);try{for(a.s();!(t=a.n()).done;)if(t.value.title==this.tag)return this.$Message.error("规格重复"),!1}catch(e){a.e(e)}finally{a.f()}var i=this.value;i.skuSpec[e].spec.push({title:this.tag}),this.tag="",this.value=i},addspec:function(){if(!this.title)return this.$Message.error("请填写规格名称"),!1;var e,t=Object(u.a)(this.value.skuSpec);try{for(t.s();!(e=t.n()).done;)if(e.value.title==this.title)return this.$Message.error("规格名称重复"),!1}catch(e){t.e(e)}finally{t.f()}this.value.skuSpec.push({title:this.title,spec:[]}),this.title=""},delspec:function(e){this.value.skuSpec.splice(e,1)},updateColumns:function(){for(var e=this.specCascader,t=0;t<this.value.skuSpec.length;t++){var a,i=[],n=Object(u.a)(this.value.skuSpec[t].spec);try{for(n.s();!(a=n.n()).done;){var r=a.value;t==this.value.skuSpec.length-1?i.push({index:t,value:r.title,label:r.title}):i.push({index:t,value:r.title,label:r.title,children:[],loading:!1})}}catch(e){n.e(e)}finally{n.f()}e[t]=i}this.specCascader=e}},watch:{value:{handler:function(){this.updateColumns()},deep:!0,immediate:!0}}},x=(a("e8fa"),Object(f.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"sku-spec"},[e._l(e.value.skuSpec,(function(t,i){return a("el-row",{key:i,attrs:{gutter:"15",justify:"center",align:"middle"}},[a("el-col",{attrs:{span:3}},[a("el-input",{attrs:{size:"small"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item1.title"}})],1),a("el-col",{attrs:{span:18}},[e._l(t.spec,(function(t,n){return a("el-tag",{key:n,attrs:{name:t.title,closable:""},on:{"on-close":function(t){return e.closeTag(i,n)}}},[e._v(" "+e._s(t.title)+" ")])})),a("el-input",{staticStyle:{width:"80px","margin-right":"5px"},attrs:{size:"small",placeholder:"回车添加"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTag(i)}},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],2),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.delspec(i)}}},[e._v("删除")])],1)],1)})),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("el-input",{staticStyle:{width:"80px","margin-right":"15px"},attrs:{size:"small",placeholder:"新规格名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addspec(t)}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("el-button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"primary"},on:{click:e.addspec}},[e._v(" 增加规格 ")])],1)],2),a("div",{staticClass:"sku-list"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.value.skuList}},e._l(e.columns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]:"select"==t.type?[a("el-cascader",{attrs:{data:e.specCascader[0],prop:e.loadData,size:"small"},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]:"group"==t.type?e._l(t.options.fields,(function(t,n){return a("div",{key:n,staticClass:"sku-list-group"},[a("div",{staticClass:"title"},[e._v(e._s(t[1])+":")]),a("div",[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.skuList[i.$index][t[0]],callback:function(a){e.$set(e.value.skuList[i.$index],t[0],a)},expression:"value.skuList[scope.$index][grp[0]]"}})],1)])})):"image"==t.type?[a("XyBuilderFormImage",{attrs:{item:{name:t.name,extra:e.item.extra},img:{name:"",title:""},header:e.header},model:{value:e.value.skuList[i.$index][t.name],callback:function(a){e.$set(e.value.skuList[i.$index],t.name,a)},expression:"value.skuList[scope.$index][coco.name]"}})]:"delete"==t.type?[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small"},on:{click:function(t){return e.delrow(e.index)}}},[e._v(" 删除 ")])]:[e._v(" "+e._s(e.polygonFee[i.$index][t.name])+" ")]]}}],null,!0)})})),1),a("el-button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"dashed"},on:{click:e.addrow}},[e._v(" 增加 ")])],1)])}),[],!1,null,"48f38604",null).exports),k={name:"SkuPrice",components:{},props:{item:{},value:[],formValues:{},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{title:"",tag:"",columns:[{title:"规格",name:"spec",type:"text",width:"300px"},{title:"正常售价",name:"price",type:"text"},{title:"剩余库存",name:"stock",type:"text"},{title:"秒杀价",name:"curPrice",type:"input"},{title:"每次库存",name:"curStock",type:"input"}]}},created:function(){},beforeMount:function(){},methods:{getData:function(){this.$emit("input",this.value)}},watch:{"formValues.itemId":{handler:function(e){var t=this;return Object(m.a)(regeneratorRuntime.mark((function a(){var i,n,r,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=t,e&&null!=e)return a.next=4,i.util.request({url:"/v1/iadmin/ishop/sku/lists",method:"get",data:{itemId:e,curField:1},header:{CloudId:i.header.cloudId,Eid:i.header.eid}});a.next=6;break;case 4:if(200==(n=a.sent).code){for(r=n.data.dataList.length-1;0<=r;r--)for(o=0;o<t.value.length;o++)t.value[o].spec==n.data.dataList[r].spec&&(n.data.dataList[r].curPrice=t.value[o].curPrice,n.data.dataList[r].curStock=t.value[o].curStock);t.value=n.data.dataList,t.getData()}else t.util.showToast({title:n.msg});case 6:case"end":return a.stop()}}),a)})))()},deep:!0,immediate:!0}}},w=(a("3b76"),Object(f.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"sku-list"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.value}},e._l(e.columns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value[i.$index][t.name],callback:function(a){e.$set(e.value[i.$index],t.name,a)},expression:"value[scope.$index][coco.name]"}})]:[e._v(" "+e._s(e.value[i.$index][t.name])+" ")]]}}],null,!0)})})),1)],1)])}),[],!1,null,"a781efc4",null).exports),_={name:"XyTreeRegions",props:{modalTitle:"",action:"",valueName:{type:String,default:"id"},header:{type:Object,default:function(){return{cloudId:0,eid:0}}},value:{type:Array,default:function(){return[]}}},data:function(){return{modalShow:!1,dataList:[],cusprops:{label:"title",children:"children",isLeaf:"isLeaf"}}},created:(l=Object(m.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.util.request({url:this.action,method:"get",data:{id:1e5,child:0,maxLevel:2,checked:this.value},header:this.header});case 2:200==(t=e.sent).code&&(this.dataList=t.data.dataList);case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),beforeMount:function(){},methods:{onChange:function(){this.value=this.$refs.tree.getCheckedKeys(),this.$emit("input",this.value)},loadNode:function(e,t){var a=this;return Object(m.a)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(0===e.level)return i.abrupt("return",t([{title:"region"}]));i.next=3;break;case 3:setTimeout(Object(m.a)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.util.request({url:a.action,method:"get",data:{id:e.data[a.valueName],child:0,maxLevel:2},header:a.header});case 2:if(200==(n=i.sent).code)return i.abrupt("return",t(n.data.dataList));i.next=5;break;case 5:case"end":return i.stop()}}),i)}))),500);case 4:case"end":return i.stop()}}),i)})))()}},watch:{}},V={name:"XyDeliverFee",components:{XyBuilderFormRegions:Object(f.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"xy-tree-regions"},[a("el-button",{attrs:{type:"default",size:"small"},on:{click:function(t){e.modalShow=!0}}},[e._v("编辑")]),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],ref:"modal",attrs:{"append-to-body":!0,visible:e.modalShow,width:"800px",title:e.modalTitle},on:{"update:visible":function(t){e.modalShow=t}}},[a("el-tree",{ref:"tree",attrs:{data:e.dataList,props:e.cusprops,load:e.loadNode,"default-checked-keys":e.value,"node-key":e.valueName,lazy:"","show-checkbox":""},on:{"check-change":e.onChange}}),a("img",{attrs:{src:"https://i.loli.net/2020/03/24/9Fu1lZbmepVXr2y.png",alt:"中国行政区划图"}})],1)],1)])}),[],!1,null,"8624cdf2",null).exports},props:{item:{},value:{type:Object,default:function(){return{default:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:1,ruleType:1},extend:[]}}},formValues:{},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){return{unit:"kg",columns:[],dataItem:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:0,ruleType:1,delete:""}}},created:function(){switch(this.formValues[this.item.extra.unitField]){case 1:this.unit="kg";break;case 2:this.unit="件"}this.columns=[{title:"运送到",name:"regions",type:"regions",width:"250px",modalShow:!1},{title:"首重("+this.unit+")",name:"firstAmount",type:"input"},{title:"首费(元）",name:"firstFee",type:"input"},{title:"续重("+this.unit+")",name:"moreAmount",type:"input"},{title:"续费(元)",name:"moreFee",type:"input"},{title:"删除",name:"delete",type:"buttons",width:"70px"}],this.value.default||(this.value={default:{regions:[],firstAmount:1,firstFee:8,moreAmount:1,moreFee:2,isDefault:1,ruleType:1},extend:[]})},beforeMount:function(){},methods:{getData:function(){this.$emit("input",this.value)},delrow:function(e){var t=this;return Object(m.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.value.extend.splice(e,1),t.getData();case 2:case"end":return a.stop()}}),a)})))()},addrow:function(){var e=Object.assign({},this.dataItem);this.value.extend.push(e)}},watch:{formValues:{handler:function(e){switch(e[this.item.extra.unitField]){case 1:this.unit="kg";break;case 2:this.unit="件"}this.columns=[{title:"运送到",name:"regions",type:"regions",width:"250px",modalShow:!1},{title:"首重("+this.unit+")",name:"firstAmount",type:"input"},{title:"首费(元）",name:"firstFee",type:"input"},{title:"续重("+this.unit+")",name:"moreAmount",type:"input"},{title:"续费(元)",name:"moreFee",type:"input"},{title:"删除",name:"delete",type:"buttons",width:"70px"}]},deep:!0,immediate:!0}}},$=(a("f0c7"),Object(f.a)(V,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-deliver-fee"},[a("div",{staticClass:"text-error"},[e._v(" 除指定地区外，其余地区的运费采用默认运费。 ")]),a("div",{staticClass:"default flex"},[e._v(" 默认运费： "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.firstAmount,callback:function(t){e.$set(e.value.default,"firstAmount",t)},expression:"value.default.firstAmount"}}),e._v(" "+e._s(e.unit)+" 内， "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.firstFee,callback:function(t){e.$set(e.value.default,"firstFee",t)},expression:"value.default.firstFee"}}),e._v(" 元， 每增加 "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.moreAmount,callback:function(t){e.$set(e.value.default,"moreAmount",t)},expression:"value.default.moreAmount"}}),e._v(" "+e._s(e.unit)+"， 增加运费 "),a("el-input",{attrs:{size:"small"},model:{value:e.value.default.moreFee,callback:function(t){e.$set(e.value.default,"moreFee",t)},expression:"value.default.moreFee"}}),e._v(" 元。 ")],1),a("div",{staticClass:"more m-t-xs"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.value.extend}},e._l(e.columns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.value.extend[i.$index][t.name],callback:function(a){e.$set(e.value.extend[i.$index],t.name,a)},expression:"value.extend[scope.$index][coco.name]"}})]:"buttons"==t.type?[a("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small",type:"error"},on:{click:function(t){return e.delrow(i.$index)}}},[e._v(" 删除 ")])]:e._e(),"regions"==t.type?[a("XyBuilderFormRegions",{attrs:{showModal:i.row.modalShow,modalTitle:"运送到",action:e.item.extra.action,valueName:"id",header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.value.extend[i.$index][t.name],callback:function(a){e.$set(e.value.extend[i.$index],t.name,a)},expression:"value.extend[scope.$index][coco.name]"}})]:[e._v(" "+e._s(e.value.extend[i.$index][t.name])+" ")]]}}],null,!0)})})),1),a("el-button",{staticStyle:{"vertical-align":"middle","margin-right":"15px"},attrs:{size:"small",type:"dashed"},on:{click:e.addrow}},[e._v(" 增加 ")])],1)])}),[],!1,null,"2f15eb43",null).exports),D=new VueAMap.AMapManager,C={props:["text"],template:"<div>{{text}}</div>"},S={name:"Amap",props:{item:{extra:{}},value:{},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){var e=this,t=this;return{amapManager:D,geocoder:"",zoom:12,center:[0,0],loaded:!1,events:{init:function(e){e.getCity((function(e){}))},moveend:function(){},zoomchange:function(){},click:function(a){"position"!=t.item.extra.mapType&&"positionAddress"!=t.item.extra.mapType||(t.position=[a.lnglat.lng,a.lnglat.lat],t.$emit("input",e.value))},dragend:function(a){"position"!=t.item.extra.mapType&&"positionAddress"!=t.item.extra.mapType||(t.position=[a.lnglat.lng,a.lnglat.lat],t.$emit("input",e.value))}},position:[0,0],address:"",polygonList:[],polygonFee:[],polygonFeeActive:0,eventsPolygonFee:{change:function(){e.$refs["polygonFee_"+e.item.name+"_"+e.polygonFeeActive][0].$$getPath()}},polygonFeeColumns:[{title:"名称",name:"name",type:"input",width:"200"},{title:"起送价",name:"price",type:"input"},{title:"配送费",name:"fee",type:"input"},{title:"操作",name:"action",type:"buttons"}],plugin:["ToolBar","Scale","PlaceSearch",{pName:"MapType",defaultType:0,events:{init:function(){}}},{pName:"Geolocation",events:{init:function(e){e.getCurrentPosition((function(e,a){if(a&&a.position){switch(t.center=[a.position.lng,a.position.lat],t.loaded=!0,t.item.extra.mapType){case"position":t.position&&0!=t.position.length&&0!=t.position[0]||(t.position=t.center,t.getData());break;case"positionAddress":t.position&&0!=t.position.length&&0!=t.position[0]||(t.position=t.center,t.geocoder.getAddress(t.position,(function(e,a){"complete"===e&&"OK"===a.info&&(t.address=a.regeocode.formattedAddress)})),t.getData());break;case"polygonList":0==t.polygonList.length&&(t.polygonList=[{strokeColor:"#2b85e4",path:[[t.center[0]-.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]-.01],[t.center[0]-.01,t.center[1]-.01]]}],t.getData());break;case"polygonFee":0==t.polygonFee.length&&(t.polygonFee=[{name:"默认",price:"",fee:"",strokeColor:"#2b85e4",path:[[t.center[0]-.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]+.01],[t.center[0]+.01,t.center[1]-.01],[t.center[0]-.01,t.center[1]-.01]]}],t.getData())}t.$nextTick()}}))}}}],contentRender:function(e){return e(C,{style:{backgroundColor:"#fff"},props:{text:"here"}})}}},created:function(){},mounted:function(){switch(this.item.extra.mapType){case"postion":this.value&&2==this.value.length&&(this.position=this.value);break;case"postionAddress":this.value&&this.value.location&&this.value.address&&(this.position=this.value.location,this.address=this.value.address);break;case"polygonList":this.value&&(this.polygonList=this.value);break;case"polygonFee":if(this.value){for(var e=0;e<this.value.length;e++){for(var t=this.value[e].path,a=0;a<t.length;a++)t[a].lng&&(t[a]=[t[a].lng,t[a].lat]);this.value[e].path=t}this.polygonFee=this.value}}this.geocoder=new AMap.Geocoder({city:"全国"})},methods:{getLocationByAddress:function(){this.address||(alert("请输入地址"),retutn),D.getMap();var e=this;this.geocoder.getLocation(this.address,(function(t,a){"complete"===t&&"OK"===a.info?e.position=[a.geocodes[0].location.lng,a.geocodes[0].location.lat]:alert(a.info)}))},rowClick:function(e,t){this.polygonFeeActive=t},getData:function(){if("position"==this.item.extra.mapType&&(this.value=this.position),"positionAddress"==this.item.extra.mapType&&(this.value={location:this.position,address:this.address}),"polygonList"==this.item.extra.mapType&&(this.value=this.polygonList),"polygonFee"==this.item.extra.mapType){this.value=this.polygonFee;for(var e=0;e<this.value.length;e++){for(var t=this.value[e].path,a=0;a<t.length;a++)t[a].lng&&(t[a]=[t[a].lng,t[a].lat]);this.value[e].path=t}}this.$emit("input",this.value)},addPolygon:function(){this.polygonList.push({strokeColor:"#2b85e4",path:[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]]})},addPolygonFee:function(){this.polygonFee.push({name:"",price:"",fee:"",strokeColor:"#2b85e4",path:[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]]})},restPolygonFee:function(){var e=this.polygonFee;e[this.polygonFeeActive].path=[[this.center[0]-.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]+.01],[this.center[0]+.01,this.center[1]-.01],[this.center[0]-.01,this.center[1]-.01]],this.polygonFee=e},deleteFee:function(e){this.polygonFee.splice(e,1)},getMap:function(){}},watch:{}},T=Object(f.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["polygonFee"==e.item.extra.mapType?a("div",{staticClass:"fee-list"},[a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.polygonFee},on:{"row-click":e.rowClick}},e._l(e.polygonFeeColumns,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.name,label:t.title,width:t.width||"","min-width":t.minWidth||""},scopedSlots:e._u([{key:"default",fn:function(i){return["input"==t.type?[a("el-input",{attrs:{size:"small"},on:{"on-blur":e.getData},model:{value:e.polygonFee[i.$index][t.name],callback:function(a){e.$set(e.polygonFee[i.$index],t.name,a)},expression:"polygonFee[scope.$index][coco.name]"}})]:"buttons"==t.type?[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.deleteFee(i.$index)}}},[e._v("删除")])]:[e._v(" "+e._s(e.polygonFee[i.$index][t.name])+" ")]]}}],null,!0)})})),1)],1):e._e(),"positionAddress"==e.item.extra.mapType?a("div",{staticClass:"m-b-sm flex"},[a("el-input",{staticClass:"m-r-sm",attrs:{size:"medium",type:"input",name:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("el-button",{attrs:{size:"medium",type:"default"},on:{click:function(t){return e.getLocationByAddress()}}},[e._v("定位")])],1):e._e(),a("el-amap",{staticClass:"amap-box",staticStyle:{height:"400px"},attrs:{vid:"amap-"+e.item.name,"amap-manager":e.amapManager,zoom:e.zoom,center:e.center,plugin:e.plugin,events:e.events}},["position"==e.item.extra.mapType||"positionAddress"==e.item.extra.mapType?a("el-amap-marker",{attrs:{vid:"marker-"+e.item.name,draggable:!0,position:e.position}}):e._e(),e._l(e.polygonList,(function(t,i){return"polygonList"==e.item.extra.mapType?a("el-amap-polygon",{key:"index",ref:"polygon-"+e.item.name+"_"+i,refInFor:!0,attrs:{vid:"polygon-"+e.item.name+"_"+i,path:t.path,strokeColor:t.strokeColor,fillColor:"white",fillOpacity:"0.5",draggable:!0,editable:!0}}):e._e()})),e._l(e.polygonFee,(function(t,i){return"polygonFee"==e.item.extra.mapType?a("el-amap-polygon",{key:"index",ref:"polygonFee_"+e.item.name+"_"+i,refInFor:!0,attrs:{vid:"polygonFee_"+e.item.name+"_"+i,path:t.path,strokeColor:e.polygonFeeActive==i?"red":t.strokeColor,fillColor:"white",fillOpacity:"0.5",draggable:!0,editable:!0,events:e.eventsPolygonFee}}):e._e()}))],2),a("div",{staticClass:"toolbar m-t-xs"},[e.loaded?e._e():a("span",[e._v("正在定位")]),("position"==e.item.extra.mapType||"positionAddress"==e.item.extra.mapType)&&0<this.position.length?a("span",[e._v(" 选中: lng = "+e._s(e.position[0])+" lat = "+e._s(e.position[1])+" ")]):e._e(),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.getData()}}},[e._v("保存变动")]),a("el-button",{staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.getMap()}}},[e._v("地图实例")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"polygonList"==e.item.extra.mapType,expression:"item.extra.mapType == 'polygonList'"}],staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.addPolygon()}}},[e._v("增加多边形区域")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"polygonFee"==e.item.extra.mapType,expression:"item.extra.mapType == 'polygonFee'"}],staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.addPolygonFee()}}},[e._v("增加配送区域")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"polygonFee"==e.item.extra.mapType,expression:"item.extra.mapType == 'polygonFee'"}],staticClass:"m-l-sm",attrs:{size:"medium"},on:{click:function(t){return e.restPolygonFee()}}},[e._v("重置当前区域")])],1)],1)}),[],!1,null,"0c5dc013",null).exports,L={name:"XyCascader",props:{item:{},value:{type:[],default:""},header:{type:Object,default:function(){return{cloudId:0,eid:0}}}},data:function(){var e=this;return{content:"",myprops:{lazy:!0,lazyLoad:function(t,a){t.level,setTimeout(Object(m.a)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.util.request({url:e.item.extra.action,data:{value:t.value},method:"get"});case 2:200==(n=i.sent).code?(nodes=n.data.dataList,a(nodes)):e.util.showToast({title:n.msg,icon:"loading",duration:3e3});case 4:case"end":return i.stop()}}),i)}))),2e3)}}}},created:function(){this.content=this.value},methods:{onChange:function(){this.$emit("input",this.content)}},watch:{}},I=Object(f.a)(L,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{disabled:e.item.extra.disabled,data:e.item.extra.options,prop:e.myprops},on:{change:e.onChange},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})}),[],!1,null,"4f5aba03",null).exports,O={name:"XyTagsInput",props:{value:{type:[String,Array]}},data:function(){return{dynamicTags:[],inputVisible:!1,inputValue:""}},created:function(){""==this.value?this.dynamicTags=[]:"string"==typeof this.value?this.dynamicTags=this.value.split(","):this.dynamicTags=this.value},methods:{handleClose:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1),this.$emit("input",this.dynamicTags)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.$emit("input",this.dynamicTags),this.inputVisible=!1,this.inputValue=""}}},F=(a("c070"),Object(f.a)(O,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xt-tags-input"},[e._l(e.dynamicTags,(function(t){return a("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("添加")])],2)}),[],!1,null,"2b0f6076",null).exports),A=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],M=0,j=a("1f38"),z={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},R=function(){return(R=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},B={listeners:[],scriptId:r("tiny-script"),scriptLoaded:!1},E={name:"XyEditorTinymce",components:{"tinymce-vue":{props:z,created:function(){this.elementId=this.$props.id||r("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){var e,t,a,i,n,r,o,l,u,m,c,d;this.element=this.$el,null!==Object(j.a)()?s(this)():this.element&&this.element.ownerDocument&&(e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",a=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=e,r="https://cdn.tiny.cloud/1/"+a+"/tinymce/"+t+"/tinymce.min.js",o=s(this),(i=B).scriptLoaded?o():(i.listeners.push(o),n.getElementById(i.scriptId)||(l=i.scriptId,m=r,c=function(){i.listeners.forEach((function(e){return e()})),i.scriptLoaded=!0},(d=(u=n).createElement("script")).type="application/javascript",d.id=l,d.addEventListener("load",c),d.src=m,u.head&&u.head.appendChild(d))))},beforeDestroy:function(){null!==Object(j.a)()&&Object(j.a)().remove(this.editor)},render:function(e){return this.inlineEditor?(t=e,a=this.elementId,i=this.$props.tagName,t(i||"div",{attrs:{id:a}})):e("textarea",{attrs:{id:this.elementId},style:{visibility:"hidden"}});var t,a,i}}},props:{item:{},value:{type:[String],default:""},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}}},data:function(){return{content:""}},created:function(){this.content=this.value},updated:function(){},methods:{filePickerCallback:function(e){var t=document.createElement("input");t.setAttribute("type","file"),t.onchange=function(){var t,a,i,n=this.files[0],r=new FormData;r.append("files",n),(a=new XMLHttpRequest).withCredentials=!1,a.open("POST",this.item.extra.action),null!==(t=this.header)&&void 0!==t&&t.token?a.setRequestHeader("Authorization",null===(i=this.header)||void 0===i?void 0:i.token):a.setRequestHeader("Authorization",this.util.getToken()),a.onload=function(){var t;200==a.status?(t=JSON.parse(a.responseText))&&"string"==typeof t.location?e(t.data.url):failure("Invalid JSON: "+a.responseText):failure("HTTP Error: "+a.status)},a.send(r)}},imagesUploadHandler:function(e,t,a){var i=this;return Object(m.a)(regeneratorRuntime.mark((function n(){var r,o,s,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=new FormData,(r=new XMLHttpRequest).withCredentials=!1,"upload_oss"==i.item.extra.driver||"oss"==i.item.extra.driver)return n.next=6,i.util.request({url:i.item.extra.ossUrl||"/v1/upload_oss/index/sign",method:"get",header:{CloudId:i.header.cloudId,Eid:i.header.eid}});n.next=10;break;case 6:200==(s=n.sent).code?(i.item.extra.action=s.data.params.host,s.data.params.key=s.data.params.key+Date.parse(new Date)/1e3+e.filename(),i.item.extra.data=s.data.params,r.open("POST",i.item.extra.action),o.append("key",i.item.extra.data.key),o.append("policy",i.item.extra.data.policy),o.append("OSSAccessKeyId",i.item.extra.data.OSSAccessKeyId),o.append("success_action_status",i.item.extra.data.success_action_status),o.append("signature",i.item.extra.data.signature),o.append("host",i.item.extra.data.host),o.append("expire",i.item.extra.data.expire),o.append("file",e.blob(),e.filename()),r.onload=function(){var e;200==r.status?(e=s.data.params.host+"/"+s.data.params.key,t(e)):a("HTTP Error: "+r.status)},r.send(o)):i.util.showToast({title:s.msg,icon:"loading",duration:3e3}),n.next=15;break;case 10:r.open("POST",i.item.extra.action),null!==(l=i.header)&&void 0!==l&&l.token?r.setRequestHeader("Authorization",null===(u=i.header)||void 0===u?void 0:u.token):r.setRequestHeader("Authorization",i.util.getToken()),o.append("file",e.blob(),e.filename()),r.onload=function(){var e;200==r.status?(e=JSON.parse(r.responseText))&&"string"==typeof e.data.url?t(e.data.url):a("Invalid JSON: "+r.responseText):a("HTTP Error: "+r.status)},r.send(o);case 15:case"end":return n.stop()}}),n)})))()}},watch:{content:function(e){this.$emit("input",e)}}},P=Object(f.a)(E,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"xy-editor-tinymce"},[a("tinymce-vue",{ref:"tinymce",attrs:{"api-key":"y1buzf80o0qtt4lt3pfj0yh98ilgq4ts6mf3nwjpqky9ea49",init:{external_plugins:{},ui_container:".builder-form-item",fixed_toolbar_container:!0,init_instance_callback:function(e){},default_link_target:"_blank",paste_data_images:!0,images_upload_url:e.item.extra.action,automatic_uploads:!0,file_picker_types:"file image media",file_picker_callback:e.filePickerCallback,images_upload_handler:e.imagesUploadHandler,language_url:"https://cdn.jsdelivr.net/gh/starideas/xyfront/libs/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:e.item.extra.skin,theme:"silver",branding:!1,plugins:"link lists image code table wordcount fullscreen emoticons print codesample",toolbar:"formatselect fontselect fontsizeselect | link image blockquote codesample | bold italic underline strikethrough | forecolor backcolor  bullist numlist | code fullscreen",height:600,convert_urls:!1,font_formats:"\n                微软雅黑=微软雅黑;\n                宋体=宋体;\n                黑体=黑体;\n                仿宋=仿宋;\n                楷体=楷体;\n                隶书=隶书;\n                幼圆=幼圆;\n                Andale Mono=andale mono,times;\n                Arial=arial, helvetica,\n                sans-serif;\n                Arial Black=arial black, avant garde;\n                Book Antiqua=book antiqua,palatino;\n                Comic Sans MS=comic sans ms,sans-serif;\n                Courier New=courier new,courier;\n                Georgia=georgia,palatino;\n                Helvetica=helvetica;\n                Impact=impact,chicago;\n                Symbol=symbol;\n                Tahoma=tahoma,arial,helvetica,sans-serif;\n                Terminal=terminal,monaco;\n                Times New Roman=times new roman,times;\n                Trebuchet MS=trebuchet ms,geneva;\n                Verdana=verdana,geneva;\n                Webdings=webdings;\n                Wingdings=wingdings,zapf dingbats"}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)}),[],!1,null,"235266ee",null).exports,X={name:"XyBuilderFormItem",components:{XyCascader:I,XyTagsInput:F,XyCheckboxGroup:h,XyBuilderFormImage:v.a,XyBuilderFormPoster:g,XyBuilderFormSku:x,XyBuilderFormSkuPrice:w,XyBuilderDeliverFee:$,XyBuilderFormAmap:T,XyBuilderEditorTinymce:P},props:{prop:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},item:{},formValues:{},formRules:{}},data:function(){return{}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("chunk-2d0b32fa").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderInfo=function(){return a.e("chunk-a43aa60e").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderList=function(){return a.e("chunk-90bcbb08").then(a.bind(null,"114b"))}},created:function(){},beforeMount:function(){},mounted:function(){},methods:{treeOnChange:function(){this.formValues[this.item.name]=this.$refs.tree.getHalfCheckedKeys(),this.formValues[this.item.name]&&(this.formValues[this.item.name]=this.formValues[this.item.name].concat(this.$refs.tree.getCheckedKeys()))},rightButtonModal:function(e){return Object(m.a)(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.extra,n=i="",t.t0=a.pageData.modalType,t.next="list"===t.t0?6:9;break;case 6:case 9:return a.pageData.apiBlank=a.pageData.api+i+"?"+d.a.stringify(n),a.pageData.show=!0,t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})))()},formlistAddrow:function(e){this.formValues[e].push(new Object)},formlistDelrow:function(e,t){this.formValues[e].splice(t,1)},formatDates:function(e,t){return[this.util.formatDate(e[0],t),this.util.formatDate(e[1],t)]}},watch:{item:function(){}}},N=(a("1e5c"),{name:"XyBuilderForm",components:{XyBuilderformItem:Object(f.a)(X,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"builder-form-item"},["tabs"==e.item.type?[a("el-tabs",{attrs:{value:e.item.extra.options[0].name,animated:!1}},[e._l(e.item.extra.options,(function(t,i){return[a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[e._l(t.options,(function(i,n){return[a("XyBuilderFormItem",{key:n,ref:"formitemtab_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formValues,formRules:e.formRules,header:e.header,prop:e.item.name}})]}))],2)]}))],2)]:a("el-form-item",{attrs:{label:e.item.title,prop:e.prop,rules:e.formRules[e.item.name]?e.formRules[e.item.name]:[]}},["divider"==e.item.type?[a("el-divider")]:"hidden"==e.item.type?[a("span",{staticClass:"hidden"},[e._v(e._s(e.item.value))])]:"static"==e.item.type?[a("span",[e._v(e._s(e.item.value))]),a("el-input",{staticClass:"hidden",attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"staticUrl"==e.item.type?[a("a",{attrs:{href:e.item.value,target:"_blank"}},[e._v(e._s(e.item.extra.placeholder))])]:"text"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"password"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"password",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"url"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"url",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"email"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"email",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"number"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"number",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"digit"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"text",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tel"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"tel",placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"textarea"==e.item.type||"array"==e.item.type?[a("el-input",{attrs:{disabled:e.item.extra.disabled,type:"textarea",autosize:{minRows:e.item.extra.minRows?e.item.extra.minRows:3,maxRows:e.item.extra.maxRows?e.item.extra.maxRows:10},placeholder:e.item.extra.placeholder},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"select"==e.item.type?[a("el-select",{staticClass:"full",attrs:{filterable:!0,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"selects"==e.item.type?[a("el-select",{staticClass:"full",attrs:{filterable:!0,multiple:!0,disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(e,t,i){return a("el-option",{key:i,attrs:{label:e.title,value:e.value}})})),1)]:"radio"==e.item.type?[a("el-radio-group",{model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}},e._l(e.item.extra.options,(function(t,i,n){return a("el-radio",{key:n,attrs:{disabled:e.item.extra.disabled,label:t.value}},[t.icon?a("i",{class:t.icon}):e._e(),a("span",[e._v(e._s(t.title))])])})),1)]:"checkbox"==e.item.type?[a("XyCheckboxGroup",{attrs:{disabled:e.item.extra.disabled,options:e.item.extra.options},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"switch"==e.item.type?[a("el-switch",{attrs:{disabled:e.item.extra.disabled,"active-value":e.item.extra.options[1].value,"active-text":e.item.extra.options[1].title,"inactive-value":e.item.extra.options[0].value,"inactive-text":e.item.extra.options[0].title},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"slider"==e.item.type?[a("el-slider",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"tags"==e.item.type?[a("XyTagsInput",{model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"daterangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"datetimerangepicker"==e.item.type?[a("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择日期区间","start-placeholder":"开始时间","end-placeholder":"结束时间","range-separator":"至",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timepicker"==e.item.type?[a("el-time-select",{attrs:{type:"time",placeholder:"选择时间",disabled:e.item.extra.disabled,"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"timerangepicker"==e.item.type?[a("el-time-select",{attrs:{type:"timerange","is-range":"",placeholder:"选择时间区间",disabled:e.item.extra.disabled,"value-format":e.item.extra.format?e.item.extra.format:"HH:mm:ss"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"rate"==e.item.type?[a("el-rate",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"cascader"==e.item.type||"region"==e.item.type?[a("XyCascader",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"colorpicker"==e.item.type?[a("el-color-picker",{attrs:{disabled:e.item.extra.disabled},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"image"==e.item.type?[a("XyBuilderFormImage",{attrs:{item:e.item,img:{name:"",title:""},header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"imageflex"==e.item.type?[a("div",{staticStyle:{display:"flex"}},e._l(e.item.extra.options,(function(t,i){return a("div",{key:i,staticStyle:{"padding-right":"15px"}},[a("XyBuilderFormImage",{attrs:{item:e.item,img:t,header:e.header},model:{value:e.formValues[e.item.name][t.value],callback:function(a){e.$set(e.formValues[e.item.name],t.value,a)},expression:"formValues[item.name][img.value]"}})],1)})),0)]:"images"==e.item.type?[a("XyBuilderFormImage",{attrs:{uploadType:"images",item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"file"==e.item.type?[a("XyBuilderFormFile",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"files"==e.item.type?[a("XyBuilderFormFiles",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"poster"==e.item.type?[a("XyBuilderFormPoster",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"selectlist"==e.item.type?[e._v(" "+e._s(e.formValues[e.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v(" 点击选择 ")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width||600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,header:e.header,config:{listSelectType:"radio"},api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"selectlists"==e.item.type?[e._v(" "+e._s(e.formValues[e.item.name])+" "),a("a",{staticStyle:{"font-size":"13px","margin-right":"3px","margin-bottom":"5px"},on:{click:function(t){return e.rightButtonModal(e.item)}}},[e._v(" 点击选择 ")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.item.extra.pageData.show,width:e.item.extra.pageData.width||600,title:e.item.extra.pageData.title},on:{"update:visible":function(t){return e.$set(e.item.extra.pageData,"show",t)}}},[a("XyBuilderList",{ref:"listselect_"+e.item.name,attrs:{showActions:!0,header:e.header,config:{listSelectType:"checkbox"},api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show},on:{"close-model":function(t){e.item.extra.pageData.show=!1}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"formlist"==e.item.type?[a("el-row",e._l(e.item.extra.options,(function(t,i,n){return a("div",{key:n},[a("el-col",{attrs:{span:t.span}},[e._v(" "+e._s(t.title)+" ")])],1)})),0),e._l(e.formValues[e.item.name],(function(t,i,n){return a("el-row",{key:n},[e._l(e.item.extra.options,(function(t,n,r){return a("div",{key:r},[a("el-col",{attrs:{span:t.span}},[e.item.extra.options[n].type&&"text"==e.item.extra.options[n].type||e.item.extra.options[n].type&&"switch"==e.item.extra.options[n].type?[a("el-input",{model:{value:e.formValues[e.item.name][i][t.key],callback:function(a){e.$set(e.formValues[e.item.name][i],t.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]:e.item.extra.options[n].type&&"datetimepicker"==e.item.extra.options[n].type?[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.item.extra.disabled,format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.formValues[e.item.name][i][t.key],callback:function(a){e.$set(e.formValues[e.item.name][i],t.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]:[a("el-input",{model:{value:e.formValues[e.item.name][i][t.key],callback:function(a){e.$set(e.formValues[e.item.name][i],t.key,a)},expression:"formValues[item.name][key2][item3.key]"}})]],2)],1)})),a("Button",{attrs:{type:"dashed"},on:{click:function(t){return e.formlistDelrow(e.item.name,i)}}},[e._v("删除")])],2)})),a("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"dashed",icon:"md-add"},on:{click:function(t){return e.formlistAddrow(e.item.name)}}},[e._v(" 增加一行 ")])]:"datalist"==e.item.type?[a("XyBuilderList",{ref:"list_"+e.item.name,attrs:{header:e.header,api:e.item.extra.pageData.apiBlank,show:e.item.extra.pageData.show}})]:"checkboxtree"==e.item.type?[a("el-tree",{ref:"tree",attrs:{data:e.item.extra.data,props:{children:"children",label:"title"},"default-checked-keys":e.item.value,"node-key":e.item.extra.nodeKey||"id","show-checkbox":""},on:{"check-change":e.treeOnChange},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("span",{staticClass:"custom-tree-node"},e._l(e.item.extra.columns,(function(t){return a("span",{key:t.id,staticClass:"m-r"},[e._v(" "+e._s(i[t.name])+" ")])})),0)}}])})]:"markdown"==e.item.type?[a("div",[a("mavon-editor",{staticStyle:{"min-height":"500px"},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})],1)]:"html"==e.item.type||"tinymce"==e.item.type?[a("XyBuilderEditorTinymce",{attrs:{item:e.item,header:e.header},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"sku"==e.item.type?[a("XyBuilderFormSku",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid}},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"skuPrice"==e.item.type?[a("XyBuilderFormSkuPrice",{attrs:{item:e.item,header:{cloudId:e.header.cloudId,eid:e.header.eid},formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"fee"==e.item.type?[a("XyBuilderDeliverFee",{attrs:{item:e.item,header:e.header,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:"amap"==e.item.type?[a("XyBuilderFormAmap",{attrs:{item:e.item,header:e.header,formValues:e.formValues},model:{value:e.formValues[e.item.name],callback:function(t){e.$set(e.formValues,e.item.name,t)},expression:"formValues[item.name]"}})]:[e._v(" "+e._s(e.item.name)+"未指定类型 ")],a("div",{staticStyle:{color:"#aaa","font-size":"12px"}},[e._v(e._s(e.item.extra.tip))])],2)],2)}),[],!1,null,null,null).exports,XySafetyVerify:a("c43b").a},props:{api:"",header:{type:Object,default:function(){return{cloudId:0,eid:0}}},show:!1,predata:"",showDev:!1},data:function(){return{loading:!1,subloading:!1,ref:"form",formData:"",labelPosition:"left",labelWidth:"100px",res:{},addNext:!1,verifyData:""}},beforeCreate:function(){this.$options.components.XyBuilderTab=function(){return a.e("chunk-2d0b32fa").then(a.bind(null,"26ff"))},this.$options.components.XyBuilderInfo=function(){return a.e("chunk-a43aa60e").then(a.bind(null,"5d93"))},this.$options.components.XyBuilderList=function(){return a.e("chunk-90bcbb08").then(a.bind(null,"114b"))}},created:function(){this.ref="form_"+(new Date).getTime(),this.predata&&(this.formData=this.predata)},beforeMount:function(){},mounted:function(){this.loadData()},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},watch:{"formData.formValues":{handler:function(e){for(var t in this.formData.formItems)if(this.formData.formItems[t].extra.con){var a,i=this.formData.formItems[t].extra.con,n=0;for(a in i)switch(i[a][1]){case"=":e[i[a][0]]===i[a][2]&&n++;break;case">":e[i[a][0]]>i[a][2]&&n++;break;case">=":e[i[a][0]]>=i[a][2]&&n++;break;case"<":e[i[a][0]]<i[a][2]&&n++;break;case"<=":e[i[a][0]]<=i[a][2]&&n++;break;case"in":i[a][2].includes(e[i[a][0]])&&n++;break;case"has":e[i[a][0]].includes(i[a][2])&&n++;break;case"between":i[a][2][0]<e[i[a][0]]<i[a][2][1]&&n++}n===i.length?this.formData.formItems[t].extra.hide=!1:this.formData.formItems[t].extra.hide=!0}},deep:!0,immediate:!0},show:function(e){1==e&&this.loadData()}},methods:{loadData:function(){var e=arguments,t=this;return Object(m.a)(regeneratorRuntime.mark((function a(){var i,n,r,o,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=0<e.length&&void 0!==e[0]?e[0]:"",t.formData="",t.loading=!0,n=t,setTimeout((function(){n.loading=!1}),5e3),""!=i&&(t.api=i),t.api)return a.next=9,t.util.request({url:t.api,method:"get",header:{CloudId:null===(r=t.header)||void 0===r?void 0:r.cloudId,Eid:null===(o=t.header)||void 0===o?void 0:o.eid}});a.next=12;break;case 9:s=a.sent,t.loading=!1,"200"==s.code?(s.data.formData.config||(s.data.formData.config={}),s.data.formData.formItems.forEach((function(e){switch(e.type){case"radio":case"checkbox":break;case"imageflex":if(s.data.formData.formValues[e.name]&&s.data.formData.formValues[e.name].constructor!==Object){var a,i={},n=Object(u.a)(e.extra.options);try{for(n.s();!(a=n.n()).done;)i[a.value.value]=""}catch(e){n.e(e)}finally{n.f()}s.data.formData.formValues[e.name]=i}break;case"datepicker":s.data.formData.formValues[e.name]=t.util.formatDate(s.data.formData.formValues[e.name],"yyyy-MM-dd");break;case"datetimepicker":s.data.formData.formValues[e.name]=t.util.formatDate(s.data.formData.formValues[e.name],"yyyy-MM-dd HH:mm");break;case"daterangepicker":s.data.formData.formValues[e.name]=t.formatDates(s.data.formData.formValues[e.name],"yyyy-MM-dd");break;case"datetimerangepicker":s.data.formData.formValues[e.name]=t.formatDates(s.data.formData.formValues[e.name],"yyyy-MM-dd HH:mm")}})),t.formData=s.data.formData):t.res=s;case 12:case"end":return a.stop()}}),a)})))()},submit:function(){var e=this;this.subloading=!0;var t=this;setTimeout((function(){t.subloading=!1}),5e3);var a=!1;if(0==this.formData.formRules.length)a=!0;else if(0<this.formData.formTabs.length){for(var i="",n=0;n<this.formData.formTabs.length;n++)this.$refs[this.ref+"_"+this.formData.formTabs[n].name][0].validate((function(e){i+=e?"true":"false"}));-1==i.search("false")&&(a=!0)}else this.$refs[this.ref].validate((function(t){var i;t?a=!0:e.$store.state.app.uiAudio&&((i=new Audio).src=Object({NODE_ENV:"production",VUE_APP_BASE_DOMAIN:"http://t27.test.com",VUE_APP_BASE_URL:"https://otc.demo.jiangruyi.com/api/",VUE_APP_I18N_FALLBACK_LOCALE:"zh",VUE_APP_I18N_LOCALE:"zh",VUE_APP_IS_DEMO:"false",BASE_URL:"https://cdn.jsdelivr.net/gh/starideas/xyfront/vue/vue-otc-default/dist/"}).VUE_APP_AUDIO_OPEN,i.play())}));return a?this.submitForm():this.subloading=!1},submitForm:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formData.formValues,e.verifyData&&(a._verify=e.verifyData),t.next=4,e.util.request({url:e.api,method:e.formData.formMethod,data:a,header:{CloudId:e.header.cloudId,Eid:e.header.eid}});case 4:if("200"==(i=t.sent).code)if(e.verifyData="",e.util.showToast({title:i.msg,icon:"success",duration:1e3}),i.data.url)0!=i.data.url.indexOf("http")?e.$router.push(i.data.url):window.open(i.data.url);else if(e.addNext)if(0<e.formData.formTabs.length)for(n=0;n<e.formData.formTabs.length;n++)e.$refs[e.ref+"_"+e.formData.formTabs[n].name][0].resetFields();else e.$refs[e.ref].resetFields();else e.$refs.sv.close(),i.data.noback||e.$emit("close-model",!0);else 401003==i.code?e.$refs.sv.open(i.data.verifyList):e.res=i;return e.subloading=!1,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("close-model",!1)}}}),H=(a("11ee"),Object(f.a)(N,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"xy-builder-comp xy-builder-wrap-form",attrs:{"element-loading-text":"拼命加载中"}},[""!=e.formData?a("div",[e.formData.alertList&&e.formData.alertList.top?e._l(e.formData.alertList.top,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,effect:"dark",closable:!1}},[a("div",{domProps:{innerHTML:e._s(t.desc)}},[e._v(e._s(t.desc))])])})):e._e(),0<e.formData.formTabs.length?[a("el-tabs",{attrs:{value:e.formData.formTabs[0].name}},[e._l(e.formData.formTabs,(function(t,i){return[t.formItems&&0<t.formItems.length?a("el-tab-pane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[a("el-form",{ref:e.ref+"_"+t.name,refInFor:!0,attrs:{model:e.formData.formValues[t.name].tabValues,"label-position":e.formData.config.labelPosition||e.labelPosition,"label-width":e.labelWidth+""},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(t.formItems,(function(i,n){return[i.extra.hide||i.extra.isDev&&!e.showDev?e._e():a("XyBuilderformItem",{key:n,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,formValues:e.formData.formValues[t.name].tabValues,formRules:t.formRules,header:e.header,prop:i.name}})]}))],2)],1):e._e()]}))],2)]:[a("el-form",{ref:e.ref,attrs:{size:"medium",model:e.formData.formValues,"status-icon":!0,"label-position":e.formData.config.labelPosition||e.labelPosition,"label-width":e.formData.config.labelWidth||e.labelWidth},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{type:"flex",gutter:0}},[a("el-col",{staticClass:"form-top",attrs:{span:24}},[e._l(e.formData.formItems,(function(t,i){return[""==t.extra.position?[t.extra.hide||t.extra.isDev&&!e.showDev?e._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name}})]:e._e()]}))],2)],1),a("el-row",{staticClass:"form-label-top",attrs:{gutter:20}},[a("el-col",{staticClass:"form-left",attrs:{xs:24,sm:24,md:24,lg:17}},[e._l(e.formData.formItems,(function(t,i){return["left"==t.extra.position?[t.extra.hide||t.extra.isDev&&!e.showDev?e._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name}})]:e._e()]}))],2),a("el-col",{staticClass:"form-right",attrs:{xs:24,sm:24,md:24,lg:6}},[e._l(e.formData.formItems,(function(t,i){return["right"==t.extra.position?[t.extra.hide||t.extra.isDev&&!e.showDev?e._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name}})]:e._e()]}))],2)],1),a("el-row",{attrs:{type:"flex",gutter:0}},[a("el-col",{staticClass:"form-bottom",attrs:{span:24}},[e._l(e.formData.formItems,(function(t,i){return["bottom"==t.extra.position?[t.extra.hide||t.extra.isDev&&!e.showDev?e._e():a("XyBuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,formValues:e.formData.formValues,formRules:e.formData.formRules,header:e.header,prop:t.name}})]:e._e()]}))],2)],1)],1)],e.formData.alertList&&e.formData.alertList.bottom?e._l(e.formData.alertList.bottom,(function(t,i){return a("el-alert",{key:i,attrs:{type:t.type,"show-icon":!1,closable:!1,effect:"dark"}},[a("div",{domProps:{innerHTML:e._s(t.desc)}})])})):e._e(),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.res.msg,expression:"res.msg"}],attrs:{type:"error","show-icon":"",closable:""},on:{"on-close":function(t){e.res={}}}},[e._v(e._s(e.res.msg))]),a("div",{staticClass:"m-t m-b flex footer-buttons"},[a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength||"120px"}},[a("el-button",{staticClass:"full",attrs:{loading:e.subloading,type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" "+e._s(e.formData.config.submitButtonTitle||"确认")+" ")])],1),a("div",{staticClass:"item",style:{width:e.formData.config.footerButtonLength||"120px"}},[a("el-button",{staticClass:"full",attrs:{type:"default"},on:{click:function(t){return e.cancel()}}},[e._v(" "+e._s(e.formData.config.submitCancelTitle||"取消")+" ")])],1)]),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:this.formData.config.continue&&"post"==this.formData.formMethod,expression:"this.formData.config.continue && this.formData.formMethod == 'post'"}],model:{value:e.addNext,callback:function(t){e.addNext=t},expression:"addNext"}},[e._v("继续录入下一条")])],2):e._e(),a("XySafetyVerify",{ref:"sv",on:{"verify-request":e.submitForm},model:{value:e.verifyData,callback:function(t){e.verifyData=t},expression:"verifyData"}})],1)}),[],!1,null,"04551e2e",null));t.default=H.exports},"4df4":function(e,t,a){"use strict";var i=a("0366"),n=a("7b0b"),r=a("9bdd"),o=a("e95a"),s=a("50c4"),l=a("8418"),u=a("35a1");e.exports=function(e,t,a){var m,c,d,p,f,h,v=n(e),y="function"==typeof this?this:Array,g=arguments.length,b=1<g?t:void 0,x=void 0!==b,k=u(v),w=0;if(x&&(b=i(b,2<g?a:void 0,2)),null==k||y==Array&&o(k))for(c=new y(m=s(v.length));w<m;w++)h=x?b(v[w],w):v[w],l(c,w,h);else for(f=(p=k.call(v)).next,c=new y;!(d=f.call(p)).done;w++)h=x?r(p,b,[d.value,w],!0):d.value,l(c,w,h);return c.length=w,c}},"54c1":function(e,t,a){},"5a34":function(e,t,a){var i=a("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"78e4":function(e,t,a){"use strict";a("c975"),a("a434"),a("b0c0"),a("d3b7"),a("96cf");var i=a("1da1"),n={name:"Upload",props:{item:{},header:{type:Object,default:function(){return{cloudId:0,eid:0,token:""}}},value:{type:[Array,String],default:function(){return[]}},uploadType:{type:String,default:"image"},img:{type:Object,default:function(){return{value:"",title:""}}}},data:function(){return{uploadName:"file",headerData:{},fileList:[],limit:1,listType:"",dialogImageUrl:"",dialogVisible:!1}},created:function(){switch(this.uploadType){case"image":this.listType="picture",""==this.value?this.fileList=[]:this.fileList=[{name:this.item.name,url:this.value}];break;case"images":this.listType="picture-card","string"==typeof this.value?this.fileList=[]:this.fileList=this.value}this.headerData={Authorization:this.header.token?this.header.token:this.util.getToken()},this.item.extra.limit?this.limit=this.item.extra.limit:"images"==this.uploadType&&(this.limit=30)},beforeMount:function(){},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleExceed:function(){this.$message.warning("最多上传"+this.limit+"个文件")},handleSuccess:function(e,t,a){"upload_oss"==this.item.extra.driver||"oss"==this.item.extra.driver?t.url=this.item.extra.data.host+"/"+this.item.extra.data.key:200==e.code?t.url=e.data.url:this.$message({message:e.msg,type:"warning"}),this.fileList=a,1==this.limit?this.$emit("input",a[0].url):this.$emit("input",a)},handleRemove:function(e){this.fileList.splice(this.fileList.indexOf(e),1),1==this.limit?this.$emit("input",""):this.$emit("input",this.fileList),this.fileList},handleBeforeUpload:function(e){var t=this,a=this.item.extra.maxSize?this.item.extra.maxSize:512;return e.size/1024>a?(this.$message({message:"上传文件大小不能超过 "+a+"KB!",type:"warning"}),!1):"upload_oss"==t.item.extra.driver||"upload_oss"==t.item.extra.driver?new Promise(function(){var a=Object(i.a)(regeneratorRuntime.mark((function a(i,n){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.util.request({url:"/v1/upload_oss/index/sign",method:"get",header:{CloudId:t.header.cloudId,Eid:t.header.eid}});case 2:200==(r=a.sent).code?(t.item.extra.action=r.data.params.host,r.data.params.key=r.data.params.key+e.name,t.item.extra.data=r.data.params,i()):t.$message({message:r.msg,type:"warning"});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()):void 0}},watch:{}},r=(a("3341"),a("2877")),o=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-box",class:e.fileList.length>=e.limit?"hidden-up-btn":""},[a("el-upload",{directives:[{name:"show",rawName:"v-show",value:""==e.value||"images"==e.uploadType,expression:"value == '' || uploadType == 'images'"}],ref:"upload_"+e.item.name,class:"upload-"+e.uploadType,attrs:{drag:!0,"show-file-list":!0,"list-type":e.listType,headers:e.headerData,limit:e.limit,"file-list":e.fileList,"on-preview":e.handlePictureCardPreview,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"on-remove":e.handleRemove,"before-upload":e.handleBeforeUpload,data:e.item.extra.data,name:e.uploadName,type:"drag",action:e.item.extra.action}},[e.fileList.length>=e.limit&&1==e.limit&&"image"==e.uploadType?[a("img",{attrs:{src:e.fileList[0].url}})]:["image"==e.uploadType?[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"font-sm text-gray lh-1-2"},[e._v(" "+e._s(e.item.extra.tip?e.item.extra.tip:"只能上传jpg/png文件，且不超过"+e.item.extra.maxSize+"KB")+" ")])]:"images"==e.uploadType?[a("i",{staticClass:"el-icon-plus"})]:e._e()],a("el-dialog",{attrs:{"append-to-body":!0,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl}})])],2),e.img.title&&""!==e.img.title?a("div",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.img.title)+" ")]):e._e()],1)}),[],!1,null,"35da5353",null);t.a=o.exports},"841c":function(e,t,a){"use strict";var i=a("d784"),n=a("825a"),r=a("1d80"),o=a("129f"),s=a("14c3");i("search",1,(function(e,t,a){return[function(t){var a=r(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,a):new RegExp(t)[e](String(a))},function(e){var i=a(t,e,this);if(i.done)return i.value;var r=n(e),l=String(this),u=r.lastIndex;o(u,0)||(r.lastIndex=0);var m=s(r,l);return o(r.lastIndex,u)||(r.lastIndex=u),null===m?-1:m.index}]}))},a434:function(e,t,a){"use strict";var i=a("23e7"),n=a("23cb"),r=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),u=a("8418"),m=a("1dde"),c=a("ae40"),d=m("splice"),p=c("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!d||!p},{splice:function(e,t){var a,i,m,c,d,p,v=s(this),y=o(v.length),g=n(e,y),b=arguments.length;if(0===b?a=i=0:i=1===b?(a=0,y-g):(a=b-2,h(f(r(t),0),y-g)),9007199254740991<y+a-i)throw TypeError("Maximum allowed length exceeded");for(m=l(v,i),c=0;c<i;c++)(d=g+c)in v&&u(m,c,v[d]);if(a<(m.length=i)){for(c=g;c<y-i;c++)p=c+a,(d=c+i)in v?v[p]=v[d]:delete v[p];for(c=y;y-i+a<c;c--)delete v[c-1]}else if(i<a)for(c=y-i;g<c;c--)p=c+a-1,(d=c+i-1)in v?v[p]=v[d]:delete v[p];for(c=0;c<a;c++)v[c+g]=arguments[c+2];return v.length=y-i+a,m}})},a630:function(e,t,a){var i=a("23e7"),n=a("4df4");i({target:"Array",stat:!0,forced:!a("1c7e")((function(e){Array.from(e)}))},{from:n})},ab13:function(e,t,a){var i=a("b622")("match");e.exports=function(t){var a=/./;try{"/./"[t](a)}catch(e){try{return a[i]=!1,"/./"[t](a)}catch(e){}}return!1}},b0c0:function(e,t,a){var i=a("83ab"),n=a("9bf2").f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/;!i||"name"in r||n(r,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b493:function(e,t,a){},b85c:function(e,t,a){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function n(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw o}}}}a.d(t,"a",(function(){return n})),a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),a("a630"),a("fb6a"),a("b0c0"),a("25f0")},c070:function(e,t,a){"use strict";var i=a("493f");a.n(i).a},c28b:function(e,t,a){},c43b:function(e,t,a){"use strict";a("96cf");var i=a("1da1"),n={name:"xySafetyVerify",components:{XySendVerify:a("160b").a},props:{value:{type:[String,Object],default:""}},data:function(){return{dialogVisible:!1,verifyList:[],loading:!1,form:{paypwd:"",password:"",emailVerify:"",emailToken:"",mobileVerify:"",mobileToken:"",gauth:""},rule:{}}},created:function(){},methods:{getVerifyToken:function(e){this.form.emailToken=e.token},getMobileVerifyToken:function(e){this.form.mobileToken=e.token},open:function(e){this.verifyList=e,this.getRule(),this.dialogVisible=!0},eclose:function(){this.$emit("cancel")},close:function(){this.dialogVisible=!1},handleSubmit:function(){var e=this;return Object(i.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,a=e,setTimeout((function(){a.loading=!1}),5e3),e.$emit("input",e.form),e.$emit("verify-request"),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},getRule:function(){for(var e in this.verifyList)switch(this.verifyList[e]){case"email":this.rule.email=[{required:!0,message:"请填写邮箱验证码",trigger:"blur"},{type:"string",min:6,message:"至少6位",trigger:"blur"}];break;case"mobile":this.rule.mobile=[{required:!0,message:"请填写手机验证码",trigger:"blur"},{type:"string",min:6,message:"至少6位",trigger:"blur"}];break;case"gauth":this.rule.gauth=[{required:!0,message:"请填写谷歌验证码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;case"paypwd":this.rule.paypwd=[{required:!0,message:"请填写支付密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}];break;case"password":this.rule.password=[{required:!0,message:"请填写登录密码",trigger:"blur"},{type:"string",min:6,message:"密码至少6位",trigger:"blur"}]}}}},r=a("2877"),o=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"append-to-body":"",title:"安全验证",visible:e.dialogVisible,width:"450px"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.eclose}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[0<=e.verifyList.indexOf("email")?a("el-form-item",{attrs:{label:"邮箱验证码",prop:"emailVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入邮箱验证码"},model:{value:e.form.emailVerify,callback:function(t){e.$set(e.form,"emailVerify",t)},expression:"form.emailVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/email/verify/send",type:"邮箱",noNeedAccount:!0,title:"安全验证"},on:{verifysuccess:e.getVerifyToken},slot:"append"})],1)],1):e._e(),0<=e.verifyList.indexOf("mobile")?a("el-form-item",{attrs:{label:"手机验证码",prop:"mobileVerify"}},[a("el-input",{attrs:{size:"large",autocomplete:"off",type:"text",prefix:"ios-lock-outline",placeholder:"请输入手机验证码"},model:{value:e.form.mobileVerify,callback:function(t){e.$set(e.form,"mobileVerify",t)},expression:"form.mobileVerify"}},[a("XySendVerify",{attrs:{slot:"append",url:"/v1/sms/verify/send",type:"手机号",noNeedAccount:!0,title:"安全验证"},on:{verifysuccess:e.getMobileVerifyToken},slot:"append"})],1)],1):e._e(),0<=e.verifyList.indexOf("gauth")?a("el-form-item",{attrs:{label:"谷歌验证码",prop:"gauth"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入谷歌验证码"},model:{value:e.form.gauth,callback:function(t){e.$set(e.form,"gauth",t)},expression:"form.gauth"}})],1):e._e(),0<=e.verifyList.indexOf("paypwd")?a("el-form-item",{attrs:{label:"支付密码",prop:"paypwd"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入6-18位支付密码"},model:{value:e.form.paypwd,callback:function(t){e.$set(e.form,"paypwd",t)},expression:"form.paypwd"}})],1):e._e(),0<=e.verifyList.indexOf("password")?a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("el-input",{attrs:{size:"large",type:"password",prefix:"ios-lock-outline",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e(),a("el-button",{staticClass:"full submit-btn",attrs:{size:"large",loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v(" 确认 ")])],1)],1)}),[],!1,null,"665ad79b",null);t.a=o.exports},caad:function(e,t,a){"use strict";var i=a("23e7"),n=a("4d64").includes,r=a("44d2");i({target:"Array",proto:!0,forced:!a("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return n(this,e,1<arguments.length?t:void 0)}}),r("includes")},e8fa:function(e,t,a){"use strict";var i=a("2782");a.n(i).a},f0c7:function(e,t,a){"use strict";var i=a("b493");a.n(i).a},fb6a:function(e,t,a){"use strict";var i=a("23e7"),n=a("861d"),r=a("e8b5"),o=a("23cb"),s=a("50c4"),l=a("fc6a"),u=a("8418"),m=a("b622"),c=a("1dde"),d=a("ae40"),p=c("slice"),f=d("slice",{ACCESSORS:!0,0:0,1:2}),h=m("species"),v=[].slice,y=Math.max;i({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var a,i,m,c=l(this),d=s(c.length),p=o(e,d),f=o(void 0===t?d:t,d);if(r(c)&&(("function"==typeof(a=c.constructor)&&(a===Array||r(a.prototype))||n(a)&&null===(a=a[h]))&&(a=void 0),a===Array||void 0===a))return v.call(c,p,f);for(i=new(void 0===a?Array:a)(y(f-p,0)),m=0;p<f;p++,m++)p in c&&u(i,m,c[p]);return i.length=m,i}})},fcbb:function(e,t,a){},ff86:function(e,t,a){"use strict";var i=a("54c1");a.n(i).a}}]);