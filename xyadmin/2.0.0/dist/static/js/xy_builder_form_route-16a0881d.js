import{_ as e,c as t}from"../index-7eef119b.js";import{B as r}from"./index-e854750e.js";const s={name:"XyBuilderFormRoute",components:{XyBuilderForm:t,BreadcurmbComp:r},data(){return{api:this.$route.meta.api}},created:function(){},beforeMount:function(){this.loadData()},methods:{closePage(){if(this.$store.state.tagsview.showNavtab){let e=this.$route;this.$store.dispatch("tagsview/delVisitedViews",{baseUrl:this.$store.state.app.baseUrl+this.$store.state.menu.currentSite,data:e}).then((e=>{let t="";for(var r in this.$store.state.tagsview.visitedviews)t=r;let s=this.$store.state.tagsview.visitedviews[t];s?this.$router.push(s.fullPath):this.$router.push("/"),this.$forceUpdate()}))}else this.$router.back(-1);this.refreshData()},loadData(){if("dyform"==this.$route.meta.dytype){let t=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var e in this.$route.params)t=t+"/"+this.$route.params[e];if(Object.keys(this.$route.query).length>0){let r="?";for(var e in this.$route.query)r=r+e+"="+this.$route.query[e]+"&";t+=r}this.api=t}},refreshData(){this.$refs.xy_builder.loadData()}},watch:{$route(){}}},a=window.Vue.resolveComponent,o=window.Vue.createVNode,i=window.Vue.openBlock,u=window.Vue.createElementBlock,h={class:"xy-builder-route"};var n=e(s,[["render",function(e,t,r,s,n,d){const l=a("BreadcurmbComp"),p=a("XyBuilderForm");return i(),u("div",h,[o(l,{onRefreshPage:d.refreshData},null,8,["onRefreshPage"]),o(p,{api:n.api,ref:"xy_builder",header:e.$route.meta.header,onClose:d.closePage,showDev:e.$store.state.app.showDev},null,8,["api","header","onClose","showDev"])])}]]);export{n as default};
