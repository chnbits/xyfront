import{_ as e}from"./_plugin-vue_export-helper-1b428a4d.js";const t={props:{outUrl:{type:String,default:()=>null}},data:()=>({resData:null,cssId:null}),created(){},computed:{currentView(){if(!this.resData)return{template:"<div class='remoteInfo'>...</div>"};const e=this.resolveStr(this.resData);let t=new Function(`return ${e.sctipts.slice(e.sctipts.indexOf("{"),e.sctipts.lastIndexOf("}")+1)}`)();if(t.template=e.templates,this.$el.setAttribute("class",`remote css${this.cssId}`),!document.querySelector(`style[id=css${this.cssId}]`)){let t=`\n                    .css${this.cssId}{\n                        ${e.styles}\n                    }\n                `;this.resolveCss(t)}return t}},watch:{outUrl(){this.getVueComp()}},mounted(){this.getVueComp()},methods:{getId(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}))},resolveCss(e){less.render(e).then(function(e){let t=document.createElement("style");if(t.setAttribute("type","text/css"),t.setAttribute("id","css"+this.cssId),t.styleSheet)t.styleSheet.cssText=e.css;else{var s=document.createTextNode(e.css);t.appendChild(s)}var r=document.getElementsByTagName("head");r.length?r[0].appendChild(t):document.documentElement.appendChild(t)}.bind(this))},resolveStr:e=>({templates:e.match(/<template>([\s\S]*)<\/template>/)[1],sctipts:e.match(/<script.*>([\s\S]*)<\/script>/)[1],styles:e.match(/<style.*>([\s\S]*)<\/style>/)[1]}),async getVueComp(){if(!this.outUrl)return!1;const e=await axios.get(this.$props.outUrl);this.cssId=this.getId(),this.resData=e.data},async loadData(){this.getVueComp()}}},s=window.Vue.resolveDynamicComponent,r=window.Vue.normalizeProps,n=window.Vue.guardReactiveProps,i=window.Vue.openBlock,o=window.Vue.createBlock,a=window.Vue.createElementBlock,l={class:"header-remote"};const c=e(t,[["render",function(e,t,c,d,u,p){return i(),a("div",l,[(i(),o(s(p.currentView),r(n(e.$props)),null,16))])}]]);export{c as default};
