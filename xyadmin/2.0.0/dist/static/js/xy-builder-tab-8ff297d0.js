import{_ as a}from"./preload-helper-17f83b6a.js";import{l as e}from"./index-fd1f8ac9.js";import{_ as t}from"./_plugin-vue_export-helper-1b428a4d.js";const r=window.Vue.defineAsyncComponent,i={name:"XyBuilderTab",props:{api:"",header:{type:Object,default:()=>({cloudId:0,eid:0})},pitem:{type:Object,default:()=>({})},predata:""},data:()=>({loading:!1,ready:!1,tabData:{tabList:[],tabType:"card",countList:[]},tabCurrent:"tab_0"}),watch:{tabCurrent(a){let e=a.split("_")[1];this.getQueryParams(e)}},components:{XyBuilderTab:r((()=>new Promise(((e,t)=>{a((()=>Promise.resolve().then((()=>b))),void 0).then((a=>{e(a)}))})))),XyBuilderInfo:r((()=>new Promise(((e,t)=>{a((()=>import("./xy-builder-info-c11e8980.js").then((a=>a._))),["static/js/xy-builder-info-c11e8980.js","static/js/preload-helper-17f83b6a.js","static/js/button-0f185190.js","static/js/index-fd1f8ac9.js","static/js/_plugin-vue_export-helper-1b428a4d.js","static/css/xy-builder-info-2b5ac76c.css"]).then((a=>{e(a)}))})))),XyBuilderList:r((()=>new Promise(((e,t)=>{a((()=>import("./xy-builder-list-419ddace.js").then((a=>a._))),["static/js/xy-builder-list-419ddace.js","static/js/preload-helper-17f83b6a.js","static/js/index-fd1f8ac9.js","static/js/button-0f185190.js","static/js/_plugin-vue_export-helper-1b428a4d.js","static/js/util-f372957a.js","static/css/xy-builder-list-3a55addd.css"]).then((a=>{e(a)}))})))),XyBuilderForm:r((()=>new Promise(((e,t)=>{a((()=>import("./xy-builder-form-56b5876f.js").then((a=>a.a))),["static/js/xy-builder-form-56b5876f.js","static/js/preload-helper-17f83b6a.js","static/js/util-f372957a.js","static/js/index-fd1f8ac9.js","static/js/_plugin-vue_export-helper-1b428a4d.js","static/css/xy-builder-form-b1c8e5f5.css"]).then((a=>{e(a)}))}))))},async created(){this.predata?this.readyProcess(this.predata):await this.loadData(),this.getQueryParams(0)},methods:{getQueryParams(a){if(this.tabData.tabList[a].predata.stackList)for(let t of this.tabData.tabList[a].predata.stackList){let a="";t.pageData.api&&(a=t.pageData.api+t.pageData.apiParams);let r="";r="string"!=typeof t.pageData.queryParams?e.stringify(t.pageData.queryParams):0==t.pageData.queryParams.indexOf("?")?t.pageData.queryParams.substr(1):t.pageData.queryParams,r&&(a=a+"?"+r),t.pageData.apiBlank=a,t.pageData.show=!0}},tabClick(a,e){},readyProcess(a){a?(a.tabList.forEach((a=>{a.hasOwnProperty("show")||(a.show=!1),a.list.forEach((a=>{a.hasOwnProperty("predata")||(a.predata=""),a.hasOwnProperty("pageData")||(a.pageData={}),a.pageData.hasOwnProperty("count")||(a.pageData.count=0),a.pageData.hasOwnProperty("modalType")||(a.pageData.modalType="list"),a.pageData.hasOwnProperty("apiBlank")||(a.pageData.apiBlank=""),a.pageData.hasOwnProperty("api")||(a.pageData.api=""),a.pageData.hasOwnProperty("show")||(a.pageData.show=!1),a.pageData.hasOwnProperty("apiParams")||(a.pageData.apiParams=""),a.pageData.hasOwnProperty("queryParams")||(a.pageData.queryParams="")})),a.predata={stackList:a.list}})),this.tabData={...a}):alert("error tabData")},async loadData(a=""){if(""!=a&&(this.api=a),this.ready=!1,this.loading=!0,this.api){let a=await this.$xyutil.request({url:this.api,method:"get",header:this.header});"200"==a.code?this.readyProcess(a.data.tabData):this.$xyutil.showToast({title:a.msg,icon:"loading",duration:3e3})}this.loading=!1}}},o=window.Vue.renderList,s=window.Vue.Fragment,n=window.Vue.openBlock,p=window.Vue.createElementBlock,d=window.Vue.resolveComponent,l=window.Vue.createVNode,u=window.Vue.withCtx,h=window.Vue.createBlock,y=window.Vue.resolveDirective,w=window.Vue.withDirectives,m=window.Vue.normalizeClass;const c=t(i,[["render",function(a,e,t,r,i,c){const b=d("XyBuilderStack"),g=d("el-tab-pane"),_=d("el-tabs"),D=y("loading");return n(),p("div",{class:m(["xy-builder-comp xy-builder-wrap-tab",i.loading?"data-loading":""])},[w((n(),h(_,{size:"default","element-loading-text":"拼命加载中",type:i.tabData.tabType||"",animated:!1,modelValue:i.tabCurrent,"onUpdate:modelValue":e[0]||(e[0]=a=>i.tabCurrent=a),onTabClick:c.tabClick},{default:u((()=>[(n(!0),p(s,null,o(i.tabData.tabList,((a,e)=>(n(),h(g,{label:a.title,name:"tab_"+e,key:e},{default:u((()=>[l(b,{ref_for:!0,ref:"xy_builder_tab_innner_"+e,header:t.header,api:"",show:a.show,predata:a.predata},null,8,["header","show","predata"])])),_:2},1032,["label","name"])))),128))])),_:1},8,["type","modelValue","onTabClick"])),[[D,i.loading]])],2)}],["__scopeId","data-v-0c4f57fd"]]),b=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,{value:"Module"}));export{b as _};
