import{X as e}from"./xy-builder-form-72553370.js";import t from"./index-bacf8d9e.js";import{_ as r}from"./_plugin-vue_export-helper-1b428a4d.js";import"./preload-helper-17f83b6a.js";import"./util-a8f74a38.js";import"./index-d75135cf.js";import"./_commonjsHelpers-fb96ccea.js";const s={name:"XyBuilderFormRoute",components:{XyBuilderForm:e,BreadcurmbComp:t},data(){return{api:this.$route.meta.api}},created:function(){},beforeMount:function(){this.loadData()},methods:{closePage(){if(this.$store.state.tagsview.showNavtab){let e=this.$route;this.$store.dispatch("tagsview/delVisitedViews",{baseUrl:this.$store.state.app.baseUrl+this.$store.state.menu.currentSite,data:e}).then((e=>{let t="";for(var r in this.$store.state.tagsview.visitedviews)t=r;let s=this.$store.state.tagsview.visitedviews[t];s?this.$router.push(s.fullPath):this.$router.push("/"),this.$forceUpdate()}))}else this.$router.back(-1);this.refreshData()},loadData(){if("dyform"==this.$route.meta.dytype){let t=this.$route.meta.api;if(Object.keys(this.$route.params).length>0)for(var e in this.$route.params)t=t+"/"+this.$route.params[e];if(Object.keys(this.$route.query).length>0){let r="?";for(var e in this.$route.query)r=r+e+"="+this.$route.query[e]+"&";t+=r}this.api=t}},refreshData(){this.$refs.xy_builder.loadData()}},watch:{$route(){}}},o=window.Vue.resolveComponent,a=window.Vue.createVNode,i=window.Vue.openBlock,u=window.Vue.createElementBlock,h={class:"xy-builder-route"};const l=r(s,[["render",function(e,t,r,s,l,n){const d=o("BreadcurmbComp"),p=o("XyBuilderForm");return i(),u("div",h,[a(d,{onRefreshPage:n.refreshData},null,8,["onRefreshPage"]),a(p,{api:l.api,ref:"xy_builder",header:e.$route.meta.header,onClose:n.closePage,showDev:e.$store.state.app.showDev},null,8,["api","header","onClose","showDev"])])}]]);export{l as default};
