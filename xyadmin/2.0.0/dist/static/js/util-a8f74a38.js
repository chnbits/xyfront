let a={readyList:function(a,t={}){var e,r;a.listData.hasOwnProperty("config")||(a.listData={}),a.listData.config||(a.listData.config={}),a.listData.topButtonList.forEach((a=>{a.pageData.width?!1===isNaN(a.pageData.width)&&(a.pageData.width=a.pageData.width+"px"):a.pageData.width="800px",a.pageData.hasOwnProperty("height")||(a.pageData.height="auto"),a.pageData.hasOwnProperty("pageType")||(a.pageData.pageType="page"),a.pageData.hasOwnProperty("modalType")||(a.pageData.modalType="form"),a.pageData.hasOwnProperty("formMethod")||(a.pageData.formMethod="delete"),a.pageData.hasOwnProperty("show")||(a.pageData.show=!1),a.pageData.hasOwnProperty("path")||(a.pageData.path=""),a.pageData.hasOwnProperty("api")||(a.pageData.api=""),a.pageData.hasOwnProperty("apiBlank")||(a.pageData.apiBlank=""),a.pageData.hasOwnProperty("apiSuffix")||(a.pageData.apiSuffix=[]),a.pageData.hasOwnProperty("apiParams")||(a.pageData.apiParams=""),a.pageData.hasOwnProperty("querySuffix")||(a.pageData.querySuffix=[]),a.pageData.hasOwnProperty("queryParams")||(a.pageData.queryParams=""),a.pageData.hasOwnProperty("title")||(a.pageData.title=a.title),a.pageData.hasOwnProperty("content")||(a.pageData.content=""),a.pageData.hasOwnProperty("okText")||(a.pageData.okText=""),a.pageData.hasOwnProperty("cancelText")||(a.pageData.cancelText=""),a.pageData.hasOwnProperty("noRefresh")||(a.pageData.noRefresh=!1),a.pageData.hasOwnProperty("modalClosable")||(a.pageData.modalClosable=!1),a.pageData.hasOwnProperty("loading")||(a.pageData.loading=!1),a.pageData.hasOwnProperty("draggable")||(a.pageData.draggable=!1),a.pageData.hasOwnProperty("scrollable")||(a.pageData.scrollable=!0),a.pageData.outUrl&&t.hasOwnProperty("domainRoot")&&0!=a.pageData.outUrl.indexOf("http")&&(a.pageData.outUrl=t.domainRoot+a.pageData.outUrl);a.style=Object.assign({type:"primary",size:"default",shape:"default",icon:""},a.style),"primary"!=a.style.type&&(a.style.type="default"),"delete"==a.name&&(a.style.type="danger")})),a.listData.rightButtonList.forEach((a=>{a.pageData.width?!1===isNaN(a.pageData.width)&&(a.pageData.width=a.pageData.width+"px"):a.pageData.width="800px",a.pageData.hasOwnProperty("height")||(a.pageData.height="auto"),a.pageData.hasOwnProperty("pageType")||(a.pageData.pageType="page"),a.pageData.hasOwnProperty("modalType")||(a.pageData.modalType="form"),a.pageData.hasOwnProperty("formMethod")||(a.pageData.formMethod="delete"),a.pageData.hasOwnProperty("show")||(a.pageData.show=!1),a.pageData.hasOwnProperty("path")||(a.pageData.path=""),a.pageData.hasOwnProperty("api")||(a.pageData.api=""),a.pageData.hasOwnProperty("apiBlank")||(a.pageData.apiBlank=""),a.pageData.hasOwnProperty("apiSuffix")||(a.pageData.apiSuffix=["id"]),a.pageData.hasOwnProperty("apiParams")||(a.pageData.apiParams=""),a.pageData.hasOwnProperty("querySuffix")||(a.pageData.querySuffix=[]),a.pageData.hasOwnProperty("queryParams")||(a.pageData.queryParams=""),a.pageData.hasOwnProperty("title")||(a.pageData.title=a.title),a.pageData.hasOwnProperty("content")||(a.pageData.content=""),a.pageData.hasOwnProperty("okText")||(a.pageData.okText=""),a.pageData.hasOwnProperty("cancelText")||(a.pageData.cancelText=""),a.pageData.hasOwnProperty("noRefresh")||(a.pageData.noRefresh=!1),a.pageData.hasOwnProperty("modalClosable")||(a.pageData.modalClosable=!1),a.pageData.hasOwnProperty("loading")||(a.pageData.loading=!1),a.pageData.hasOwnProperty("draggable")||(a.pageData.draggable=!1),a.pageData.hasOwnProperty("scrollable")||(a.pageData.scrollable=!0),a.pageData.outUrl&&t.hasOwnProperty("domainRoot")&&0!=a.pageData.outUrl.indexOf("http")&&(a.pageData.outUrl=t.domainRoot+a.pageData.outUrl);a.style=Object.assign({type:"primary",size:"small",shape:"default",icon:""},a.style),"delete"==a.name&&(a.style.type="danger"),a.style.type="primary"})),a.hasOwnProperty("config")&&(null==(e=a.config)?void 0:e.listSelectType)&&(a.listData.dataListParams.selectType=null==(r=a.config)?void 0:r.listSelectType),a.listData.columns.forEach(((a,t)=>{if(a.index=t,a.hasOwnProperty("extra")||(a.extra={}),a.hasOwnProperty("pname")||(a.pname=0),a.extra.hasOwnProperty("template")&&(a.extra.type=a.extra.template),a.extra.hasOwnProperty("type")||(a.extra.type="text"),a.extra.hasOwnProperty("extend")||(a.extra.extend={}),a.extra.hasOwnProperty("width")||(a.extra.width=""),a.extra.hasOwnProperty("minWidth")||(a.extra.minWidth=""),a.extra.hasOwnProperty("show")||(a.extra.show=!0),a.extra.hasOwnProperty("loading")||(a.extra.loading=!1),a.extra.hasOwnProperty("options")||(a.extra.options=[]),a.extra.hasOwnProperty("show")||("password"==a.extra.type?a.extra.show=!1:a.extra.show=!0),a.extra.options){if(a.extra.optionsOriginal={...a.extra.options},"string"==typeof a.extra.options){let t=this.$xyutil.isJson(a.extra.options);!1===t?t=a.extra.options:a.extra.options=t}let t=[];for(let e in a.extra.options){let r=a.extra.options[e];!1===isNaN(e)&&(e=parseInt(e)),"object"==typeof r?(r.hasOwnProperty("value")||(r.value=e),t.push(r)):t.push({title:r,value:e})}a.extra.options=t}else a.extra.options=[]}));return a.listData.columns=((a,t)=>{let e={};return a.forEach((a=>{a.children=[],e[a.name]=a})),a.filter((a=>a.pname===t||(e[a.pname].children.push(a),!1)))})(a.listData.columns,0),a.listData.filterValues={},a.listData.filterItems.forEach((t=>{if(t.hasOwnProperty("extra")||(t.extra={}),t.extra.hasOwnProperty("placeholder")||(t.extra.placeholder=""),t.extra.hasOwnProperty("tip")||(t.extra.tip=""),t.extra.hasOwnProperty("position")||(t.extra.position="left"),t.extra.options){if("string"==typeof t.extra.options){let a=this.$xyutil.isJson(t.extra.options);!1===a?a=t.extra.options:t.extra.options=a}let a=[];for(let e in t.extra.options){let r=t.extra.options[e];!1===isNaN(e)&&(e=parseInt(e)),"object"==typeof r?(r.hasOwnProperty("value")||(r.value=e),a.push(r)):a.push({title:r,value:e})}t.extra.options=a}else t.extra.options=[];["radio","switch","select"].includes(t.type)&&(t.value||(t.value=""),t.extra.options[0]&&"number"==typeof t.extra.options[0].value?""!==t.value&&(t.value=parseInt(t.value)):t.value=t.value.toString());["selects","checkbox"].includes(t.type)&&(t.value||(t.value=[]),t.value.forEach((a=>{t.extra.options[0]&&"number"==typeof t.extra.options[0].value?""!==a&&(a=parseInt(a)):a=a.toString()}))),a.listData.filterValues[t.name]=t.value})),a.hasOwnProperty("filterValues")&&(a.filterValues=a.listData.filterValues),a},readyForm:function(a){var t,e,r;a.formData.formValues.constructor===Array&&(a.formData.formValues={});let o={};a.formData.alertList||(a.formData.alertList={}),a.formData.alertList.top||(a.formData.alertList.top=[]),a.formData.alertList.top.forEach((a=>{a.show||(a.show=!1)})),a.formData.alertList.bottom||(a.formData.alertList.bottom=[]),a.formData.alertList.bottom.forEach((a=>{a.show||(a.show=!1)})),a.formData.config||(a.formData.config={}),a.formData.formCols||(a.formData.formCols=[]),a.formData.formGroups||(a.formData.formGroups=[]),a.formData.itemValues||(a.formData.itemValues={});let p=[];if(a.formData.formGroups.forEach((a=>{p=p.concat(a.itemList)})),a.formData.formCols.forEach(((a,t,e)=>{})),a.formData.formTabs.length>0)for(const s in a.formData.formTabs)if(a.formData.formTabs[s].hasOwnProperty("formItems"))for(const e in a.formData.formTabs[s].formItems){const r=a.formData.formTabs[s].formItems[e];["static","divider"].includes(r.type)||("tabs"==r.type||(a.formData.itemValues[a.formData.formTabs[s].name]&&(null==(t=a.formData.itemValues[a.formData.formTabs[s].name])?void 0:t.tabValues.hasOwnProperty(r.name))&&(a.formData.formTabs[s].formItems[e].value=a.formData.itemValues[a.formData.formTabs[s].name].tabValues[r.name]),o[a.formData.formTabs[s].name]||(o[a.formData.formTabs[s].name]={tabValues:{}}),o[a.formData.formTabs[s].name].tabValues[r.name]=a.formData.formTabs[s].formItems[e].value))}for(const s in a.formData.formItems){(null==(r=null==(e=a.formData.formItems[s])?void 0:e.extra)?void 0:r.position)||(a.formData.formItems[s].extra.position=a.formData.config.itemDefaultPosition);const t=a.formData.formItems[s];let n=["static","divider","link"];if(a.formData.formItems[s].extra||(a.formData.formItems[s].extra={}),a.formData.formItems[s].extra.hasOwnProperty("condition")&&a.formData.formItems[s].extra.condition.length>0&&(a.formData.formItems[s].extra.con=a.formData.formItems[s].extra.condition),a.formData.formItems[s].extra.hide||(a.formData.formItems[s].extra.hide=!1),"tabs"==t.type)for(const e in a.formData.formItems[s].extra.options)for(const r in a.formData.formItems[s].extra.options[e].options){const o=a.formData.formItems[s].extra.options[e].options[r];a.formData.itemValues.hasOwnProperty(o.name)&&(a.formData.formItems[s].extra.options[e].options[r].value=a.formData.itemValues[t.name]),n.includes(o.type)||(a.formData.formValues[t.name]=a.formData.formItems[s].extra.options[e].options[r].value)}else a.formData.itemValues.hasOwnProperty(t.name)&&(a.formData.formItems[s].value=a.formData.itemValues[t.name]),n.includes(t.type)||(o[t.name]=a.formData.formItems[s].value);t.extra.formGroup?(a.formData.formGroups.forEach(((a,e,r)=>{a.name==t.extra.formGroup&&r[e].itemList.push(t.name)})),a.formData.formItems[s].extra.inGroup=!0):p.includes(t.name)?a.formData.formItems[s].extra.inGroup=!0:a.formData.formItems[s].extra.inGroup=!1}return a.formData.formValues={...o},a}};export{a as u};
